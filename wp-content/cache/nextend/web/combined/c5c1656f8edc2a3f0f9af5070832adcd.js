function N2EventBurrito(e,t){function n(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}function i(e,t,n,i){return t?(e.addEventListener?e.addEventListener(t,n,i):e.attachEvent("on"+t,n),{remove:function(){r(e,t,n,i)}}):void 0}function r(e,t,n,i){t&&(e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent("on"+t,n))}function o(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function a(e){if(P={x:(p?e.clientX:e.touches[0].clientX)-b.x,y:(p?e.clientY:e.touches[0].clientY)-b.y,time:Number(new Date)-b.time},P.time-m[m.length-1].time){for(var t=0;t<m.length-1&&P.time-m[t].time>80;t++);A={x:(P.x-m[t].x)/(P.time-m[t].time),y:(P.y-m[t].y)/(P.time-m[t].time)},m.length>=5&&m.shift(),m.push({x:P.x,y:P.y,time:P.time})}}function s(e,t){G=!0,p=t,g[p](e)||B(e.target)||(i(document,C[p][1],T,"touchmove"==C[p][1]?{passive:!1}:!1),i(document,C[p][2],l,!1),i(document,C[p][3],l,!1),h.preventDefault&&p&&o(e),b={x:p?e.clientX:e.touches[0].clientX,y:p?e.clientY:e.touches[0].clientY,time:Number(new Date)},S=void 0,d=!1,P={x:0,y:0,time:0},A={x:0,y:0},m=[{x:0,y:0,time:0}],h.start(e,b),T(e))}function T(e){"x"==h.axis&&(!h.preventScroll&&S||g[p](e))||B(e.target)||(a(e),(Math.abs(P.x)>h.clickTolerance||Math.abs(P.y)>h.clickTolerance)&&(G=!1),void 0===S&&3!==p&&(S=Math.abs(P.x)<Math.abs(P.y)&&!h.preventScroll)||h.move(e,b,P,A,d)&&h.preventDefault&&o(e))}function l(e){p&&a(e),!G&&e.target&&e.target.blur&&e.target.blur(),r(document,C[p][1],T,"touchmove"==C[p][1]?{passive:!1}:!1),r(document,C[p][2],l,!1),r(document,C[p][3],l,!1),h.end(e,b,P,A,d),d=!1}function u(){(!n2const.isIOS||n2const.IOSVersion<10)&&M.push(i(document,"scroll",function(e){d=!0})),M.push(i(e,C[v][0],function(e){s(e,v)})),M.push(i(e,"dragstart",o)),h.mouse&&!v&&M.push(i(e,C[3][0],function(e){s(e,3)})),M.push(i(e,"click",function(e){G?h.click(e):o(e)}))}var c=function(){return!0},h={preventDefault:!0,clickTolerance:0,preventScroll:!1,mouse:!0,axis:"x",start:c,move:c,end:c,click:c};t&&n(h,t);var S,d,p,f={pointerEvents:!!window.navigator.pointerEnabled,msPointerEvents:!!window.navigator.msPointerEnabled},b={},P={},A={},m=[],M=[],G=!0,v=f.pointerEvents?1:f.msPointerEvents?2:0,C=[["touchstart","touchmove","touchend","touchcancel"],["pointerdown","pointermove","pointerup","pointercancel"],["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerCancel"],["mousedown","mousemove","mouseup",!1]],g=[function(e){return e.touches&&e.touches.length>1||e.scale&&1!==e.scale},function(e){return!e.isPrimary||e.buttons&&1!==e.buttons||!h.mouse&&"touch"!==e.pointerType&&"pen"!==e.pointerType},function(e){return!e.isPrimary||e.buttons&&1!==e.buttons||!h.mouse&&e.pointerType!==e.MSPOINTER_TYPE_TOUCH&&e.pointerType!==e.MSPOINTER_TYPE_PEN},function(e){return e.buttons&&1!==e.buttons}],B=function(e){var t=e.tagName;return!("INPUT"!=t&&"TEXTAREA"!=t&&"SELECT"!=t&&"BUTTON"!=t&&"VIDEO"!=t&&!n2(e).hasClass("n2-scrollable")&&!n2(e).closest(".n2-scrollable").length)};return u(),{getClicksAllowed:function(){return G},kill:function(){for(var e=M.length-1;e>=0;e--)M[e].remove()}}}if(window.n2c=function(e){var t=!1,n={logs:[],errors:[],warns:[],infos:[]};return{log:function(){n.logs.push(arguments),t&&e.log&&e.log.apply(e,arguments)},warn:function(){n.warns.push(arguments),t&&e.warn&&e.warn.apply(e,arguments)},error:function(){n.errors.push(arguments),t&&e.error&&e.error.apply(e,arguments)},info:function(i){n.infos.push(arguments),t&&e.info&&e.info.apply(e,arguments)},debug:function(e){t=e},logArray:function(){return n}}}(window.console),window.n2const={isIOS:/iPad|iPhone|iPod/.test(navigator.platform),isEdge:/Edge\/\d./i.test(navigator.userAgent),isFirefox:navigator.userAgent.toLowerCase().indexOf("firefox")>-1,isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Silk/i.test(navigator.userAgent),isPhone:/Android/i.test(navigator.userAgent)&&/mobile/i.test(navigator.userAgent)||/webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isTablet:/Android|iPad|tablet|Silk/i.test(navigator.userAgent),isIE:function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);var n=e.indexOf("Trident/");if(n>0){var i=e.indexOf("rv:");return parseInt(e.substring(i+3,e.indexOf(".",i)),10)}var r=e.indexOf("Edge/");return r>0?parseInt(e.substring(r+5,e.indexOf(".",r)),10):!1}()},window.n2const.isIOS){var match=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);match?window.n2const.IOSVersion=match[1]:window.n2const.IOSVersion=100}window.n2const.isPhone&&(window.n2const.isTablet=!1),nextend.isRetina=function(){return window.matchMedia&&(window.matchMedia("only screen and (min-resolution: 192dpi), only screen and (min-resolution: 2dppx), only screen and (min-resolution: 75.6dpcm)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 2), only screen and (-o-min-device-pixel-ratio: 2/1), only screen and (min--moz-device-pixel-ratio: 2), only screen and (min-device-pixel-ratio: 2)").matches)||window.devicePixelRatio&&window.devicePixelRatio>=2}(),String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},window.n2passiveEvents=!1;try{var opts=Object.defineProperty({},"passive",{get:function(){window.n2passiveEvents=!0}});window.addEventListener("test",null,opts)}catch(e){}nextend.triggerResize=function(e){var t=100,n=null,i=e(window);return function(){n&&clearTimeout(n),n=setTimeout(function(){i.trigger("resize"),n=null},t)}}(n2),nextend.shouldPreventClick=!1,nextend.preventClick=function(){nextend.shouldPreventClick||(nextend.shouldPreventClick=!0,setTimeout(function(){nextend.shouldPreventClick=!1},300))},nextend.shouldPreventMouseUp=!1,nextend.preventMouseUp=function(){nextend.shouldPreventMouseUp||(nextend.shouldPreventMouseUp=!0,setTimeout(function(){nextend.shouldPreventMouseUp=!1},300))},nextend.rtl={isRtl:!1,marginLeft:"marginLeft",marginRight:"marginRight",left:"left",right:"right",next:"next",previous:"previous",modifier:1};var isRtl=!1,initRtl=function(){"rtl"==n2("html").attr("dir")&&(isRtl=!0,nextend.rtl={isRtl:!0,marginLeft:"marginRight",marginRight:"marginLeft",left:"right",right:"left",next:"previous",previous:"next",modifier:-1})};nextend.isRTL=function(){return isRtl},nextend.ready(initRtl),Array.prototype.filter||(Array.prototype.filter=function(e){"use strict";if(void 0===this||null===this)throw new TypeError;var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var i=[],r=arguments[1],o=0;n>o;o++)if(o in t){var a=t[o];e.call(r,a,o,t)&&i.push(a)}return i}),"function"!=typeof Object.create&&(Object.create=function(){var e=function(){};return function(t){if(arguments.length>1)throw Error("Second argument not supported");if("object"!=typeof t)throw TypeError("Argument must be an object");e.prototype=t;var n=new e;return e.prototype=null,n}}());var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,n,i,r,o,a,s,T="",l=0;for(e=Base64._utf8_encode(e);l<e.length;)t=e.charCodeAt(l++),n=e.charCodeAt(l++),i=e.charCodeAt(l++),r=t>>2,o=(3&t)<<4|n>>4,a=(15&n)<<2|i>>6,s=63&i,isNaN(n)?a=s=64:isNaN(i)&&(s=64),T=T+this._keyStr.charAt(r)+this._keyStr.charAt(o)+this._keyStr.charAt(a)+this._keyStr.charAt(s);return T},decode:function(e){var t,n,i,r,o,a,s,T="",l=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<e.length;)r=this._keyStr.indexOf(e.charAt(l++)),o=this._keyStr.indexOf(e.charAt(l++)),a=this._keyStr.indexOf(e.charAt(l++)),s=this._keyStr.indexOf(e.charAt(l++)),t=r<<2|o>>4,n=(15&o)<<4|a>>2,i=(3&a)<<6|s,T+=String.fromCharCode(t),64!=a&&(T+=String.fromCharCode(n)),64!=s&&(T+=String.fromCharCode(i));return T=Base64._utf8_decode(T)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);128>i?t+=String.fromCharCode(i):i>127&&2048>i?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t},_utf8_decode:function(e){for(var t="",n=0,i=c1=c2=0;n<e.length;)i=e.charCodeAt(n),128>i?(t+=String.fromCharCode(i),n++):i>191&&224>i?(c2=e.charCodeAt(n+1),t+=String.fromCharCode((31&i)<<6|63&c2),n+=2):(c2=e.charCodeAt(n+1),c3=e.charCodeAt(n+2),t+=String.fromCharCode((15&i)<<12|(63&c2)<<6|63&c3),n+=3);return t}};window.Base64=Base64,!function(e,t){e(function(){"use strict";function e(e,t){return null!=e&&null!=t&&e.toLowerCase()===t.toLowerCase()}function n(e,t){var n,i,r=e.length;if(!r||!t)return!1;for(n=t.toLowerCase(),i=0;r>i;++i)if(n===e[i].toLowerCase())return!0;return!1}function i(e){for(var t in e)s.call(e,t)&&(e[t]=new RegExp(e[t],"i"))}function r(e,t){this.ua=e||"",this._cache={},this.maxPhoneWidth=t||600}var o={};o.mobileDetectRules={phones:{iPhone:"\\biPhone\\b|\\biPod\\b",BlackBerry:"BlackBerry|\\bBB10\\b|rim[0-9]+",HTC:"HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\\bEVO\\b|T-Mobile G1|Z520m",Nexus:"Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6",Dell:"Dell.*Streak|Dell.*Aero|Dell.*Venue|DELL.*Venue Pro|Dell Flash|Dell Smoke|Dell Mini 3iX|XCD28|XCD35|\\b001DL\\b|\\b101DL\\b|\\bGS01\\b",Motorola:"Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b",Samsung:"Samsung|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|GT-N7105|SCH-I535|SM-N900A|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205",LG:"\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802)",Sony:"SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533",Asus:"Asus.*Galaxy|PadFone.*Mobile",Micromax:"Micromax.*\\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\\b",Palm:"PalmSource|Palm",Vertu:"Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature",Pantech:"PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|P2000|P7040|P7000|C790",Fly:"IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250",Wiko:"KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|SUNSET|GOA|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|CINK KING|CINK PEAX|CINK SLIM|SUBLIM",iMobile:"i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)",SimValley:"\\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\\b",Wolfgang:"AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q",Alcatel:"Alcatel",Nintendo:"Nintendo 3DS",Amoi:"Amoi",INQ:"INQ",GenericPhone:"Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|up.link|vodafone|\\bwap\\b|nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser"},tablets:{iPad:"iPad|iPad.*Mobile",NexusTablet:"Android.*Nexus[\\s]+(7|9|10)",SamsungTablet:"SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|SHV-E230S|SHW-M180K|SHW-M180L|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|SM-P601|SM-P605|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T330|SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-P550|SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T360|SM-T533",Kindle:"Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI)\\b",SurfaceTablet:"Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)",HPTablet:"HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10",AsusTablet:"^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|ME560CG|ME372CG|ME302KL| K010 | K017 |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|ME581CL|ME8510C|ME181C",BlackBerryTablet:"PlayBook|RIM Tablet",HTCtablet:"HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410",MotorolaTablet:"xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617",NookTablet:"Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2",AcerTablet:"Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b",ToshibaTablet:"Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO",LGTablet:"\\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\\b",FujitsuTablet:"Android.*\\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\\b",PrestigioTablet:"PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|PMT5887|PMT5001|PMT5002",LenovoTablet:"Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|B8000|B8080)(-|)(FL|F|HV|H|)",DellTablet:"Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7",YarvikTablet:"Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b",MedionTablet:"Android.*\\bOYO\\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB",ArnovaTablet:"AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2",IntensoTablet:"INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004",IRUTablet:"M702pro",MegafonTablet:"MegaFon V9|\\bZTE V9\\b|Android.*\\bMT7A\\b",EbodaTablet:"E-Boda (Supreme|Impresspeed|Izzycomm|Essential)",AllViewTablet:"Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)",ArchosTablet:"\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|)(G10| Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b",AinolTablet:"NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark",SonyTablet:"Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP612|SOT31",PhilipsTablet:"\\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\\b",CubeTablet:"Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT",CobyTablet:"MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010",MIDTablet:"M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733",MSITablet:"MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b",SMiTTablet:"Android.*(\\bMID\\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)",RockChipTablet:"Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A",FlyTablet:"IQ310|Fly Vision",bqTablet:"Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|Livingstone|Cervantes|Avant|Aquaris E10)|Maxwell.*Lite|Maxwell.*Plus",HuaweiTablet:"MediaPad|MediaPad 7 Youth|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|S7-201|S7-Slim",NecTablet:"\\bN-06D|\\bN-08D",PantechTablet:"Pantech.*P4100",BronchoTablet:"Broncho.*(N701|N708|N802|a710)",VersusTablet:"TOUCHPAD.*[78910]|\\bTOUCHTAB\\b",ZyncTablet:"z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900",PositivoTablet:"TB07STA|TB10STA|TB07FTA|TB10FTA",NabiTablet:"Android.*\\bNabi",KoboTablet:"Kobo Touch|\\bK080\\b|\\bVox\\b Build|\\bArc\\b Build",DanewTablet:"DSlide.*\\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\\b",TexetTablet:"NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|TB-436|TB-416|TB-146SE|TB-126SE",PlaystationTablet:"Playstation.*(Portable|Vita)",TrekstorTablet:"ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab",PyleAudioTablet:"\\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\\b",AdvanTablet:"Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b ",DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:"Android.*\\bG1\\b",MicromaxTablet:"Funbook|Micromax.*\\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\\b",KarbonnTablet:"Android.*\\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\\b",AllFineTablet:"Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide",PROSCANTablet:"\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b",YONESTablet:"BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026",ChangJiaTablet:"TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|TPC10111|TPC10203|TPC10205|TPC10503",GUTablet:"TX-A1301|TX-M9002|Q702|kf026",PointOfViewTablet:"TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10",OvermaxTablet:"OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|MagicTab|Stream|TB-08|TB-09)",HCLTablet:"HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync",DPSTablet:"DPS Dream 9|DPS Dual 7",VistureTablet:"V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10",CrestaTablet:"CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989",MediatekTablet:"\\bMT8125|MT8389|MT8135|MT8377\\b",ConcordeTablet:"Concorde([ ]+)?Tab|ConCorde ReadMan",GoCleverTablet:"GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|TAB R104|TAB R83.3|TAB A1042",ModecomTablet:"FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003",VoninoTablet:"\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b",ECSTablet:"V07OT2|TM105A|S10OT1|TR10CS1",StorexTablet:"eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab",VodafoneTablet:"SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7",EssentielBTablet:"Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2",RossMoorTablet:"RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711",iMobileTablet:"i-mobile i-note",TolinoTablet:"tolino tab [0-9.]+|tolino shine",AudioSonicTablet:"\\bC-22Q|T7-QC|T-17B|T-17P\\b",AMPETablet:"Android.* A78 ",SkkTablet:"Android.* (SKYPAD|PHOENIX|CYCLOPS)",TecnoTablet:"TECNO P9",JXDTablet:"Android.*\\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|P1000|P300|S18|S6600|S9100)\\b",iJoyTablet:"Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)",FX2Tablet:"FX2 PAD7|FX2 PAD10",XoroTablet:"KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151",ViewsonicTablet:"ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a",OdysTablet:"LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\\bXELIO\\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10",CaptivaTablet:"CAPTIVA PAD",IconbitTablet:"NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S",TeclastTablet:"T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi",
OndaTablet:"\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|Vi40)\\b[\\s]+",JaytechTablet:"TPC-PA762",BlaupunktTablet:"Endeavour 800NG|Endeavour 1010",DigmaTablet:"\\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\\b",EvolioTablet:"ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\\bEvotab\\b|\\bNeura\\b",LavaTablet:"QPAD E704|\\bIvoryS\\b|E-TAB IVORY|\\bE-TAB\\b",CelkonTablet:"CT695|CT888|CT[\\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\\bCT-1\\b",WolderTablet:"miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b",MiTablet:"\\bMI PAD\\b|\\bHM NOTE 1W\\b",NibiruTablet:"Nibiru M1|Nibiru Jupiter One",NexoTablet:"NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI",LeaderTablet:"TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100",UbislateTablet:"UbiSlate[\\s]?7C",PocketBookTablet:"Pocketbook",Hudl:"Hudl HT7S3",TelstraTablet:"T-Hub2",GenericTablet:"Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bJolla\\b|\\bTP750\\b"},oss:{AndroidOS:"Android",BlackBerryOS:"blackberry|\\bBB10\\b|rim tablet os",PalmOS:"PalmOS|avantgo|blazer|elaine|hiptop|palm|plucker|xiino",SymbianOS:"Symbian|SymbOS|Series60|Series40|SYB-[0-9]+|\\bS60\\b",WindowsMobileOS:"Windows CE.*(PPC|Smartphone|Mobile|[0-9]{3}x[0-9]{3})|Window Mobile|Windows Phone [0-9.]+|WCE;",WindowsPhoneOS:"Windows Phone 8.1|Windows Phone 8.0|Windows Phone OS|XBLWP7|ZuneWP7|Windows NT 6.[23]; ARM;",iOS:"\\biPhone.*Mobile|\\biPod|\\biPad",MeeGoOS:"MeeGo",MaemoOS:"Maemo",JavaOS:"J2ME/|\\bMIDP\\b|\\bCLDC\\b",webOS:"webOS|hpwOS",badaOS:"\\bBada\\b",BREWOS:"BREW"},uas:{Chrome:"\\bCrMo\\b|CriOS|Android.*Chrome/[.0-9]* (Mobile)?",Dolfin:"\\bDolfin\\b",Opera:"Opera.*Mini|Opera.*Mobi|Android.*Opera|Mobile.*OPR/[0-9.]+|Coast/[0-9.]+",Skyfire:"Skyfire",IE:"IEMobile|MSIEMobile",Firefox:"fennec|firefox.*maemo|(Mobile|Tablet).*Firefox|Firefox.*Mobile",Bolt:"bolt",TeaShark:"teashark",Blazer:"Blazer",Safari:"Version.*Mobile.*Safari|Safari.*Mobile|MobileSafari",Tizen:"Tizen",UCBrowser:"UC.*Browser|UCWEB",baiduboxapp:"baiduboxapp",baidubrowser:"baidubrowser",DiigoBrowser:"DiigoBrowser",Puffin:"Puffin",Mercury:"\\bMercury\\b",ObigoBrowser:"Obigo",NetFront:"NF-Browser",GenericBrowser:"NokiaBrowser|OviBrowser|OneBrowser|TwonkyBeamBrowser|SEMC.*Browser|FlyFlow|Minimo|NetFront|Novarra-Vision|MQQBrowser|MicroMessenger"},props:{Mobile:"Mobile/[VER]",Build:"Build/[VER]",Version:"Version/[VER]",VendorID:"VendorID/[VER]",iPad:"iPad.*CPU[a-z ]+[VER]",iPhone:"iPhone.*CPU[a-z ]+[VER]",iPod:"iPod.*CPU[a-z ]+[VER]",Kindle:"Kindle/[VER]",Chrome:["Chrome/[VER]","CriOS/[VER]","CrMo/[VER]"],Coast:["Coast/[VER]"],Dolfin:"Dolfin/[VER]",Firefox:"Firefox/[VER]",Fennec:"Fennec/[VER]",IE:["IEMobile/[VER];","IEMobile [VER]","MSIE [VER];","Trident/[0-9.]+;.*rv:[VER]"],NetFront:"NetFront/[VER]",NokiaBrowser:"NokiaBrowser/[VER]",Opera:[" OPR/[VER]","Opera Mini/[VER]","Version/[VER]"],"Opera Mini":"Opera Mini/[VER]","Opera Mobi":"Version/[VER]","UC Browser":"UC Browser[VER]",MQQBrowser:"MQQBrowser/[VER]",MicroMessenger:"MicroMessenger/[VER]",baiduboxapp:"baiduboxapp/[VER]",baidubrowser:"baidubrowser/[VER]",Iron:"Iron/[VER]",Safari:["Version/[VER]","Safari/[VER]"],Skyfire:"Skyfire/[VER]",Tizen:"Tizen/[VER]",Webkit:"webkit[ /][VER]",Gecko:"Gecko/[VER]",Trident:"Trident/[VER]",Presto:"Presto/[VER]",iOS:" \\bi?OS\\b [VER][ ;]{1}",Android:"Android [VER]",BlackBerry:["BlackBerry[\\w]+/[VER]","BlackBerry.*Version/[VER]","Version/[VER]"],BREW:"BREW [VER]",Java:"Java/[VER]","Windows Phone OS":["Windows Phone OS [VER]","Windows Phone [VER]"],"Windows Phone":"Windows Phone [VER]","Windows CE":"Windows CE/[VER]","Windows NT":"Windows NT [VER]",Symbian:["SymbianOS/[VER]","Symbian/[VER]"],webOS:["webOS/[VER]","hpwOS/[VER];"]},utils:{Bot:"Googlebot|facebookexternalhit|AdsBot-Google|Google Keyword Suggestion|Facebot|YandexBot|bingbot|ia_archiver|AhrefsBot|Ezooms|GSLFbot|WBSearchBot|Twitterbot|TweetmemeBot|Twikle|PaperLiBot|Wotbox|UnwindFetchor|Exabot|MJ12bot|YandexImages|TurnitinBot|Pingdom",MobileBot:"Googlebot-Mobile|AdsBot-Google-Mobile|YahooSeeker/M1A1-R2D2",DesktopMode:"WPDesktop",TV:"SonyDTV|HbbTV",WebKit:"(webkit)[ /]([\\w.]+)",Console:"\\b(Nintendo|Nintendo WiiU|Nintendo 3DS|PLAYSTATION|Xbox)\\b",Watch:"SM-V700"}},o.detectMobileBrowsers={fullPattern:/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,shortPattern:/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,tabletPattern:/android|ipad|playbook|silk/i};var a,s=Object.prototype.hasOwnProperty;return o.FALLBACK_PHONE="UnknownPhone",o.FALLBACK_TABLET="UnknownTablet",o.FALLBACK_MOBILE="UnknownMobile",a="isArray"in Array?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},function(){var e,t,n,r,T,l,u=o.mobileDetectRules;for(e in u.props)if(s.call(u.props,e)){for(t=u.props[e],a(t)||(t=[t]),T=t.length,r=0;T>r;++r)n=t[r],l=n.indexOf("[VER]"),l>=0&&(n=n.substring(0,l)+"([\\w._\\+]+)"+n.substring(l+5)),t[r]=new RegExp(n,"i");u.props[e]=t}i(u.oss),i(u.phones),i(u.tablets),i(u.uas),i(u.utils),u.oss0={WindowsPhoneOS:u.oss.WindowsPhoneOS,WindowsMobileOS:u.oss.WindowsMobileOS}}(),o.findMatch=function(e,t){for(var n in e)if(s.call(e,n)&&e[n].test(t))return n;return null},o.findMatches=function(e,t){var n=[];for(var i in e)s.call(e,i)&&e[i].test(t)&&n.push(i);return n},o.getVersionStr=function(e,t){var n,i,r,a,T=o.mobileDetectRules.props;if(s.call(T,e))for(n=T[e],r=n.length,i=0;r>i;++i)if(a=n[i].exec(t),null!==a)return a[1];return null},o.getVersion=function(e,t){var n=o.getVersionStr(e,t);return n?o.prepareVersionNo(n):NaN},o.prepareVersionNo=function(e){var t;return t=e.split(/[a-z._ \/\-]/i),1===t.length&&(e=t[0]),t.length>1&&(e=t[0]+".",t.shift(),e+=t.join("")),Number(e)},o.isMobileFallback=function(e){return o.detectMobileBrowsers.fullPattern.test(e)||o.detectMobileBrowsers.shortPattern.test(e.substr(0,4))},o.isTabletFallback=function(e){return o.detectMobileBrowsers.tabletPattern.test(e)},o.prepareDetectionCache=function(e,n,i){if(e.mobile===t){var a,s,T;return(s=o.findMatch(o.mobileDetectRules.tablets,n))?(e.mobile=e.tablet=s,void(e.phone=null)):(a=o.findMatch(o.mobileDetectRules.phones,n))?(e.mobile=e.phone=a,void(e.tablet=null)):void(o.isMobileFallback(n)?(T=r.isPhoneSized(i),T===t?(e.mobile=o.FALLBACK_MOBILE,e.tablet=e.phone=null):T?(e.mobile=e.phone=o.FALLBACK_PHONE,e.tablet=null):(e.mobile=e.tablet=o.FALLBACK_TABLET,e.phone=null)):o.isTabletFallback(n)?(e.mobile=e.tablet=o.FALLBACK_TABLET,e.phone=null):e.mobile=e.tablet=e.phone=null)}},o.mobileGrade=function(e){var t=null!==e.mobile();return e.os("iOS")&&e.version("iPad")>=4.3||e.os("iOS")&&e.version("iPhone")>=3.1||e.os("iOS")&&e.version("iPod")>=3.1||e.version("Android")>2.1&&e.is("Webkit")||e.version("Windows Phone OS")>=7||e.is("BlackBerry")&&e.version("BlackBerry")>=6||e.match("Playbook.*Tablet")||e.version("webOS")>=1.4&&e.match("Palm|Pre|Pixi")||e.match("hp.*TouchPad")||e.is("Firefox")&&e.version("Firefox")>=12||e.is("Chrome")&&e.is("AndroidOS")&&e.version("Android")>=4||e.is("Skyfire")&&e.version("Skyfire")>=4.1&&e.is("AndroidOS")&&e.version("Android")>=2.3||e.is("Opera")&&e.version("Opera Mobi")>11&&e.is("AndroidOS")||e.is("MeeGoOS")||e.is("Tizen")||e.is("Dolfin")&&e.version("Bada")>=2||(e.is("UC Browser")||e.is("Dolfin"))&&e.version("Android")>=2.3||e.match("Kindle Fire")||e.is("Kindle")&&e.version("Kindle")>=3||e.is("AndroidOS")&&e.is("NookTablet")||e.version("Chrome")>=11&&!t||e.version("Safari")>=5&&!t||e.version("Firefox")>=4&&!t||e.version("MSIE")>=7&&!t||e.version("Opera")>=10&&!t?"A":e.os("iOS")&&e.version("iPad")<4.3||e.os("iOS")&&e.version("iPhone")<3.1||e.os("iOS")&&e.version("iPod")<3.1||e.is("Blackberry")&&e.version("BlackBerry")>=5&&e.version("BlackBerry")<6||e.version("Opera Mini")>=5&&e.version("Opera Mini")<=6.5&&(e.version("Android")>=2.3||e.is("iOS"))||e.match("NokiaN8|NokiaC7|N97.*Series60|Symbian/3")||e.version("Opera Mobi")>=11&&e.is("SymbianOS")?"B":(e.version("BlackBerry")<5||e.match("MSIEMobile|Windows CE.*Mobile")||e.version("Windows Mobile")<=5.2,"C")},o.detectOS=function(e){return o.findMatch(o.mobileDetectRules.oss0,e)||o.findMatch(o.mobileDetectRules.oss,e)},o.getDeviceSmallerSide=function(){return window.screen.width<window.screen.height?window.screen.width:window.screen.height},r.prototype={constructor:r,mobile:function(){return o.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.mobile},phone:function(){return o.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.phone},tablet:function(){return o.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.tablet},userAgent:function(){return this._cache.userAgent===t&&(this._cache.userAgent=o.findMatch(o.mobileDetectRules.uas,this.ua)),this._cache.userAgent},userAgents:function(){return this._cache.userAgents===t&&(this._cache.userAgents=o.findMatches(o.mobileDetectRules.uas,this.ua)),this._cache.userAgents},os:function(){return this._cache.os===t&&(this._cache.os=o.detectOS(this.ua)),this._cache.os},version:function(e){return o.getVersion(e,this.ua)},versionStr:function(e){return o.getVersionStr(e,this.ua)},is:function(t){return n(this.userAgents(),t)||e(t,this.os())||e(t,this.phone())||e(t,this.tablet())||n(o.findMatches(o.mobileDetectRules.utils,this.ua),t)},match:function(e){return e instanceof RegExp||(e=new RegExp(e,"i")),e.test(this.ua)},isPhoneSized:function(e){return r.isPhoneSized(e||this.maxPhoneWidth)},mobileGrade:function(){return this._cache.grade===t&&(this._cache.grade=o.mobileGrade(this)),this._cache.grade}},"undefined"!=typeof window&&window.screen?r.isPhoneSized=function(e){return 0>e?t:o.getDeviceSmallerSide()<=e}:r.isPhoneSized=function(){},r._impl=o,r})}(function(e){return function(e){window.MobileDetect=e()}}()),function(){"use strict";function e(){}function t(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function n(e){return function(){return this[e].apply(this,arguments)}}var i=e.prototype,r=this,o=r.EventEmitter;i.getListeners=function(e){var t,n,i=this._getEvents();if("object"==typeof e){t={};for(n in i)i.hasOwnProperty(n)&&e.test(n)&&(t[n]=i[n])}else t=i[e]||(i[e]=[]);return t},i.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},i.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},i.addListener=function(e,n){var i,r=this.getListenersAsObject(e),o="object"==typeof n;for(i in r)r.hasOwnProperty(i)&&-1===t(r[i],n)&&r[i].push(o?n:{listener:n,once:!1});return this},i.on=n("addListener"),i.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},i.once=n("addOnceListener"),i.defineEvent=function(e){return this.getListeners(e),this},i.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},i.removeListener=function(e,n){var i,r,o=this.getListenersAsObject(e);for(r in o)o.hasOwnProperty(r)&&(i=t(o[r],n),-1!==i&&o[r].splice(i,1));return this},i.off=n("removeListener"),i.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},i.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},i.manipulateListeners=function(e,t,n){var i,r,o=e?this.removeListener:this.addListener,a=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(i=n.length;i--;)o.call(this,t,n[i]);else for(i in t)t.hasOwnProperty(i)&&(r=t[i])&&("function"==typeof r?o.call(this,i,r):a.call(this,i,r));return this},i.removeEvent=function(e){var t,n=typeof e,i=this._getEvents();if("string"===n)delete i[e];else if("object"===n)for(t in i)i.hasOwnProperty(t)&&e.test(t)&&delete i[t];else delete this._events;return this},i.removeAllListeners=n("removeEvent"),i.emitEvent=function(e,t){var n,i,r,o,a=this.getListenersAsObject(e);for(r in a)if(a.hasOwnProperty(r))for(i=a[r].length;i--;)n=a[r][i],n.once===!0&&this.removeListener(e,n.listener),o=n.listener.apply(this,t||[]),o===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},i.trigger=n("emitEvent"),i.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},i.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},i._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},i._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return r.EventEmitter=o,e},this.EventEmitter=e}.call(this),function(e){function t(t){var n=e.event;return n.target=n.target||n.srcElement||t,n}var n=document.documentElement,i=function(){};n.addEventListener?i=function(e,t,n){e.addEventListener(t,n,!1)}:n.attachEvent&&(i=function(e,n,i){e[n+i]=i.handleEvent?function(){var n=t(e);i.handleEvent.call(i,n)}:function(){var n=t(e);i.call(e,n)},e.attachEvent("on"+n,e[n+i])});var r=function(){};n.removeEventListener?r=function(e,t,n){e.removeEventListener(t,n,!1)}:n.detachEvent&&(r=function(e,t,n){e.detachEvent("on"+t,e[t+n]);try{delete e[t+n]}catch(i){e[t+n]=void 0}});var o={bind:i,unbind:r};e.eventie=o}(this),function(e,t){"use strict";e.imagesLoaded=t(e,e.EventEmitter,e.eventie)}(window,function(e,t,n){function i(e,t){for(var n in t)e[n]=t[n];return e}function r(e){return"[object Array]"==c.call(e)}function o(e){var t=[];if(r(e))t=e;else if("number"==typeof e.length)for(var n=0;n<e.length;n++)t.push(e[n]);else t.push(e);return t}function a(e,t,n){if(!(this instanceof a))return new a(e,t,n);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=o(e),this.options=i({},this.options),"function"==typeof t?n=t:i(this.options,t),n&&this.on("always",n),this.getImages(),l&&(this.jqDeferred=new l.Deferred);var r=this;setTimeout(function(){r.check()})}function s(e){this.img=e}function T(e,t){this.url=e,this.element=t,this.img=new Image}var l=e.n2,u=e.console,c=Object.prototype.toString;a.prototype=new t,a.prototype.options={},a.prototype.getImages=function(){this.images=[];for(var e=0;e<this.elements.length;e++){var t=this.elements[e];this.addElementImages(t)}},a.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),this.options.background===!0&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&h[t]){for(var n=e.querySelectorAll("img"),i=0;i<n.length;i++){var r=n[i];this.addImage(r)}if("string"==typeof this.options.background){var o=e.querySelectorAll(this.options.background);for(i=0;i<o.length;i++){var a=o[i];this.addElementBackgroundImages(a)}}}};var h={1:!0,9:!0,11:!0};a.prototype.addElementBackgroundImages=function(e){var t=S(e),n=/url\(["]*([^"\)]+)["]*\)/gi,i=n.exec(t.backgroundImage);if(!i){var r=/url\([']*([^'\)]+)[']*\)/gi;i=r.exec(t.backgroundImage)}for(;null!==i;){var o=i&&i[1];o&&this.addBackground(o,e),i=n.exec(t.backgroundImage)}};var S=e.getComputedStyle||function(e){return e.currentStyle};return a.prototype.addImage=function(e){var t=new s(e);this.images.push(t)},a.prototype.addBackground=function(e,t){var n=new T(e,t);this.images.push(n)},a.prototype.check=function(){function e(e,n,i){setTimeout(function(){t.progress(e,n,i)})}var t=this;if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length)return void this.complete();for(var n=0;n<this.images.length;n++){var i=this.images[n];i.once("progress",e),i.check()}},a.prototype.progress=function(e,t,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emit("progress",this,e,t),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&u&&u.log("progress: "+n,e,t)},a.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emit(e,this),this.emit("always",this),this.jqDeferred){var t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}},s.prototype=new t,s.prototype.check=function(){var e=this.getIsImageComplete();return e?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,n.bind(this.proxyImage,"load",this),n.bind(this.proxyImage,"error",this),n.bind(this.img,"load",this),n.bind(this.img,"error",this),void(this.proxyImage.src=this.img.src))},s.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},s.prototype.confirm=function(e,t){this.isLoaded=e,this.emit("progress",this,this.img,t)},s.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},s.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},s.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},s.prototype.unbindEvents=function(){n.unbind(this.proxyImage,"load",this),n.unbind(this.proxyImage,"error",this),n.unbind(this.img,"load",this),n.unbind(this.img,"error",this)},T.prototype=new s,T.prototype.check=function(){n.bind(this.img,"load",this),n.bind(this.img,"error",this),this.img.src=this.url;var e=this.getIsImageComplete();e&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},T.prototype.unbindEvents=function(){n.unbind(this.img,"load",this),n.unbind(this.img,"error",this)},T.prototype.confirm=function(e,t){this.isLoaded=e,this.emit("progress",this,this.element,t)},a.makeJQueryPlugin=function(e){e=n2,e&&(l=e,l.fn.n2imagesLoaded=function(e,t){var n=new a(this,e,t);return n.jqDeferred.promise(l(this))})},a.makeJQueryPlugin(),a}),function(e){e.event.special.universalclick={add:function(t){var n=e(this),i=!1,r=null,o=function(){i=!0,r&&clearTimeout(r),r=setTimeout(function(){i=!1},400)},a=0,s=0;try{var T=function(e){a=e.touches[0].clientX,s=e.touches[0].clientY};n[0]._touchstart=T,n[0].addEventListener("touchstart",T,window.n2passiveEvents?{passive:!0}:!1),n.on("touchend.universalclick",function(e){Math.abs(e.originalEvent.changedTouches[0].clientX-a)<10&&Math.abs(e.originalEvent.changedTouches[0].clientY-s)<10&&(i||(o(),t.handler.apply(this,arguments)))}).on("click.universalclick",function(e){i||(o(),t.handler.apply(this,arguments))})}catch(l){console.error(l)}},remove:function(){e(this).off(".universalclick");try{this.removeEventListener("touchstart",this._touchstart,window.n2passiveEvents?{passive:!0}:!1),delete this._touchstart}catch(t){}}};var t=[],n=!1,i=function(n){for(var i=e(n.target),r=t.length-1;r>=0;r--)t[r].is(i)||0!=t[r].find(i).length||t[r].trigger("universal_leave")},r=function(){if(!n){n=!0;try{e("body").get(0).addEventListener("touchstart",i,window.n2passiveEvents?{passive:!0}:!1)}catch(t){}}},o=function(){if(n){try{e("body").get(0).removeEventListener("touchstart",i,window.n2passiveEvents?{passive:!0}:!1)}catch(t){}n=!1}},a=function(n){-1==e.inArray(n,t)&&t.push(n),1==t.length&&r()},s=function(n){var i=e.inArray(n,t);i>=0&&(t.splice(i,1),0==t.length&&o())};e.event.special.universalenter={add:function(t){var n=e(this),i=!1,r=null,o=function(){i=!0,r&&(clearTimeout(r),r=null),r=setTimeout(function(){i=!1},400)},T=!1;t.data&&(T=t.data.leaveOnSecond);var l=null,u=function(e){i||(o(),"touchstart"==e.type?T?l?n.trigger("universal_leave"):(a(n),t.handler.apply(this,arguments),l=setTimeout(function(){n.trigger("universal_leave")},5e3)):(l&&(clearTimeout(l),l=null),a(n),t.handler.apply(this,arguments),l=setTimeout(function(){n.trigger("universal_leave")},5e3)):(t.handler.apply(this,arguments),n.on("mouseleave.universalleave",function(){n.off(".universalleave").trigger("universalleave")})))};n.on("universal_leave.universalenter",function(e){e.stopPropagation(),clearTimeout(l),l=null,s(n),n.trigger("universalleave")}).on("mouseenter.universalenter",u);try{n[0]._mouseenter=u,n[0].addEventListener("touchstart",u,window.n2passiveEvents?{passive:!0}:!1)}catch(c){}},remove:function(){e(this).off(".universalenter .universalleave");try{this.removeEventListener("touchstart",this._mouseenter,window.n2passiveEvents?{passive:!0}:!1),delete this._mouseenter}catch(t){}}}}(n2);var tmpModernizr=null;"undefined"!=typeof window.Modernizr&&(tmpModernizr=window.Modernizr),!function(e,t,n){function i(e,t){return typeof e===t}function r(){var e,t,n,r,o,a,s;for(var T in A)if(A.hasOwnProperty(T)){if(e=[],t=A[T],t.name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(r=i(t.fn,"function")?t.fn():t.fn,o=0;o<e.length;o++)a=e[o],s=a.split("."),1===s.length?M[s[0]]=r:(!M[s[0]]||M[s[0]]instanceof Boolean||(M[s[0]]=new Boolean(M[s[0]])),M[s[0]][s[1]]=r),y.push((r?"":"no-")+s.join("-"))}}function o(e){return e.replace(/([a-z])-([a-z])/g,function(e,t,n){return t+n.toUpperCase()}).replace(/^-/,"")}function a(e){var t=v.className,n=M._config.classPrefix||"";if(I&&(t=t.baseVal),M._config.enableJSClass){new RegExp("(^|\\s)"+n+"no-js(\\s|$)")}M._config.enableClasses&&(t+=" "+n+e.join(" "+n),I?v.className.baseVal=t:v.className=t)}function s(e,t){if("object"==typeof e)for(var n in e)B(e,n)&&s(n,e[n]);else{e=e.toLowerCase();var i=e.split("."),r=M[i[0]];if(2==i.length&&(r=r[i[1]]),"undefined"!=typeof r)return M;t="function"==typeof t?t():t,1==i.length?M[i[0]]=t:(!M[i[0]]||M[i[0]]instanceof Boolean||(M[i[0]]=new Boolean(M[i[0]])),M[i[0]][i[1]]=t),a([(t&&0!=t?"":"no-")+i.join("-")]),M._trigger(e,t)}return M}function T(e,t){return!!~(""+e).indexOf(t)}function l(){return"function"!=typeof t.createElement?t.createElement(arguments[0]):I?t.createElementNS.call(t,"http://www.w3.org/2000/svg",arguments[0]):t.createElement.apply(t,arguments)}function u(){var e=t.body;return e||(e=l(I?"svg":"body"),e.fake=!0),e}function c(e,n,i,r){var o,a,s,T,c="modernizr",h=l("div"),S=u();if(parseInt(i,10))for(;i--;)s=l("div"),s.id=r?r[i]:c+(i+1),h.appendChild(s);return o=l("style"),o.type="text/css",o.id="s"+c,(S.fake?S:h).appendChild(o),S.appendChild(h),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(t.createTextNode(e)),h.id=c,S.fake&&(S.style.background="",S.style.overflow="hidden",T=v.style.overflow,v.style.overflow="hidden",v.appendChild(S)),a=n(h,e),S.fake?(S.parentNode.removeChild(S),v.style.overflow=T,v.offsetHeight):h.parentNode.removeChild(h),!!a}function h(e,t){return function(){return e.apply(t,arguments)}}function S(e,t,n){var r;for(var o in e)if(e[o]in t)return n===!1?e[o]:(r=t[e[o]],i(r,"function")?h(r,n||t):r);return!1}function d(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function p(t,i){var r=t.length;if("CSS"in e&&"supports"in e.CSS){for(;r--;)if(e.CSS.supports(d(t[r]),i))return!0;return!1}if("CSSSupportsRule"in e){for(var o=[];r--;)o.push("("+d(t[r])+":"+i+")");return o=o.join(" or "),c("@supports ("+o+") { #modernizr { position: absolute; } }",function(e){return"absolute"==getComputedStyle(e,null).position})}return n}function f(e,t,r,a){function s(){c&&(delete k.style,delete k.modElem)}if(a=i(a,"undefined")?!1:a,!i(r,"undefined")){var u=p(e,r);if(!i(u,"undefined"))return u}for(var c,h,S,d,f,b=["modernizr","tspan"];!k.style;)c=!0,k.modElem=l(b.shift()),k.style=k.modElem.style;for(S=e.length,h=0;S>h;h++)if(d=e[h],f=k.style[d],T(d,"-")&&(d=o(d)),k.style[d]!==n){if(a||i(r,"undefined"))return s(),"pfx"==t?d:!0;try{k.style[d]=r}catch(P){}if(k.style[d]!=f)return s(),"pfx"==t?d:!0}return s(),!1}function b(e,t,n,r,o){var a=e.charAt(0).toUpperCase()+e.slice(1),s=(e+" "+w.join(a+" ")+a).split(" ");return i(t,"string")||i(t,"undefined")?f(s,t,r,o):(s=(e+" "+g.join(a+" ")+a).split(" "),S(s,t,n))}function P(e,t,i){return b(e,n,n,t,i)}var A=[],m={_version:"3.2.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout(function(){t(n[e])},0)},addTest:function(e,t,n){A.push({name:e,fn:t,options:n})},addAsyncTest:function(e){A.push({name:null,fn:e})}},M=function(){};M.prototype=m,M=new M;var G=m._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):[];m._prefixes=G;var v=t.documentElement,C="Moz O ms Webkit",g=m._config.usePrefixes?C.toLowerCase().split(" "):[];m._domPrefixes=g;var B;!function(){var e={}.hasOwnProperty;B=i(e,"undefined")||i(e.call,"undefined")?function(e,t){return t in e&&i(e.constructor.prototype[t],"undefined")}:function(t,n){return e.call(t,n)}}();var y=[],H="CSS"in e&&"supports"in e.CSS,E="supportsCSS"in e;M.addTest("supports",H||E);var I="svg"===v.nodeName.toLowerCase();m._l={},m.on=function(e,t){this._l[e]||(this._l[e]=[]),this._l[e].push(t),M.hasOwnProperty(e)&&setTimeout(function(){M._trigger(e,M[e])},0)},m._trigger=function(e,t){if(this._l[e]){var n=this._l[e];setTimeout(function(){var e,i;for(e=0;e<n.length;e++)(i=n[e])(t)},0),delete this._l[e]}},M._q.push(function(){m.addTest=s}),I||!function(e,t){function n(e,t){var n=e.createElement("p"),i=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",i.insertBefore(n.lastChild,i.firstChild)}function i(){var e=A.elements;return"string"==typeof e?e.split(" "):e}function r(e,t){var n=A.elements;"string"!=typeof n&&(n=n.join(" ")),"string"!=typeof e&&(e=e.join(" ")),A.elements=n+" "+e,l(t)}function o(e){var t=P[e[f]];return t||(t={},b++,e[f]=b,P[b]=t),t}function a(e,n,i){if(n||(n=t),c)return n.createElement(e);i||(i=o(n));var r;return r=i.cache[e]?i.cache[e].cloneNode():p.test(e)?(i.cache[e]=i.createElem(e)).cloneNode():i.createElem(e),!r.canHaveChildren||d.test(e)||r.tagUrn?r:i.frag.appendChild(r)}function s(e,n){if(e||(e=t),c)return e.createDocumentFragment();n=n||o(e);for(var r=n.frag.cloneNode(),a=0,s=i(),T=s.length;T>a;a++)r.createElement(s[a]);return r}function T(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return A.shivMethods?a(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+i().join().replace(/[\w\-:]+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(A,t.frag)}function l(e){e||(e=t);var i=o(e);return!A.shivCSS||u||i.hasCSS||(i.hasCSS=!!n(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),c||T(e,i),e}var u,c,h="3.7.3",S=e.html5||{},d=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,p=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,f="_html5shiv",b=0,P={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",u="hidden"in e,c=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return"undefined"==typeof e.cloneNode||"undefined"==typeof e.createDocumentFragment||"undefined"==typeof e.createElement}()}catch(n){u=!0,c=!0}}();var A={elements:S.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",version:h,shivCSS:S.shivCSS!==!1,supportsUnknownElements:c,shivMethods:S.shivMethods!==!1,type:"default",shivDocument:l,createElement:a,createDocumentFragment:s,addElements:r};e.html5=A,l(t),"object"==typeof module&&module.exports&&(module.exports=A)}("undefined"!=typeof e?e:this,t);var w=m._config.usePrefixes?C.split(" "):[];m._cssomPrefixes=w;var _=function(t){var i,r=G.length,o=e.CSSRule;if("undefined"==typeof o)return n;if(!t)return!1;if(t=t.replace(/^@/,""),i=t.replace(/-/g,"_").toUpperCase()+"_RULE",i in o)return"@"+t;for(var a=0;r>a;a++){var s=G[a],T=s.toUpperCase()+"_"+i;if(T in o)return"@-"+s.toLowerCase()+"-"+t}return!1};m.atRule=_;var D=m.testStyles=c,N={elem:l("modernizr")};M._q.push(function(){delete N.elem});var k={style:N.elem.style};M._q.unshift(function(){delete k.style}),m.testProp=function(e,t,i){return f([e],n,t,i)},m.testAllProps=b,m.prefixed=function(e,t,n){return 0===e.indexOf("@")?_(e):(-1!=e.indexOf("-")&&(e=o(e)),t?b(e,t,n):b(e,"pfx"))},m.testAllProps=P,M.addTest("csstransforms3d",function(){var e=!!P("perspective","1px",!0),t=M._config.usePrefixes;if(e&&(!t||"webkitPerspective"in v.style)){var n,i="#modernizr{width:0;height:0}";M.supports?n="@supports (perspective: 1px)":(n="@media (transform-3d)",t&&(n+=",(-webkit-transform-3d)")),n+="{#modernizr{width:7px;height:18px;margin:0;padding:0;border:0}}",D(i+n,function(t){e=7===t.offsetWidth&&18===t.offsetHeight})}return e}),r(),a(y),delete m.addTest,delete m.addAsyncTest;for(var O=0;O<M._q.length;O++)M._q[O]();e.Modernizr=M}(window,document),Modernizr.addTest("csstransformspreserve3d",function(){var e,t=Modernizr.prefixed("transformStyle"),n="preserve-3d";return t?(t=t.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-"),Modernizr.testStyles("#modernizr{"+t+":"+n+";}",function(n,i){window.getComputedStyle?(e=getComputedStyle(n,null),e=e?e.getPropertyValue(t):""):e=""}),e===n):!1}),window.nModernizr=window.Modernizr,tmpModernizr&&(window.Modernizr=tmpModernizr),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){null==t?t=0:0>t&&(t=Math.max(0,this.length+t));for(var n=t,i=this.length;i>n;n++)if(this[n]===e)return n;return-1}),function(){function e(){this._isTicking=!1,this._isMobile=!1,this._lastTick=0,this._ticks=[],this._postTickCallbacks=[];var e=function(){var e=0;return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){var n,i=(new Date).getTime();return n=Math.max(0,16-(i-e)),e=i+n,setTimeout(function(){
t(i+n)},n)}}();this._raf=window.requestAnimationFrame||e;var t=this;this._isMobile||void 0===document.hidden||document.addEventListener("visibilitychange",function(){document.hidden?(this._raf=function(e){return setTimeout(function(){e(t.now())},16)},t._tick(t.now())):t._raf=window.requestAnimationFrame||e})}var t=function(e){for(var t,n,i=arguments,r=i.length;r>1&&e.length;)for(t=i[--r];-1!==(n=e.indexOf(t));)e.splice(n,1);return e};e.prototype.addTick=function(e){-1==this._ticks.indexOf(e)&&this._ticks.push(e),this._isTicking||(this._isTicking=!0,this._raf.call(null,this.getTickStart()))},e.prototype.removeTick=function(e){t(this._ticks,e),0===this._ticks.length&&this._isTicking&&(this._lastTick=0,this._isTicking=!1)},e.prototype._tickStart=function(e){this._lastTick=e,this._isTicking&&(this._lastTick=e,this._raf.call(null,this.getTick()))},e.prototype._tick=function(e){var t=(e-this._lastTick)/1e3;if(0!=t){for(var n=0;n<this._ticks.length;n++)this._ticks[n].call(null,t);this.postTick()}this._continueTick(e)},e.prototype._continueTick=function(e){this._isTicking&&(this._lastTick=e,this._raf.call(null,this.getTick()))},e.prototype.getTick=function(){var e=this;return function(){e._tick.apply(e,arguments)}},e.prototype.getTickStart=function(){var e=this;return function(){e._tickStart.apply(e,arguments)}},e.prototype.now=function(){return performance.now()},e.prototype.postTick=function(){for(var e=0;e<this._postTickCallbacks.length;e++)this._postTickCallbacks[e]();this._postTickCallbacks=[]},e.prototype.addPostTick=function(e){this._postTickCallbacks.push(e)},window.N2A={RAF:new e,isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},isFunction:function(e){return"function"==typeof e},isString:function(e){return"string"==typeof e}}}(),function(){function e(e){this._tickCallback=null,this._progress=0,this._delayTimeout=!1,this._delay=0,this._duration=4,this._timeScale=1,this._isPlaying=!1,this._startTime=0,this._eventCallbacks={},this._immediateRender=!0,this._timeline=null,this._isCompleted=!1,this._isStarted=!1,this._isReversed=!1,this.toParams=e,this.initParameters()}e.prototype.initParameters=function(){this.parseParameters(this.toParams),"object"!=typeof this.toParams&&this.paused(!1)},e.prototype.parseParameters=function(e){e&&(e.delay&&(this.delay(e.delay),delete e.delay),"undefined"!=typeof e.duration&&(this.duration(e.duration),delete e.duration),e.onComplete&&(this.eventCallback("onComplete",e.onComplete),delete e.onComplete),e.onStart&&(this.eventCallback("onStart",e.onStart),delete e.onStart),e.onUpdate&&(this.eventCallback("onUpdate",e.onUpdate),delete e.onUpdate),e.immediateRender&&(this._immediateRender=e.immediateRender,delete e.immediateRender),e.paused&&this.paused(!0))},e.prototype.setTimeline=function(e){this._timeline=e},e.prototype._tick=function(e){var t=this._progress;this._isReversed?(this._progress-=e/this._duration*this._timeScale,1!=t&&this._isStarted?this._progress<=0?(this._progress=0,this._isPlaying=!1,N2A.RAF.removeTick(this.getTickCallback()),this._onUpdate(),this._onReverseComplete()):this._onUpdate():this._onReverseStart()):(this._progress+=e/this._duration*this._timeScale,0!=t&&this._isStarted?this._progress>=1?(this._progress=1,this._isPlaying=!1,N2A.RAF.removeTick(this.getTickCallback()),this._onUpdate(),this._onComplete()):this._onUpdate():this._onStart())},e.prototype._onStart=function(){this._isStarted=!0,this._isPlaying=!1,this._isCompleted=!1,this.trigger("onStart"),this._onUpdate()},e.prototype._onUpdate=function(){this.trigger("onUpdate")},e.prototype._onComplete=function(){this._isCompleted=!0,this._onUpdate(),this.trigger("onComplete")},e.prototype._onReverseComplete=function(){this._isCompleted=!0,this._isReversed=!1,this._onUpdate(),this.trigger("onReverseComplete")},e.prototype._onReverseStart=function(){this._isStarted=!0,this._isPlaying=!1,this._isCompleted=!1,this.trigger("onReverseStart"),this._onUpdate()},e.prototype.getTickCallback=function(){if(!this._tickCallback){var e=this;this._tickCallback=function(){e._tick.apply(e,arguments)}}return this._tickCallback},e.prototype._clearDelayTimeout=function(){this._delayTimeout&&(clearTimeout(this._delayTimeout),this._delayTimeout=!1)},e.prototype._timeToProgress=function(e){return e/this._duration*this._timeScale},e.prototype.delay=function(){if(arguments.length>0){var e=parseFloat(arguments[0]);return!isNaN(e)&&e!=1/0&&e||(e=0),this._delay=Math.max(0,e),this}return this._delay},e.prototype.duration=function(){if(arguments.length>0){var e=parseFloat(arguments[0]);return!isNaN(e)&&e!=1/0&&e||(e=0),this._duration=Math.max(0,e),this}return this._duration},e.prototype.eventCallback=function(e){return arguments.length>3?this._eventCallbacks[e]=[arguments[1],arguments[2],arguments[3]]:arguments.length>2?this._eventCallbacks[e]=[arguments[1],arguments[2],this]:arguments.length>1&&(this._eventCallbacks[e]=[arguments[1],[],this]),this._eventCallbacks[e]},e.prototype.pause=function(){return this._isPlaying=!1,N2A.RAF.removeTick(this.getTickCallback()),arguments.length>0&&null!=arguments[0]&&this.progress(this._timeToProgress(arguments[0])),this},e.prototype.paused=function(){return arguments.length>0?(arguments[0]?this._isPlaying&&this.pause():this._isPlaying||this.play(),this):!this._isPlaying},e.prototype.play=function(){var e=!0;arguments.length>0&&null!=arguments[0]&&(e=!1,this._progress=this._timeToProgress(arguments[0])),this._play(e)},e.prototype._play=function(e){if(this._progress<1)if(0==this._progress&&e&&this._delay>0){if(!this._delayTimeout){var t=this;this._delayTimeout=setTimeout(function(){t.__play.apply(t,arguments)},1e3*this._delay)}}else this.__play();else this._isCompleted||(this._isReversed?this._onReverseComplete():this._onComplete())},e.prototype.__play=function(){this._clearDelayTimeout(),this._isPlaying||(N2A.RAF.addTick(this.getTickCallback()),this._isPlaying=!0)},e.prototype.progress=function(){if(arguments.length>0){var e=parseFloat(arguments[0]);return isNaN(e)&&(e=0),e=Math.min(1,Math.max(0,e)),this._progress=e,this._isPlaying||(this._isStarted||this._onStart(),this._onUpdate()),this}return this._progress},e.prototype.reverse=function(){this._isReversed=!0,0!=this.progress()&&this.play()},e.prototype.restart=function(){return arguments.length>0&&arguments[0]?(this.pause(0),this.play(),this):(this.play(0),this)},e.prototype.seek=function(e){null!=e&&(this._progress=this._timeToProgress(arguments[0]),this._isPlaying||this._onUpdate())},e.prototype.startTime=function(){if(arguments.length>0){var e=parseFloat(arguments[0]);return isNaN(e)&&(e=0),this._startTime=Math.max(0,e),this}return this._startTime},e.prototype.timeScale=function(){if(arguments.length>0){var e=parseFloat(arguments[0]);return isNaN(e)&&(e=1),e=Math.max(.01,e),this._timeScale!=e&&(this._timeScale=e),this}return this._timeScale},e.prototype.trigger=function(e){"object"==typeof this._eventCallbacks[e]&&this._eventCallbacks[e][0].apply(this._eventCallbacks[e][2],this._eventCallbacks[e][1])},e.prototype.totalDuration=function(){if(arguments.length>0){var e=parseFloat(arguments[0]);return isNaN(e)&&(e=0),e=Math.max(0,e),this.timeScale(this._duration/e),this}return this._duration*this._timeScale},e.prototype.reset=function(){this._isCompleted=!1,this._isStarted=!1,this.progress(0)},N2A.Animation=e}(),function(e){function t(){this.clearStack()}function n(e){return e.n2Transform||(e.n2Transform=new i),e.n2Transform}function i(e){this.data={x:0,y:0,z:0,rotationX:0,rotationY:0,rotationZ:0,scaleX:1,scaleY:1,scaleZ:1,scale:1}}var r={};t.prototype.set=function(t,n,i,r){t.length||(t=[t]);for(var o=0;o<t.length;o++){var a=t[o],s=e.inArray(a,this.elements);-1==s&&(s=this.elements.push(a)-1,this.stack[s]={}),""!=r&&(i+=r),this.stack[s][n]=i}if(!this.registeredToTick){var T=this;N2A.RAF.addPostTick(function(){T.flush()}),this.registeredToTick=!0,N2A.RAF._isTicking||N2A.RAF.postTick()}},t.prototype.flush=function(){for(var e=0;e<this.elements.length;e++){var t=this.elements[e];for(var n in this.prepareStack(t,this.stack[e])){var i=nModernizr.prefixed(n);i&&(t.style[i]=this.stack[e][n])}}this.clearStack()},t.prototype.prepareStack=function(e,t){for(var n in t)"undefined"!=typeof r[n]&&r[n](e).prepare(t);return t},t.prototype.clearStack=function(){this.registeredToTick=!1,this.elements=[],this.stack=[]};t.prototype.makeTransitionData=function(e,t,n,i){var r,o,a,s,T;if(t.match(/transformOrigin|perspective/)){if(i)return{startValue:i,endValue:i,unit:"",range:0};if(n)return{startValue:n,endValue:n,unit:"",range:0}}return"undefined"==typeof n&&(n=this.getProperty(e,t)),s=this.separateValue(t,n),n=s[0],o=s[1],"undefined"==typeof i&&(i=this.getProperty(e,t)),T=this.separateValue(t,i),i=T[0],a=T[1],r=a||o,a!=r&&(i=this.transformUnit(e,t,i,a,r)),o!=r&&(n=this.transformUnit(e,t,n,o,r)),{startValue:n,endValue:i,unit:r,range:i-n}},t.prototype.getProperty=function(t,n){if("undefined"!=typeof r[n])return r[n](t).get(n);var i=nModernizr.prefixed(n);if(i){var o=e(t).css(n);return"auto"==o?0:o}},t.prototype.transformUnit=function(e,t,n,i,r){if(0==n)return 0;var o="";switch(t){case"left":case"right":o="width";break;case"top":case"bottom":o="height";break;default:o=t}if("px"==i&&"%"==r){var a=this.getProperty(e.parent(),o),s=this.separateValue(o,a);return n/s[0]*100}if("%"==i&&"px"==r){var a=this.getProperty(e.parent(),o),s=this.separateValue(o,a);return n/100*s[0]}return n},t.prototype.parsePropertyValue=function(e,t){var n=void 0,i=void 0;return N2A.isArray(t)?(n=t[0],i=t[1]):n=t,N2A.isFunction(n)&&(n=n.call(e)),N2A.isFunction(i)&&(i=i.call(e)),[n||0,i]},t.prototype.separateValue=function(e,t){var n,i;return i=(t||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(e){return n=e,""}),n||(n=this.getUnitType(e)),[parseFloat(i),n]},t.prototype.getUnitType=function(e){return/(^(x|y|z|rotationX|rotationY|rotationZ|scale|scaleX|scaleY|opacity)$)/i.test(e)?"":"px"},N2A.CSS=t,r.x=n,r.y=n,r.z=n,r.rotationX=n,r.rotationY=n,r.rotationZ=n,r.scale=n,r.scaleX=n,r.scaleY=n,r.scaleZ=n,i.prototype.get=function(e){return this.data[e]};var o=Math.PI/180;i.prototype.prepare=function(e){"undefined"!=typeof e.scale&&(e.scaleX=e.scale,e.scaleY=e.scale,delete e.scale);for(var t in this.data)"undefined"!=typeof e[t]&&(this.data[t]=e[t],delete e[t]);return this.data.scale=this.data.scaleX,e.transform=this.matrix3d(this.data.x,this.data.y,this.data.z,this.data.scaleX,this.data.scaleY,this.data.rotationX,this.data.rotationY,this.data.rotationZ),e},i.prototype.matrix3d=function(e,t,n,i,r,a,s,T){var l=Math.cos(a*o),u=Math.sin(a*o),c=Math.cos(s*o),h=Math.sin(s*o),S=Math.cos(T*o),d=Math.sin(T*o),p=new Array(16);return p[0]=c*S*i,p[1]=d,p[2]=h,p[3]=0,p[4]=-1*d,p[5]=l*S*r,p[6]=u,p[7]=0,p[8]=-1*h,p[9]=-1*u,p[10]=c*l,p[11]=0,p[12]=e,p[13]=t,p[14]=n,p[15]=1,"matrix3d("+p[0]+","+p[1]+","+p[2]+","+p[3]+","+p[4]+","+p[5]+","+p[6]+","+p[7]+","+p[8]+","+p[9]+","+p[10]+","+p[11]+","+p[12]+","+p[13]+","+p[14]+","+p[15]+")"}}(n2),function(e){function t(t,r){this.ease="linear",this._tweenContainer=null,this._setContainer=null;var o,a=null;switch(arguments.length){case 4:a=e.extend(!0,{},arguments[2]),o=arguments[3],o?(this._mode=i.FROMTO,o=e.extend(!0,{},o)):this._mode=i.FROM;break;default:this._mode=i.TO,a={},o=e.extend(!0,{},arguments[2])}if(this._target=e(t),this.fromParams=a,N2A.Animation.call(this,o),this.parseParameters({duration:r}),(this._mode==i.FROM||this._mode==i.FROMTO)&&this._immediateRender){null===this._tweenContainer&&this._makeTweenContainer(this.fromParams,this.toParams);for(var s in this._tweenContainer){var T=this._tweenContainer[s];n.set(this._target,s,T.startValue,T.unit)}for(var s in this._setContainer){var T=this._setContainer[s];n.set(this._target,s,T.endValue,T.unit)}}}var n=new N2A.CSS,i={FROM:1,FROMTO:2,TO:3};t.prototype=Object.create(N2A.Animation.prototype),t.prototype.constructor=t,t.prototype.initParameters=function(){this.parseParameters(this.fromParams),N2A.Animation.prototype.initParameters.apply(this,arguments)},t.prototype.parseParameters=function(e){e&&(e.ease&&(this.ease=e.ease,delete e.ease),N2A.Animation.prototype.parseParameters.apply(this,arguments))},t.prototype._onStart=function(){null===this._tweenContainer&&this._makeTweenContainer(this.fromParams,this.toParams);for(var e in this._setContainer){var t=this._setContainer[e];n.set(this._target,e,t.endValue,t.unit)}N2A.Animation.prototype._onStart.call(this)},t.prototype._onUpdate=function(){for(var e in this._tweenContainer){var t=this._tweenContainer[e];n.set(this._target,e,N2A.easings[this.ease](this._progress,t.startValue,t.range*this._progress,1),t.unit)}N2A.Animation.prototype._onUpdate.call(this)},t.prototype._makeTweenContainer=function(e,t){if(this._setContainer={},this._tweenContainer={},t)for(var i in t){var r=n.makeTransitionData(this._target,i,e[i],t[i]);0==r.range?this._setContainer[i]=r:this._tweenContainer[i]=r}else for(var i in e){var r=n.makeTransitionData(this._target,i,e[i]);0==r.range?this._setContainer[i]=r:this._tweenContainer[i]=r}},t.set=function(t,i){for(var r in i)n.set(e(t),r,i[r],"")},t.to=function(e,n,i){return new t(e,n,i)},t.fromTo=function(e,n,i,r){return new t(e,n,i,r)},t.from=function(e,n,i){return new t(e,n,i,null)},window.NextendTween=t}(n2),function(e){function t(t){this.originalParams=e.extend(!0,{},t),this._tweens=[],N2A.Animation.call(this,t),this._duration=0}t.prototype=Object.create(N2A.Animation.prototype),t.prototype.constructor=t,t.prototype._onUpdate=function(){if(this.tweensContainer)for(var e=0;e<this.tweensContainer.length;e++){var t=this.tweensContainer[e],n=Math.min(1,(this._progress-t.startProgress)/(t.endProgress-t.startProgress));t.tween._isCompleted&&n<=t.endProgress&&t.tween.reset(),!t.tween._isStarted&&n>=0&&0==t.tween.progress()&&t.tween._onStart(),t.tween._isStarted&&(1!=n||t.tween._isCompleted?n>=0&&1>n?t.tween.progress(n):0>n&&0!=t.tween.progress()&&t.tween.progress(0):(t.tween.progress(n),t.tween._onComplete()))}N2A.Animation.prototype._onUpdate.call(this),N2A.RAF._isTicking||N2A.RAF.postTick()},t.prototype.addTween=function(e){e.pause(),e.setTimeline(this);var t=0;t=arguments.length>1?this._parsePosition(arguments[1]):this._parsePosition();var n=e.delay();n>0&&(t+=n,e.delay(0)),e.startTime(t),this._tweens.push(e);var i=e.totalDuration()+t;i>this._duration&&(this._duration=i),this.makeCache()},t.prototype.clear=function(){this.paused()||this.pause(),t.call(this,this.originalParams)},t.prototype.add=function(e,t){this.addTween(e,t)},t.prototype.set=function(e,t,n){this.addTween(NextendTween.to(e,.05,t),n)},t.prototype.to=function(e,t,n,i){this.addTween(NextendTween.to(e,t,n),i)},t.prototype.fromTo=function(e,t,n,i,r){this.addTween(NextendTween.fromTo(e,t,n,i),r)},t.prototype.from=function(e,t,n,i){this.addTween(NextendTween.from(e,t,n),i)},t.prototype._play=function(){if(0==this._progress)for(var e=0;e<this._tweens.length;e++)this._tweens[e].pause(0);N2A.Animation.prototype._play.apply(this,arguments)},t.prototype._parsePosition=function(){var e="+=0";arguments.length>0&&"undefined"!=typeof arguments[0]&&!isNaN(arguments[0])&&(e=arguments[0]);var t=0;switch(typeof e){case"string":switch(e.substr(0,2)){case"+=":t=this.duration()+parseFloat(e.substr(2));break;case"-=":t=this.duration()-parseFloat(e.substr(2))}break;default:t=parseFloat(e)}return Math.max(0,t)},t.prototype.makeCache=function(){var e=this.totalDuration();this.tweensContainer=[];for(var t=0;t<this._tweens.length;t++){var n=this._tweens[t],i=n.startTime()/e,r=(n.startTime()+n.totalDuration())/e;this.tweensContainer.push({tween:n,startProgress:i,endProgress:r,range:r-i})}},window.NextendTimeline=t}(n2),function(){N2A.easings={linear:function(e,t,n,i){return n+t},easeInQuad:function(e,t,n,i){return n*(e/=i)*e+t},easeOutQuad:function(e,t,n,i){return-n*(e/=i)*(e-2)+t},easeInOutQuad:function(e,t,n,i){return(e/=i/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,n,i){return n*(e/=i)*e*e+t},easeOutCubic:function(e,t,n,i){return n*((e=e/i-1)*e*e+1)+t},easeInOutCubic:function(e,t,n,i){return(e/=i/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,n,i){return n*(e/=i)*e*e*e+t},easeOutQuart:function(e,t,n,i){return-n*((e=e/i-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,n,i){return(e/=i/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,n,i){return n*(e/=i)*e*e*e*e+t},easeOutQuint:function(e,t,n,i){return n*((e=e/i-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,n,i){return(e/=i/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,n,i){return-n*Math.cos(e/i*(Math.PI/2))+n+t},easeOutSine:function(e,t,n,i){return n*Math.sin(e/i*(Math.PI/2))+t},easeInOutSine:function(e,t,n,i){return-n/2*(Math.cos(Math.PI*e/i)-1)+t},easeInExpo:function(e,t,n,i){return 0==e?t:n*Math.pow(2,10*(e/i-1))+t},easeOutExpo:function(e,t,n,i){return e==i?t+n:n*(-Math.pow(2,-10*e/i)+1)+t},easeInOutExpo:function(e,t,n,i){return 0==e?t:e==i?t+n:(e/=i/2)<1?n/2*Math.pow(2,10*(e-1))+t:n/2*(-Math.pow(2,-10*--e)+2)+t},easeInCirc:function(e,t,n,i){return-n*(Math.sqrt(1-(e/=i)*e)-1)+t},easeOutCirc:function(e,t,n,i){return n*Math.sqrt(1-(e=e/i-1)*e)+t},easeInOutCirc:function(e,t,n,i){return(e/=i/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(e,t,n,i){var r=1.70158,o=0,a=n;if(0==e)return t;if(1==(e/=i))return t+n;if(o||(o=.3*i),a<Math.abs(n)){a=n;var r=o/4}else var r=o/(2*Math.PI)*Math.asin(n/a);return-(a*Math.pow(2,10*(e-=1))*Math.sin((e*i-r)*(2*Math.PI)/o))+t},easeOutElastic:function(e,t,n,i){var r=1.70158,o=0,a=n;if(0==e)return t;if(1==(e/=i))return t+n;if(o||(o=.3*i),a<Math.abs(n)){a=n;var r=o/4}else var r=o/(2*Math.PI)*Math.asin(n/a);return a*Math.pow(2,-10*e)*Math.sin((e*i-r)*(2*Math.PI)/o)+n+t},easeInOutElastic:function(e,t,n,i){var r=1.70158,o=0,a=n;if(0==e)return t;if(2==(e/=i/2))return t+n;if(o||(o=i*(.3*1.5)),a<Math.abs(n)){a=n;var r=o/4}else var r=o/(2*Math.PI)*Math.asin(n/a);return 1>e?-.5*(a*Math.pow(2,10*(e-=1))*Math.sin((e*i-r)*(2*Math.PI)/o))+t:a*Math.pow(2,-10*(e-=1))*Math.sin((e*i-r)*(2*Math.PI)/o)*.5+n+t},easeInBack:function(e,t,n,i,r){return void 0==r&&(r=1.70158),n*(e/=i)*e*((r+1)*e-r)+t},easeOutBack:function(e,t,n,i,r){return void 0==r&&(r=1.70158),n*((e=e/i-1)*e*((r+1)*e+r)+1)+t},easeInOutBack:function(e,t,n,i,r){return void 0==r&&(r=1.70158),(e/=i/2)<1?n/2*(e*e*(((r*=1.525)+1)*e-r))+t:n/2*((e-=2)*e*(((r*=1.525)+1)*e+r)+2)+t},easeInBounce:function(e,t,n,i){return n-N2A.easing.easeOutBounce(i-e,0,n,i)+t},easeOutBounce:function(e,t,n,i){return(e/=i)<1/2.75?n*(7.5625*e*e)+t:2/2.75>e?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:2.5/2.75>e?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOutBounce:function(e,t,n,i){return i/2>e?.5*N2A.easing.easeInBounce(2*e,0,n,i)+t:.5*N2A.easing.easeOutBounce(2*e-i,0,n,i)+.5*n+t}}}(n2);function n2Context(){this.window=["main"],this.mouseDownArea=!1,this.timeout=null,this.isPreventDblClick=!1,this.dblClickTimeout=null}"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(t){return 10>t?"0"+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var n,i,o,s,r,a=gap,l=e[t];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(t)),"function"==typeof rep&&(l=rep.call(e,t,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,r=[],"[object Array]"===Object.prototype.toString.apply(l)){for(s=l.length,n=0;s>n;n+=1)r[n]=str(n,l)||"null";return o=0===r.length?"[]":gap?"[\n"+gap+r.join(",\n"+gap)+"\n"+a+"]":"["+r.join(",")+"]",gap=a,o}if(rep&&"object"==typeof rep)for(s=rep.length,n=0;s>n;n+=1)"string"==typeof rep[n]&&(i=rep[n],o=str(i,l),o&&r.push(quote(i)+(gap?": ":":")+o));else for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(o=str(i,l),o&&r.push(quote(i)+(gap?": ":":")+o));return o=0===r.length?"{}":gap?"{\n"+gap+r.join(",\n"+gap)+"\n"+a+"}":"{"+r.join(",")+"}",gap=a,o}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(t){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(t){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(t,e,n){var i;if(gap="",indent="","number"==typeof n)for(i=0;n>i;i+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var n,i,o=t[e];if(o&&"object"==typeof o)for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(i=walk(o,n),void 0!==i?o[n]=i:delete o[n]);return reviver.call(t,e,o)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),n2.extend(window.nextend,{fontManager:null,styleManager:null,notificationCenter:null,animationManager:null,browse:null,askToSave:!0,cancel:function(t){return nextend.askToSave=!1,window.location.href=t,!1}}),n2Context.prototype.addWindow=function(t){this.window.push(t)},n2Context.prototype.removeWindow=function(){this.window.pop()},n2Context.prototype.getCurrentWindow=function(){return this.window[this.window.length-1]},n2Context.prototype.setMouseDownArea=function(t,e){this.mouseDownArea=t,this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(n2.proxy(function(){this.timeout=null,this.mouseDownArea=!1},this),50)},n2Context.prototype.preventDblClick=function(){this.isPreventDblClick=!0,this.dblClickTimeout&&clearTimeout(this.dblClickTimeout),this.dblClickTimeout=setTimeout(n2.proxy(function(){this.dblClickTimeout=null,this.isPreventDblClick=!1},this),200)},window.nextend.context=new n2Context,window.n2_=function(t){return"undefined"!=typeof nextend.localization[t]?nextend.localization[t]:t},window.n2_printf=function(t){var e=arguments,n=1;return t.replace(/%s/g,function(){return e[n++]})},window.nextendtime=n2.now(),window.nextend.roundTo=5,window.nextend.roundHelper=function(t){return window.nextend.roundTo<=1?t:Math.round(t/window.nextend.roundTo)*window.nextend.roundTo},function(t){function e(){s={left:"right",right:"left"}}function n(){s={left:"left",right:"right"}}function i(e,n){var i=0;return i=n==s.right?t(window).width()-(e.offset().left+e.outerWidth()):e.offset().left,0>i?0:i}var o=[],s={left:"left",right:"right"};t("html").on("changedir",function(i,r){for(var a=0;a<o.length;a++)o[a][0].css(s[o[a][2]],"auto");"rtl"===r?e():n(),t(document).trigger("scroll")});var r=0;nextend.ready(function(){var e=t("#wpadminbar, .navbar-fixed-top").height();e&&(r+=e),t(document).trigger("scroll")}),t(document).on("scroll",function(){for(var e=t(document).scrollTop()+r,n=0;n<o.length;n++)o[n][1]>e?o[n][0].removeClass("n2-static"):(o[n][0].addClass("n2-static"),o[n][0].css(s[o[n][2]],o[n][3]))}),t(window).on("resize",function(){for(var e=0;e<o.length;e++)o[e][1]=o[e][0].parent().offset().top,o[e][3]=i(o[e][0].parent(),o[e][2]);t(document).trigger("scroll")}),t.fn.staticonscroll=function(e){this.each(function(){var n=t(this);o.push([n,n.parent().offset().top,e,i(n.parent(),e)])}),t(document).trigger("scroll")}}(n2),function(t){var e={query:{}},n=null;e.addAjaxLoader=function(){n=t('<div class="n2-loader-overlay"><div class="n2-loader"></div></div>').appendTo("body")},e.addAjaxArray=function(t){for(var n in t)e.query[n]=t[n]},e.makeAjaxQuery=function(t,n){n&&(t.mode="ajax",t.nextendajax="1");for(var i in e.query)t[i]=e.query[i];return N2QueryString.stringify(t)},e.makeAjaxUrl=function(t,n){var i=t.split("?");i.length<2&&(i[1]="");var o=N2QueryString.parse(i[1]);if("undefined"!=typeof n)for(var s in n)o[s]=n[s];return i[0]+"?"+e.makeAjaxQuery(o,!0)},e.makeFallbackUrl=function(t,n){var i=t.split("?");i.length<2&&(i[1]="");var o=N2QueryString.parse(i[1]);if("undefined"!=typeof n)for(var s in n)o[s]=n[s];return i[0]+"?"+e.makeAjaxQuery(o,!1)},e.ajax=function(n){return e.startLoading(),t.ajax(n).always(function(t,n){e.stopLoading();try{if("success"!=n?t=JSON.parse(t.responseText):"string"==typeof t&&(t=JSON.parse(t)),"undefined"!=typeof t.redirect)return e.startLoading(),void(window.location.href=t.redirect);e.notification(t)}catch(i){console.log(i)}})},e.notification=function(t){if("undefined"!=typeof t.notification&&t.notification)for(var e in t.notification)for(var n=0;n<t.notification[e].length;n++)nextend.notificationCenter[e](t.notification[e][n][0],t.notification[e][n][1])},e.getJSON=function(n){return e.startLoading(),t.getJSON(n).always(function(){e.stopLoading()})},e.startLoading=function(){n.addClass("n2-active")},e.stopLoading=function(){n.removeClass("n2-active")},window.NextendAjaxHelper=e,nextend.ready(function(){e.addAjaxLoader()})}(n2),function(t,e){function n(e,n,i,o){this.$node=e.data("pane",this),this.headings=n,this.contents=i,this.tabNames=[],this.headings.each(t.proxy(function(e,n){this.tabNames.push(t(n).data("tab"))},this)),this.identifier=o,this._active=n.index(n.filter(".n2-active"));for(var s=0;s<n.length;s++)n.eq(s).on("click",t.proxy(this.switchToPane,this,s));if(o){var r=t.jStorage.get(this.identifier+"-pane",-1);if(-1!=r)return void this.switchToPane(r)}this.hideAndShow()}function i(e,n,i){this.headings=e,this.contents=n,this.identifier=i;for(var o=0;o<e.length;o++)e.eq(o).on("click",t.proxy(this.scrollToPane,this,o))}n.prototype.switchToPane=function(t,e){e&&e.preventDefault(),this.headings.eq(this._active).removeClass("n2-active"),this.headings.eq(t).addClass("n2-active"),this._active=t,this.hideAndShow(),this.store(this._active),this.$node.triggerHandler("changetab")},n.prototype.hideAndShow=function(){t(this.contents[this._active]).css("display","block").trigger("activate");for(var e=0;e<this.contents.length;e++)e!=this._active&&t(this.contents[e]).css("display","none")},n.prototype.store=function(e){this.identifier&&t.jStorage.set(this.identifier+"-pane",e)},n.prototype.showTabs=function(e){for(var n=!1,i=0;i<this.tabNames.length;i++)"-1"!=t.inArray(this.tabNames[i],e)?(this.headings.eq(i).css("display",""),t(this.contents[i]).css("display",""),i==this._active?n=i:n===!1&&(n=i)):(this.headings.eq(i).css("display","none"),t(this.contents[i]).css("display","none"));this.switchToPane(n)},e.NextendHeadingPane=n,i.prototype.scrollToPane=function(e,n){n&&n.preventDefault(),t("html, body").animate({scrollTop:this.contents[e].offset().top-t(".n2-main-top-bar").height()-t("#wpadminbar, .navbar-fixed-top").height()-10},1e3)},e.NextendHeadingScrollToPane=i}(n2,window),function(t,e){var n=[],i=t(document),o=!1;e.NextendEsc={_listen:function(){o||(i.on("keydown.n2-esc",function(i){if(27==i.keyCode||8==i.keyCode)if(t(i.target).is("input, textarea"))27==i.keyCode&&(i.preventDefault(),t(i.target).blur());else{i.preventDefault();var o=n[n.length-1]();o&&e.NextendEsc.pop()}}),o=!0)},_stopListen:function(){i.off("keydown.n2-esc"),o=!1},add:function(t){n.push(t),e.NextendEsc._listen()},pop:function(){n.pop(),0===n.length&&e.NextendEsc._stopListen()}}}(n2,window),function(t,e){t.fn.n2opener=function(){return this.each(function(){var e=t(this).on("click",function(t){e.toggleClass("n2-active")});e.siblings("span").on("click",function(t){e.toggleClass("n2-active")}),e.parent().on("mouseleave",function(){e.removeClass("n2-active")}),e.find(".n2-button-menu").on("click",function(t){t.stopPropagation(),e.removeClass("n2-active")})})}}(n2,window),"undefined"!=typeof jQuery&&jQuery(document).on("wp-collapse-menu",function(){n2(window).trigger("resize")}),nextend.deepDiff=function(){return{map:function(t,e){if(this.isValue(t))return"undefined"!=typeof t&&t!=e?t:void 0;for(var n in e)this.isFunction(e[n])||(t[n]=this.map(t[n],e[n]),(void 0===t[n]||n2.isPlainObject(t[n])&&n2.isEmptyObject(t[n])||this.isArray(t[n])&&0==t[n].length)&&delete t[n]);return t},isFunction:function(t){return"[object Function]"==={}.toString.apply(t)},isArray:function(t){return"[object Array]"==={}.toString.apply(t)},isObject:function(t){return"[object Object]"==={}.toString.apply(t)},isValue:function(t){return!this.isObject(t)&&!this.isArray(t)}}}(),function(t,e){function n(){this.$element=t('<div class="n2 n2-tooltip n2-radius-m"></div>'),this.timeout=null,this.$tipFor=null,t(window).ready(t.proxy(this.ready,this))}function i(){this.isVisible=!1,this.$body=t("body"),this.$element=t('<div class="n2 n2-tooltip n2-radius-m"></div>').appendTo(this.$body)}n.prototype.ready=function(){this.$element.appendTo("body"),this.add(t("body"))},n.prototype.add=function(e){e.find("[data-n2tip]").off(".n2hastip").on({"mouseenter.n2hastip":t.proxy(this.onEnter,this)})},n.prototype.addElement=function(e,n,i,o){e.data({n2tip:n,n2tipv:o,n2tiph:i}).off(".n2hastip").on({"mouseenter.n2hastip":t.proxy(this.onEnter,this)})},n.prototype.onEnter=function(e){this.timeout&&clearTimeout(this.timeout),this.$tipFor=t(e.currentTarget).on({"mousemove.n2tip":t.proxy(this.onMove,this),"mouseleave.n2tip":t.proxy(this.onLeave,this)}),this.onMove(e),this.timeout=setTimeout(t.proxy(function(){var t=this.$tipFor.data("n2tipv"),e=this.$tipFor.data("n2tiph");"undefined"==typeof t&&(t=10),"undefined"==typeof e&&(e=10),this.$element.css({margin:t+"px "+e+"px"}).html(this.$tipFor.data("n2tip")).addClass("n2-active")},this),500)},n.prototype.onMove=function(t){this.$element.css({left:t.pageX,top:t.pageY})},n.prototype.onLeave=function(t){this.timeout&&clearTimeout(this.timeout),this.$tipFor&&(this.$tipFor.off(".n2tip"),this.$tipFor=null,this.$element.removeClass("n2-active").css("margin",""))},i.prototype.show=function(e,n){this.isVisible?this.$element.html(e):(this.isVisible=!0,this.$body.on("mousemove.tooltipMouse",t.proxy(this.mouseMove,this)),this.mouseMove(n),this.$element.html(e).addClass("n2-active"))},i.prototype.mouseMove=function(t){this.$element.css({left:t.pageX+10,top:t.pageY+10})},i.prototype.hide=function(){this.$body.off("mousemove.tooltipMouse"),this.$element.removeClass("n2-active").html(""),this.isVisible=!1},nextend.tooltip=new n,t(window).ready(function(){nextend.tooltipMouse=new i})}(n2,window),nextend.UnicodeToHTMLEntity=function(t){function e(t,e){return((1023&t)<<10)+(1023&e)+65536}function n(t){for(var n,i=[],o=0;o<t.length;)n=t.charCodeAt(o),55296==(63488&n)?i.push(e(n,t.charCodeAt(++o))):i.push(n),++o;return"&#"+i+";"}try{for(var i,o=/(?:[\uD800-\uDBFF][\uDC00-\uDFFF])/g;i=o.exec(t);)t=t.substr(0,i.index)+n(t.substr(i.index,o.lastIndex-i.index))+t.substr(o.lastIndex)}catch(s){return console.error(s),t}return t},window.N2Color={hex2rgba:function(t){var e=parseInt(t,16);return[e>>24&255,e>>16&255,e>>8&255,(255&e)/255]},hex2rgbaCSS:function(t){return"RGBA("+N2Color.hex2rgba(t).join(",")+")"},hexdec:function(t){return t=(t+"").replace(/[^a-f0-9]/gi,""),parseInt(t,16)},hex2alpha:function(t){var e=parseInt(t,16);return((255&e)/255).toFixed(3)},colorizeSVG:function(t,e){var n=t.split("base64,");return 1==n.length?t:(n[1]=Base64.encode(Base64.decode(n[1]).replace('fill="#FFF"','fill="#'+e.substr(0,6)+'"').replace('opacity="1"','opacity="'+N2Color.hex2alpha(e)+'"')),n.join("base64,"))},colorToSVG:function(t){var e=parseInt(t,16);return[t.substr(0,6),(255&e)/255]}},function(){"use strict";var t={};t.parse=function(t){return"string"!=typeof t?{}:(t=t.trim().replace(/^(\?|#)/,""),t?t.trim().split("&").reduce(function(t,e){var n=e.replace(/\+/g," ").split("="),i=n[0],o=n[1];return i=decodeURIComponent(i),o=void 0===o?null:decodeURIComponent(o),t.hasOwnProperty(i)?Array.isArray(t[i])?t[i].push(o):t[i]=[t[i],o]:t[i]=o,t},{}):{})},t.stringify=function(t){return t?Object.keys(t).map(function(e){var n=t[e];return Array.isArray(n)?n.map(function(t){return encodeURIComponent(e)+"="+encodeURIComponent(t)}).join("&"):encodeURIComponent(e)+"="+encodeURIComponent(n)}).join("&"):""},window.N2QueryString=t}(),!function(t){function e(t){for(var e=enc="",n=end=0,i=0,o=t.length;o>i;i++){var s=t.charCodeAt(i);128>s?end++:(s>127&&2048>s?enc=String.fromCharCode(s>>6|192,63&s|128):enc=String.fromCharCode(s>>12|224,s>>6&63|128,63&s|128),end>n&&(e+=t.slice(n,end)),e+=enc,n=end=i+1)}return end>n&&(e+=t.slice(n,o)),e}function n(t){var e,n;if(t+="",g=!1,v=y=t.length,y>63){for(i(t.substring(0,64)),r(u),g=!0,e=128;y>=e;e+=64)i(t.substring(e-64,e)),a(u);t=t.substring(e-64),y=t.length}for(h[0]=0,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=0,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=0,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=0,e=0;y>e;e++)n=e%4,0===n?h[e>>2]=t.charCodeAt(e):h[e>>2]|=t.charCodeAt(e)<<f[n];return h[e>>2]|=d[e%4],e>55?(g?a(h):(r(h),g=!0),a([0,0,0,0,0,0,0,0,0,0,0,0,0,0,v<<3,0])):(h[14]=v<<3,void(g?a(h):r(h)))}function i(t){for(var e=16;e--;){var n=e<<2;u[e]=t.charCodeAt(n)+(t.charCodeAt(n+1)<<8)+(t.charCodeAt(n+2)<<16)+(t.charCodeAt(n+3)<<24)}}function o(t,i,o){n(i?t:e(t));var s=m[0];return c[1]=p[15&s],c[0]=p[15&(s>>=4)],c[3]=p[15&(s>>=4)],c[2]=p[15&(s>>=4)],c[5]=p[15&(s>>=4)],c[4]=p[15&(s>>=4)],c[7]=p[15&(s>>=4)],c[6]=p[15&(s>>=4)],s=m[1],c[9]=p[15&s],c[8]=p[15&(s>>=4)],c[11]=p[15&(s>>=4)],c[10]=p[15&(s>>=4)],c[13]=p[15&(s>>=4)],c[12]=p[15&(s>>=4)],c[15]=p[15&(s>>=4)],c[14]=p[15&(s>>=4)],s=m[2],c[17]=p[15&s],c[16]=p[15&(s>>=4)],c[19]=p[15&(s>>=4)],c[18]=p[15&(s>>=4)],c[21]=p[15&(s>>=4)],c[20]=p[15&(s>>=4)],c[23]=p[15&(s>>=4)],c[22]=p[15&(s>>=4)],s=m[3],c[25]=p[15&s],c[24]=p[15&(s>>=4)],c[27]=p[15&(s>>=4)],c[26]=p[15&(s>>=4)],c[29]=p[15&(s>>=4)],c[28]=p[15&(s>>=4)],c[31]=p[15&(s>>=4)],c[30]=p[15&(s>>=4)],o?c:c.join("")}function s(t,e,n,i,o,s,r){return e+=t+i+r,(e<<o|e>>>s)+n<<0}function r(t){l(0,0,0,0,t),m[0]=b[0]+1732584193<<0,m[1]=b[1]-271733879<<0,m[2]=b[2]-1732584194<<0,m[3]=b[3]+271733878<<0}function a(t){l(m[0],m[1],m[2],m[3],t),m[0]=b[0]+m[0]<<0,m[1]=b[1]+m[1]<<0,m[2]=b[2]+m[2]<<0,m[3]=b[3]+m[3]<<0}function l(t,e,n,i,o){var r,a;g?(t=s((n^i)&e^i,t,e,o[0],7,25,-680876936),i=s((e^n)&t^n,i,t,o[1],12,20,-389564586),n=s((t^e)&i^e,n,i,o[2],17,15,606105819),e=s((i^t)&n^t,e,n,o[3],22,10,-1044525330)):(t=o[0]-680876937,t=(t<<7|t>>>25)-271733879<<0,i=o[1]-117830708+(2004318071&t^-1732584194),i=(i<<12|i>>>20)+t<<0,n=o[2]-1126478375+((-271733879^t)&i^-271733879),n=(n<<17|n>>>15)+i<<0,e=o[3]-1316259209+((i^t)&n^t),e=(e<<22|e>>>10)+n<<0),t=s((n^i)&e^i,t,e,o[4],7,25,-176418897),i=s((e^n)&t^n,i,t,o[5],12,20,1200080426),n=s((t^e)&i^e,n,i,o[6],17,15,-1473231341),e=s((i^t)&n^t,e,n,o[7],22,10,-45705983),t=s((n^i)&e^i,t,e,o[8],7,25,1770035416),i=s((e^n)&t^n,i,t,o[9],12,20,-1958414417),n=s((t^e)&i^e,n,i,o[10],17,15,-42063),e=s((i^t)&n^t,e,n,o[11],22,10,-1990404162),t=s((n^i)&e^i,t,e,o[12],7,25,1804603682),i=s((e^n)&t^n,i,t,o[13],12,20,-40341101),n=s((t^e)&i^e,n,i,o[14],17,15,-1502002290),e=s((i^t)&n^t,e,n,o[15],22,10,1236535329),t=s((e^n)&i^n,t,e,o[1],5,27,-165796510),i=s((t^e)&n^e,i,t,o[6],9,23,-1069501632),n=s((i^t)&e^t,n,i,o[11],14,18,643717713),e=s((n^i)&t^i,e,n,o[0],20,12,-373897302),t=s((e^n)&i^n,t,e,o[5],5,27,-701558691),i=s((t^e)&n^e,i,t,o[10],9,23,38016083),n=s((i^t)&e^t,n,i,o[15],14,18,-660478335),e=s((n^i)&t^i,e,n,o[4],20,12,-405537848),t=s((e^n)&i^n,t,e,o[9],5,27,568446438),i=s((t^e)&n^e,i,t,o[14],9,23,-1019803690),n=s((i^t)&e^t,n,i,o[3],14,18,-187363961),e=s((n^i)&t^i,e,n,o[8],20,12,1163531501),t=s((e^n)&i^n,t,e,o[13],5,27,-1444681467),i=s((t^e)&n^e,i,t,o[2],9,23,-51403784),n=s((i^t)&e^t,n,i,o[7],14,18,1735328473),e=s((n^i)&t^i,e,n,o[12],20,12,-1926607734),r=e^n,t=s(r^i,t,e,o[5],4,28,-378558),i=s(r^t,i,t,o[8],11,21,-2022574463),a=i^t,n=s(a^e,n,i,o[11],16,16,1839030562),e=s(a^n,e,n,o[14],23,9,-35309556),r=e^n,t=s(r^i,t,e,o[1],4,28,-1530992060),i=s(r^t,i,t,o[4],11,21,1272893353),a=i^t,n=s(a^e,n,i,o[7],16,16,-155497632),e=s(a^n,e,n,o[10],23,9,-1094730640),r=e^n,t=s(r^i,t,e,o[13],4,28,681279174),i=s(r^t,i,t,o[0],11,21,-358537222),a=i^t,n=s(a^e,n,i,o[3],16,16,-722521979),e=s(a^n,e,n,o[6],23,9,76029189),r=e^n,t=s(r^i,t,e,o[9],4,28,-640364487),i=s(r^t,i,t,o[12],11,21,-421815835),a=i^t,n=s(a^e,n,i,o[15],16,16,530742520),e=s(a^n,e,n,o[2],23,9,-995338651),t=s(n^(e|~i),t,e,o[0],6,26,-198630844),i=s(e^(t|~n),i,t,o[7],10,22,1126891415),n=s(t^(i|~e),n,i,o[14],15,17,-1416354905),e=s(i^(n|~t),e,n,o[5],21,11,-57434055),t=s(n^(e|~i),t,e,o[12],6,26,1700485571),i=s(e^(t|~n),i,t,o[3],10,22,-1894986606),n=s(t^(i|~e),n,i,o[10],15,17,-1051523),e=s(i^(n|~t),e,n,o[1],21,11,-2054922799),t=s(n^(e|~i),t,e,o[8],6,26,1873313359),i=s(e^(t|~n),i,t,o[15],10,22,-30611744),n=s(t^(i|~e),n,i,o[6],15,17,-1560198380),e=s(i^(n|~t),e,n,o[13],21,11,1309151649),t=s(n^(e|~i),t,e,o[4],6,26,-145523070),i=s(e^(t|~n),i,t,o[11],10,22,-1120210379),n=s(t^(i|~e),n,i,o[2],15,17,718787259),e=s(i^(n|~t),e,n,o[9],21,11,-343485551),b[0]=t,b[1]=e,b[2]=n,b[3]=i}var c=[],h=[],u=[],d=[],p="0123456789abcdef".split(""),f=[],m=[],g=!1,v=0,y=0,b=[];if(t.Int32Array)h=new Int32Array(16),u=new Int32Array(16),d=new Int32Array(4),f=new Int32Array(4),m=new Int32Array(4),b=new Int32Array(4);else{var x;for(x=0;16>x;x++)h[x]=u[x]=0;for(x=0;4>x;x++)d[x]=f[x]=m[x]=b[x]=0}d[0]=128,d[1]=32768,d[2]=8388608,d[3]=-2147483648,f[0]=0,f[1]=8,f[2]=16,f[3]=24,t.md5=t.md5||o}(window),function(t,e){function n(){this.style=""}n.prototype.add=function(t){var e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");e.appendChild(n),n.type="text/css",n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))},n.prototype.deleteRule=function(t){for(var e=t.toLowerCase(),n=e.replace(".","\\."),i=document.styleSheets.length-1;i>=0;i--)for(var o=this._getRulesArray(i),s=0;o&&s<o.length;s++)if(o[s].selectorText){var r=o[s].selectorText.toLowerCase();r!=e&&r!=n||(document.styleSheets[i].cssRules?document.styleSheets[i].deleteRule(s):document.styleSheets[i].removeRule(s))}return null},n.prototype._getRulesArray=function(t){var e=null;try{document.styleSheets[t].cssRules?e=document.styleSheets[t].cssRules:document.styleSheets[t].rules&&(e=document.styleSheets[t].rules)}catch(n){}return e},window.nextend.css=new n}(n2,window),function(t,e,n){function i(e,n,o,s){i.prototype.openLightbox=n,i.prototype.openMultipleLightbox=o,i.prototype.openFoldersLightbox=s,nextend.imageHelper=this,this.parameters=t.extend({siteKeywords:[],imageUrls:[],wordpressUrl:"",placeholderImage:"",placeholderRepeatedImage:"",protocolRelative:1},e)}i.prototype.protocolRelative=function(t){return this.parameters.protocolRelative?t.replace(/^http(s)?:\/\//,"//"):t},i.prototype.make=function(t){return this.dynamic(t)},i.prototype.dynamic=function(t){for(var e=this.parameters.imageUrls,n=this.parameters.siteKeywords,i=this.protocolRelative(t),o=0;o<n.length;o++)if(0===i.indexOf(e[o])){t=n[o]+i.slice(e[o].length);break}return t},i.prototype.fixed=function(t){for(var e=this.parameters.imageUrls,n=this.parameters.siteKeywords,i=0;i<n.length;i++)if(0===t.indexOf(n[i])){t=e[i]+t.slice(n[i].length);break}return t},i.prototype.openLightbox=function(t){},i.prototype.openMultipleLightbox=function(t){},i.prototype.openFoldersLightbox=function(t){},i.prototype.getPlaceholder=function(){return this.fixed(this.parameters.placeholderImage)},i.prototype.getRepeatedPlaceholder=function(){return this.fixed(this.parameters.placeholderRepeatedImage)},e.NextendImageHelper=i}(n2,window),function(t,e){function n(e,n,i){this.inited=!1,this.currentPane=null,this.customClass="",this.$=t(this),this.counter=r++,this.panes=e,n&&this.show(null,i)}function i(e,n){this.$=t(this),this.options=t.extend({"class":""},n),this.modal=t('<div class="n2-modal n2-modal-simple"/>').addClass(this.options["class"]).css({display:"none"}).appendTo("#n2-admin"),t('<i class="n2-i n2-i-a-deletes"/>').on("click",t.proxy(this.hide,this)).appendTo(this.modal),this.window=t('<div class="n2-modal-window"/>').on("click",function(t){t.stopPropagation()}).appendTo(this.modal),this.notificationStack=new NextendNotificationCenterStackModal(this.modal),this.content=t(e).appendTo(this.window)}function o(e,i,o){return t.jStorage.get("n2-delete-"+e,!1)?(o(),!0):(new n({zero:{size:[500,190],title:n2_("Delete"),back:!1,close:!0,content:"",controls:['<a href="#" class="n2-button n2-button-normal n2-button-l n2-radius-s n2-button-grey n2-uc n2-h4">'+n2_("Cancel")+"</a>",'<div class="n2-button n2-button-with-actions n2-button-l n2-radius-s n2-button-red"><a href="#" class="n2-button-inner n2-uc n2-h4">'+n2_("Delete")+'</a><div class="n2-button-menu-open"><i class="n2-i n2-i-buttonarrow"></i><div class="n2-button-menu"><div class="n2-button-menu-inner n2-border-radius"><a href="#" class="n2-h4">'+n2_("Delete and never ask for confirmation again")+"</a></div></div></div></div>"],fn:{show:function(){this.createCenteredSubHeading(n2_("Are you sure you want to delete?")).appendTo(this.content),this.controls.find(".n2-button-grey").on("click",t.proxy(function(t){t.preventDefault(),this.hide(t)},this)),this.controls.find(".n2-button-red a").on("click",t.proxy(function(t){t.preventDefault(),o(),this.hide(t)},this)),this.controls.find(".n2-button-red .n2-button-menu-inner a").on("click",t.proxy(function(n){n.preventDefault(),t.jStorage.set("n2-delete-"+e,!0)},this)),this.controls.find(".n2-button-menu-open").n2opener()},destroy:function(){this.destroy()}}}},!0),!1)}function s(e,n,i){return o(n,i,function(){window.location.href=t(e).attr("href")}),!1}var r=0;n.prototype.setCustomClass=function(t){this.customClass=t},n.prototype.lateInit=function(){if(!this.inited){for(var e in this.panes)this.panes[e]=t.extend({customClass:"",fit:!1,fitX:!0,overflow:"hidden",size:!1,back:!1,close:!0,controlsClass:"",controls:[],fn:{}},this.panes[e]);var n=!1;this.modal=t('<div class="n2-modal '+this.customClass+'"/>').css("opacity",0).on("click",t.proxy(function(e){0==n&&(this.close.hasClass("n2-hidden")||0!=t(e.target).closest(".n2-notification-center-modal").length||this.hide(e)),n=!1},this)),this.window=t('<div class="n2-modal-window n2-border-radius"/>').on("click",function(t){n=!0}).appendTo(this.modal),this.notificationStack=new NextendNotificationCenterStackModal(this.modal);var i=t('<div class="n2-modal-title n2-content-box-title-bg"/>').appendTo(this.window);this.title=t('<div class="n2-h2 n2-ucf"/>').appendTo(i),this.back=t('<i class="n2-i n2-i-a-back"/>').on("click",t.proxy(this.goBackButton,this)).appendTo(i),this.close=t('<i class="n2-i n2-i-a-deletes"/>').on("click",t.proxy(this.hide,this)).appendTo(i),this.content=t('<div class="n2-modal-content"/>').appendTo(this.window),this.controls=t('<div class="n2-table n2-table-fixed n2-table-auto"/>'),t('<div class="n2-modal-controls"/>').append(this.controls).appendTo(this.window),this.inited=!0}},n.prototype.show=function(e,n){this.lateInit(),this.notificationStack.enableStack(),"undefined"!=typeof e&&e||(e="zero"),nextend.context.addWindow("modal"),NextendEsc.add(t.proxy(function(){return this.close.hasClass("n2-hidden")?!1:(this.hide("esc"),!0)},this)),this.loadPane(e,!1,!0,n),NextendTween.fromTo(this.modal,.3,{opacity:0},{opacity:1,ease:"easeOutCubic"}).play()},n.prototype.hide=function(e){t(window).off(".n2-modal-"+this.counter),this.notificationStack.popStack(),nextend.context.removeWindow(),arguments.length>0&&"esc"!=e&&NextendEsc.pop(),this.apply("hide"),this.apply("destroy"),this.currentPane=null,this.modal.detach(),t(document).off("keyup.n2-esc-modal")},n.prototype.destroy=function(){this.modal.remove()},n.prototype.loadPane=function(e,n,i,o){var s=t.proxy(function(){var s=this.panes[e];this.currentPane=s,s.title!==!1&&this.title.html(s.title),s.back===!1?this.back.addClass("n2-hidden"):this.back.removeClass("n2-hidden"),s.close===!1?this.close.addClass("n2-hidden"):this.close.removeClass("n2-hidden"),this.content.find("> *").detach(),this.content.append(s.content);for(var r=!1,a=t('<div class="n2-tr" />'),l=0;l<s.controls.length;l++)t('<div class="n2-td"/>').addClass("n2-modal-controls-"+l).html(s.controls[l]).appendTo(a),r=!0;if(a.addClass("n2-modal-controls-"+l),this.controls.html(a),this.controls.attr("class","n2-table n2-table-fixed n2-table-auto "+s.controlsClass),"undefined"!=typeof i&&i||NextendTween.fromTo(this.window,.3,{x:n?-2e3:2e3},{x:0,ease:"easeOutCubic"}).play(),this.modal.appendTo("#n2-admin"),s.fit){var c=t(window),h=40,u=t.proxy(function(){var t=c.width()-2*h,e=c.height()-2*h;s.fitX||(t=s.size[0]),this.window.css({width:t,height:e,marginLeft:t/-2,marginTop:e/-2}),this.content.css({height:e-80-(r?this.controls.parent().outerHeight(!0):0),overflow:s.overflow})},this);u(),c.on("resize.n2-modal-"+this.counter,u)}else s.size!==!1&&(this.window.css({width:s.size[0],height:s.size[1],marginLeft:s.size[0]/-2,marginTop:s.size[1]/-2}),this.content.css({height:s.size[1]-80-(r?this.controls.parent().outerHeight(!0):0),overflow:s.overflow}));this.apply("show",o)},this);null!==this.currentPane?(this.apply("destroy"),NextendTween.to(this.window,.3,{x:n?2e3:-2e3,onComplete:s,ease:"easeOutCubic"}).play()):s()},n.prototype.trigger=function(t,e){this.$.trigger(t,e)},n.prototype.on=function(t,e){this.$.on(t,e)},n.prototype.one=function(t,e){this.$.one(t,e)},n.prototype.off=function(t,e){this.$.off(t,e)},n.prototype.goBackButton=function(){var t=null;null!==typeof this.goBackArgs&&(t=this.goBackArgs,this.goBackArgs=null),this.goBack(t)},n.prototype.goBack=function(t){this.apply("goBack",t)&&this.loadPane(this.currentPane.back,!0,!1,t)},n.prototype.apply=function(t,e){return"undefined"!=typeof this.currentPane.fn[t]?this.currentPane.fn[t].apply(this,e):!0},n.prototype.createInput=function(e,n){var i="";return 3==arguments.length&&(i=arguments[2]),t('<div class="n2-form-element-mixed"><div class="n2-mixed-group"><div class="n2-mixed-label"><label for="'+n+'">'+e+'</label></div><div class="n2-mixed-element"><div class="n2-form-element-text n2-border-radius"><input type="text" id="'+n+'" value="" class="n2-h5" autocomplete="off" style="'+i+'"></div></div></div></div>')},n.prototype.createInputUnit=function(e,n,i){var o="";return 4==arguments.length&&(o=arguments[3]),t('<div class="n2-form-element-mixed"><div class="n2-mixed-group"><div class="n2-mixed-label"><label for="'+n+'">'+e+'</label></div><div class="n2-mixed-element"><div class="n2-form-element-text n2-border-radius"><input type="text" id="'+n+'" value="" class="n2-h5" autocomplete="off" style="'+o+'"><div class="n2-text-unit n2-h5 n2-uc">'+i+"</div></div></div></div></div>")},n.prototype.createInputSub=function(e,n,i){var o="";return 4==arguments.length&&(o=arguments[3]),t('<div class="n2-form-element-mixed"><div class="n2-mixed-group"><div class="n2-mixed-label"><label for="'+n+'">'+e+'</label></div><div class="n2-mixed-element"><div class="n2-form-element-text n2-border-radius"><div class="n2-text-sub-label n2-h5 n2-uc">'+i+'</div><input type="text" id="'+n+'" value="" class="n2-h5" autocomplete="off" style="'+o+'"></div></div></div></div>')},n.prototype.createTextarea=function(e,n){var i="";return 3==arguments.length&&(i=arguments[2]),t('<div class="n2-form-element-mixed"><div class="n2-mixed-group"><div class="n2-mixed-label"><label for="'+n+'">'+e+'</label></div><div class="n2-mixed-element"><div class="n2-form-element-textarea n2-border-radius"><textarea id="'+n+'" class="n2-h5" autocomplete="off" style="resize:none;'+i+'"></textarea></div></div></div></div>')},n.prototype.createSelect=function(e,n,i){var o="";4==arguments.length&&(o=arguments[3]),$group=t('<div class="n2-form-element-mixed"><div class="n2-mixed-group "><div class="n2-mixed-label"><label for="'+n+'">'+e+'</label></div><div class="n2-mixed-element"><div class="n2-form-element-list" style=""><select id="'+n+'" autocomplete="off" style="'+o+'"></select></div></div></div></div>'),$select=$group.find("select");for(var s in i)$select.append('<option value="'+s+'">'+i[s]+"</option>");return $select.prop("selectedIndex",0),$group},n.prototype.createHeading=function(e){return t('<h3 class="n2-h3">'+e+"</h3>")},n.prototype.createSubHeading=function(e){return t('<h3 class="n2-h4">'+e+"</h3>")},n.prototype.createCenteredHeading=function(e){return t('<h3 class="n2-h3 n2-center">'+e+"</h3>")},n.prototype.createCenteredSubHeading=function(e){return t('<h3 class="n2-h4 n2-center">'+e+"</h3>")},n.prototype.createResult=function(){return t('<div class="n2-result"></div>')},n.prototype.createTable=function(e,n){for(var i=t('<table class="n2-table-fancy"/>'),o=0;o<e.length;o++)for(var s=t("<tr />").appendTo(i),r=0;r<e[o].length;r++)s.append(t('<td style="'+n[r]+'"/>').append(e[o][r]));return i},n.prototype.createTableWrap=function(){return t('<div class="n2-table-fancy-wrap" style="overflow:auto;height:196px;" />')},n.prototype.createImageRadio=function(e){for(var n=t('<div class="n2-modal-radio" />'),i=t('<input type="hidden" value="'+e[0].key+'"/>').appendTo(n),o=0;o<e.length;o++)n.append('<div class="n2-modal-radio-option" data-key="'+e[o].key+'" style="background-image: url(\''+nextend.imageHelper.fixed(e[o].image)+'\')"><div class="n2-h4">'+e[o].name+"</div></div>");var e=n.find(".n2-modal-radio-option");return e.eq(0).addClass("n2-active"),e.on("click",function(n){e.removeClass("n2-active");var o=t(n.currentTarget);o.addClass("n2-active"),i.val(o.data("key"))}),n},e.NextendModal=n,e.NextendModalSetting={show:function(t,e){new n({zero:{size:[1300,700],title:t,content:'<iframe src="'+e+'" width="1300" height="640" frameborder="0" style="margin:0 -20px -20px -20px;"></iframe>'}},!0)}},e.NextendModalDocumentation=function(t,e){new n({zero:{size:[760,700],title:t,content:'<iframe src="'+e+'" width="760" height="640" frameborder="0" style="margin:0 -20px -20px -20px;"></iframe>'}},!0)},e.NextendNewFullWindow=function(t,e){var n=["height="+screen.height,"width="+screen.width,"fullscreen=yes"].join(","),i=window.open(t,e,n);return i.moveTo(0,0),i},i.prototype.resize=function(){this.window.width(this.modal.width()),this.window.height(this.modal.height())},i.prototype.show=function(){t("body").addClass("n2-modal-active"),this.modal.css("display","block"),
this.resize(),t(window).on("resize.n2-simple-modal",t.proxy(this.resize,this)),this.notificationStack.enableStack(),NextendEsc.add(t.proxy(function(){return this.hide("esc"),!0},this))},i.prototype.hide=function(e){this.notificationStack.popStack(),arguments.length>0&&"esc"!=e&&NextendEsc.pop(),this.modal.css("display","none"),t("body").removeClass("n2-modal-active"),t(document).off("keyup.n2-esc-modal"),t(window).off(".n2-simple-modal"),this.modal.trigger("ModalHide")},e.NextendSimpleModal=i,e.NextendDeleteModal=o,e.NextendDeleteModalLink=s}(n2,window),function(t,e){function n(){this.stack=[],this.tween=null,nextend.ready(t.proxy(function(){var e=t("#n2-admin").find(".n2-main-top-bar");if(e.length>0){var n=new i(t("#n2-admin").find(".n2-main-top-bar"));n.enableStack()}else{var n=new o(t("#n2-admin"));n.enableStack()}},this))}function i(e){this.messages=[],this.isShow=!1,this.importantOnly=0,this.importantOnlyNode=t('<div class="n2-notification-important n2-h5 '+(this.importantOnly?"n2-active":"")+'"><span>'+n2_("Show only errors")+'</span><div class="n2-checkbox n2-light"><i class="n2-i n2-i-tick"></i></div></div>').on("click",t.proxy(this.changeImportant,this)),t.jStorage.listenKeyChange("ss-important-only",t.proxy(this.importantOnlyChanged,this)),this.importantOnlyChanged(),this._init(e),this.emptyMessage=t('<div class="n2-notification-empty n2-h4">'+n2_("There are no messages to display.")+"</div>")}function o(){i.prototype.constructor.apply(this,arguments)}n.prototype.add=function(t){this.stack.push(t)},n.prototype.popStack=function(){this.stack.pop()},n.prototype.getCurrentStack=function(){return this.stack[this.stack.length-1]},n.prototype.success=function(t,e){this.getCurrentStack().success(t,e)},n.prototype.error=function(t,e){this.getCurrentStack().error(t,e)},n.prototype.notice=function(t,e){this.getCurrentStack().notice(t,e)},window.nextend.notificationCenter=new n,i.prototype._init=function(e){this.showButton=e.find(".n2-notification-button").on("click",t.proxy(this.hideOrShow,this));var n=t('<div class="n2-notification-settings"></div>').append(t('<div class="n2-button n2-button-normal n2-button-s n2-button-blue n2-radius-s n2-h5 n2-uc n2-notification-clear">'+n2_("Got it!")+"</div>").on("click",t.proxy(this.clear,this))).append(this.importantOnlyNode);this.container=this.messageContainer=t('<div class="n2-notification-center n2-border-radius-br n2-border-radius-bl"></div>').append(n).appendTo(e)},i.prototype.enableStack=function(){nextend.notificationCenter.add(this)},i.prototype.popStack=function(){nextend.notificationCenter.popStack()},i.prototype.hideOrShow=function(t){t.preventDefault(),this.isShow?this.hide():this.show()},i.prototype.show=function(){this.isShow||(this.isShow=!0,0==this.messages.length&&this.showEmptyMessage(),this.showButton&&this.showButton.addClass("n2-active"),this.container.addClass("n2-active"),this.container.css("display","block"),this._animateShow())},i.prototype.hide=function(){this.isShow&&(this.showButton&&this.showButton.removeClass("n2-active"),this.container.removeClass("n2-active"),this._animateHide(),this.container.css("display","none"),this.isShow=!1)},i.prototype._animateShow=function(){this.tween&&this.tween.pause(),this.tween=NextendTween.fromTo(this.container,.4,{opacity:0},{opacity:1}).play()},i.prototype._animateHide=function(){this.tween&&this.tween.pause()},i.prototype.success=function(t,e){this._message("success",n2_("success"),t,e)},i.prototype.error=function(t,e){this._message("error",n2_("error"),t,e)},i.prototype.notice=function(t,e){this._message("notice",n2_("notice"),t,e)},i.prototype._message=function(e,n,i,o){this.hideEmptyMessage(),o=t.extend({timeout:!1,remove:!1},o);var s=t("<div></div>");return o.timeout&&setTimeout(t.proxy(function(){this.hideMessage(s,o.remove)},this),1e3*o.timeout),s.addClass("n2-table n2-table-fixed n2-h3 n2-border-radius n2-notification-message n2-notification-message-"+e).append(t('<div class="n2-tr"></div>').append('<div class="n2-td n2-first"><i class="n2-i n2-i-n-'+e+'"/></div>').append('<div class="n2-td n2-message"><h4 class="n2-h4 n2-uc">'+n+'</h4><p class="n2-h4">'+i+"</p></div>")).prependTo(this.messageContainer),this.messages.push(s),this.messages.length>3&&this.messages.shift().remove(),this.importantOnly&&"error"!=e&&"notice"!=e||this.show(),s},i.prototype.hideMessage=function(t,e){e?this.deleteMessage(t):this.hide()},i.prototype.deleteMessage=function(e){var n=t.inArray(e,this.messages);n>-1&&(this.messages.splice(n,1),e.remove()),0==this.messages.length&&this.hide()},i.prototype.clear=function(){for(var t=this.messages.length-1;t>=0;t--)this.messages.pop().remove();this.showEmptyMessage(),this.hide()},i.prototype.changeImportant=function(){this.importantOnly?t.jStorage.set("ss-important-only",0):t.jStorage.set("ss-important-only",1)},i.prototype.importantOnlyChanged=function(){this.importantOnly=parseInt(t.jStorage.get("ss-important-only",0)),this.importantOnly?this.importantOnlyNode.addClass("n2-active"):this.importantOnlyNode.removeClass("n2-active")},i.prototype.showEmptyMessage=function(){this.emptyMessage.prependTo(this.container)},i.prototype.hideEmptyMessage=function(){this.emptyMessage.detach()},e.NextendNotificationCenterStack=i,o.prototype=Object.create(i.prototype),o.prototype.constructor=o,o.prototype._init=function(e){var n=t('<div class="n2-notification-settings"></div>').append(t('<div class="n2-button n2-button-normal n2-button-s n2-button-blue n2-radius-s n2-h5 n2-uc n2-notification-clear">Got it!</div>').on("click",t.proxy(this.clear,this))).append(this.importantOnlyNode);this.messageContainer=t('<div class="n2-notification-center n2-border-radius"></div>').append(n),this.container=t('<div class="n2-notification-center-modal"></div>').append(this.messageContainer).appendTo(e)},o.prototype.show=function(){document.activeElement&&document.activeElement.blur(),NextendEsc.add(t.proxy(function(){return this.clear(),!1},this)),i.prototype.show.apply(this,arguments)},o.prototype.hide=function(){NextendEsc.pop(),i.prototype.hide.apply(this,arguments)},o.prototype._animateShow=function(){},o.prototype._animateHide=function(){},e.NextendNotificationCenterStackModal=o}(n2,window),function(t,e,n){function i(t,e,n){for(var i=[],o=0;o<t.length;o++){var s=p(t[o]),r=s.toHsl().l<.5?"n2-sp-thumb-el n2-sp-thumb-dark":"n2-sp-thumb-el n2-sp-thumb-light";r+=p.equals(e,t[o])?" n2-sp-thumb-active":"";var a=v?"background-color:"+s.toRgbString():"filter:"+s.toFilter();i.push('<span title="'+s.toRgbString()+'" data-color="'+s.toRgbString()+'" class="'+r+'"><span class="n2-sp-thumb-inner" style="'+a+';" /></span>')}return"<div class='n2-sp-cf "+n+"'>"+i.join("")+"</div>"}function o(){for(var t=0;t<m.length;t++)m[t]&&m[t].hide()}function s(t,n){var i=e.extend({},f,t);return i.callbacks={move:h(i.move,n),change:h(i.change,n),show:h(i.show,n),hide:h(i.hide,n),beforeShow:h(i.beforeShow,n)},i}function r(r,l){function h(t){vt.toggleClass("n2-sp-flat",W),vt.toggleClass("n2-sp-input-disabled",!B.showInput),vt.toggleClass("n2-sp-alpha-enabled",B.showAlpha),vt.toggleClass("n2-sp-buttons-disabled",!B.showButtons||W),vt.toggleClass("n2-sp-palette-disabled",!B.showPalette),vt.toggleClass("n2-sp-palette-only",B.showPaletteOnly),vt.toggleClass("n2-sp-initial-disabled",!B.showInitial),vt.addClass(B.className),"undefined"==typeof t&&H()}function f(){function n(t){return t.data&&t.data.ignore?(j(e(this).data("color")),P()):(j(e(this).data("color")),z(!0),P(),M()),!1}g&&vt.find("*:not(input)").attr("unselectable","on");var i=mt.parent().find(".n2-sp-replacer");if(i.length?Nt=i:(Nt=jt?e(y).addClass(V):e([]),jt&&mt.parent().after(Nt)),At=jt?Nt:mt,Pt=Nt.find(".n2-sp-preview-inner"),h(!0),W?mt.parent().after(vt).hide():e(ft).append(vt.hide()),Y&&t.localStorage)try{ut=t.localStorage[Y].split(";")}catch(o){}At.bind("click.spectrum touchstart.spectrum",function(t){gt||D(),t.stopPropagation(),e(t.target).is("input")||t.preventDefault()}),(mt.is(":disabled")||B.disabled===!0)&&J(),vt.click(c),Tt.change(C),Tt.bind("paste",function(){setTimeout(C,1)}),Tt.keydown(function(t){13==t.keyCode&&C()}),Ot.text(B.cancelText),Ot.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),M("cancel")}),Mt.text(B.chooseText),Mt.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),A()&&(z(!0),M())}),u(kt,function(t,e,n){lt=t/nt,n.shiftKey&&(lt=Math.round(10*lt)/10),P()}),u(xt,function(t,e){st=parseFloat(e/tt),P()},_,T),u(yt,function(t,e){rt=parseFloat(t/K),at=parseFloat((Q-e)/Q),P()},_,T),Et?(j(Et),E(),Ht=zt||p(Et).format,x(Et)):E(),W&&O();var s=g?"mousedown.spectrum":"click.spectrum touchstart.spectrum";Ct.delegate(".n2-sp-thumb-el",s,n),Dt.delegate(".n2-sp-thumb-el:nth-child(1)",s,{ignore:!0},n)}function x(n){if(q){var i=p(n).toRgbString();if(-1===e.inArray(i,ut)&&ut.push(i),Y&&t.localStorage)try{t.localStorage[Y]=ut.join(";")}catch(o){}}}function w(){var t,e=[],n=ut,i={};if(B.showPalette){for(var o=0;o<ht.length;o++)for(var s=0;s<ht[o].length;s++)t=p(ht[o][s]).toRgbString(),i[t]=!0;for(o=0;o<n.length;o++)t=p(n[o]).toRgbString(),i.hasOwnProperty(t)||(e.push(n[o]),i[t]=!0)}return e.reverse().slice(0,B.maxSelectionSize)}function S(){var t=N(),n=e.map(ht,function(e,n){return i(e,t,"n2-sp-palette-row n2-sp-palette-row-"+n)});ut&&n.push(i(w(),t,"n2-sp-palette-row n2-sp-palette-row-selection")),Ct.html(n.join(""))}function k(){if(B.showInitial){var t=It,e=N();Dt.html(i([t,e],e,"n2-sp-palette-row-initial"))}}function _(){0!==Q&&0!==K&&0!==tt||H(),vt.addClass(dt)}function T(){vt.removeClass(dt)}function C(){var t=p(Tt.val());t.ok?j(t):Tt.addClass("n2-sp-validation-error")}function D(){G?M():O()}function O(){return G?void H():void(U.beforeShow(N())!==!1&&(o(),G=!0,e(pt).bind("click.spectrum",M),e(t).bind("resize.spectrum",X),Nt.addClass("n2-sp-active"),vt.show(),B.showPalette&&S(),H(),E(),It=N(),k(),U.show(It)))}function M(n){if((!n||"click"!=n.type||2!=n.button)&&G&&!W){G=!1,e(pt).unbind("click.spectrum",M),e(t).unbind("resize.spectrum",X),Nt.removeClass("n2-sp-active"),vt.hide();var i=!p.equals(N(),It);i&&(Rt&&"cancel"!==n?z(!0):F()),U.hide(N())}}function F(){j(It,!0)}function j(t,e){if(!p.equals(t,N())){var n=p(t),i=n.toHsv();st=i.h,rt=i.s,at=i.v,lt=i.a,E(),e||(Ht=zt||n.format)}}function N(){return p.fromRatio({h:st,s:rt,v:at,a:Math.round(100*lt)/100})}function A(){return!Tt.hasClass("n2-sp-validation-error")}function P(){E(),U.move(N())}function E(){Tt.removeClass("n2-sp-validation-error"),I();var t=p({h:st,s:"1.0",v:"1.0"});yt.css("background-color","#"+t.toHexString());var e=Ht;1>lt&&("hex"!==e&&"name"!==e||(e="rgb"));var n=N(),i=n.toHexString(),o=n.toRgbString();if(v||1===n.alpha?Pt.css("background-color",o):(Pt.css("background-color","transparent"),Pt.css("filter",n.toFilter())),B.showAlpha){var s=n.toRgb();s.a=0;var r=p(s).toRgbString(),a="linear-gradient(left, "+r+", "+i+")";g?St.css("filter",p(r).toFilter({gradientType:1},i)):(St.css("background","-webkit-"+a),St.css("background","-moz-"+a),St.css("background","-ms-"+a),St.css("background",a))}B.showInput&&(1>lt&&("hex"!==e&&"name"!==e||(e="rgb")),Tt.val(n.toString(e))),B.showPalette&&S(),k()}function I(){var t=rt,e=at,n=t*K,i=Q-e*Q;n=Math.max(-Z,Math.min(K-Z,n-Z)),i=Math.max(-Z,Math.min(Q-Z,i-Z)),bt.css({top:i,left:n});var o=lt*nt;_t.css({left:o-it/2});var s=st*tt;wt.css({top:s-ot})}function z(t){var e=N();Ft&&mt.val(e.toString(Ht)).change();var n=1;It=e,x(e),t&&n&&U.change(e)}function H(){K=yt.width(),Q=yt.height(),Z=bt.height(),et=xt.width(),tt=xt.height(),ot=wt.height(),nt=kt.width(),it=_t.width(),W||vt.offset(a(vt,At.parent())),I()}function R(){mt.show(),At.unbind("click.spectrum touchstart.spectrum"),vt.remove(),Nt.remove(),m[Lt.id]=null}function L(t,i){return t===n?e.extend({},B):i===n?B[t]:(B[t]=i,void h())}function $(){gt=!1,mt.attr("disabled",!1),At.removeClass("n2-sp-disabled")}function J(){M(),gt=!0,mt.attr("disabled",!0),At.addClass("n2-sp-disabled")}var B=s(l,r),W=B.flat,q=B.showSelectionPalette,Y=B.localStorageKey,V=B.theme,U=B.callbacks,X=d(H,10),G=!1,K=0,Q=0,Z=0,tt=0,et=0,nt=0,it=0,ot=0,st=0,rt=0,at=0,lt=1,ct=B.palette.slice(0),ht=e.isArray(ct[0])?ct:[ct],ut=B.selectionPalette.slice(0),dt="n2-sp-dragging",pt=r.ownerDocument,ft=pt.body,mt=e(r),gt=!1,vt=e(b,pt).addClass(V),yt=vt.find(".n2-sp-color"),bt=vt.find(".n2-sp-dragger"),xt=vt.find(".n2-sp-hue"),wt=vt.find(".n2-sp-slider"),St=vt.find(".n2-sp-alpha-inner"),kt=vt.find(".n2-sp-alpha"),_t=vt.find(".n2-sp-alpha-handle"),Tt=vt.find(".n2-sp-input"),Ct=vt.find(".n2-sp-palette"),Dt=vt.find(".n2-sp-initial"),Ot=vt.find(".n2-sp-cancel"),Mt=vt.find(".n2-sp-choose"),Ft=mt.is("input"),jt=Ft&&!W,Nt=null,At=null,Pt=null,Et=B.color||Ft&&mt.val(),It=!1,zt=B.preferredFormat,Ht=zt,Rt=!B.showButtons||B.clickoutFiresChange;vt.on("mousedown",function(t){nextend.context.setMouseDownArea("colorpicker",t)}),f();var Lt={show:O,hide:M,toggle:D,reflow:H,option:L,enable:$,disable:J,set:function(t){j(t),z()},get:N,destroy:R,container:vt};return Lt.id=m.push(Lt)-1,Lt}function a(t,n){var i=0,o=t.outerWidth(),s=t.outerHeight(),r=n.outerHeight(),a=t[0].ownerDocument,l=a.documentElement,c=l.clientWidth+e(a).scrollLeft(),h=l.clientHeight+e(a).scrollTop(),u=n.offset();return u.top+=r+3,u.left-=Math.min(u.left,u.left+o>c&&c>o?Math.abs(u.left+o-c):0),u.top-=Math.min(u.top,u.top+s>h&&h>s?Math.abs(s+r+6-i):i),u}function l(){}function c(t){t.stopPropagation()}function h(t,e){var n=Array.prototype.slice,i=n.call(arguments,2);return function(){return t.apply(e,i.concat(n.call(arguments)))}}function u(t,n,i,o){function s(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.returnValue=!1}function r(e){if(h){if(g&&document.documentMode<9&&!e.button)return l();var i=e.originalEvent.touches,o=i?i[0].pageX:e.pageX,r=i?i[0].pageY:e.pageY,a=Math.max(0,Math.min(o-u.left,p)),c=Math.max(0,Math.min(r-u.top,d));f&&s(e),n.apply(t,[a,c,e])}}function a(n){var o=n.which?3==n.which:2==n.button;n.originalEvent.touches;o||h||i.apply(t,arguments)!==!1&&(h=!0,d=e(t).height(),p=e(t).width(),u=e(t).offset(),e(c).bind(m),e(c.body).addClass("n2-sp-dragging"),f||r(n),s(n))}function l(){h&&(e(c).unbind(m),e(c.body).removeClass("n2-sp-dragging"),o.apply(t,arguments)),h=!1}n=n||function(){},i=i||function(){},o=o||function(){};var c=t.ownerDocument||document,h=!1,u={},d=0,p=0,f=!1,m={};m.selectstart=s,m.dragstart=s,m[f?"touchmove":"mousemove"]=r,m[f?"touchend":"mouseup"]=l,e(t).bind(f?"touchstart":"mousedown",a)}function d(t,e,n){var i;return function(){var o=this,s=arguments,r=function(){i=null,t.apply(o,s)};n&&clearTimeout(i),!n&&i||(i=setTimeout(r,e))}}var p=null,f={beforeShow:l,move:l,change:l,show:l,hide:l,color:!1,flat:!1,showInput:!1,showButtons:!0,clickoutFiresChange:!1,showInitial:!1,showPalette:!1,showPaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",preferredFormat:!1,className:"",showAlpha:!1,theme:"n2-sp-light",palette:["fff","000"],selectionPalette:[],disabled:!1},m=[],g=!!/msie/i.exec(t.navigator.userAgent),v=function(){function t(t,e){return!!~(""+t).indexOf(e)}var e=document.createElement("div"),n=e.style;return n.cssText="background-color:rgba(0,0,0,.5)",t(n.backgroundColor,"rgba")||t(n.backgroundColor,"hsla")}(),y=["<div class='n2-sp-replacer'>","<div class='n2-sp-preview'><div class='n2-sp-preview-inner'></div></div>","<div class='n2-sp-dd'>&#9650;</div>","</div>"].join(""),b=function(){var t="";if(g)for(var e=1;6>=e;e++)t+="<div class='n2-sp-"+e+"'></div>";return["<div class='n2-sp-container'>","<div class='n2-sp-palette-container'>","<div class='n2-sp-palette n2-sp-thumb n2-sp-cf'></div>","</div>","<div class='n2-sp-picker-container'>","<div class='n2-sp-top n2-sp-cf'>","<div class='n2-sp-fill'></div>","<div class='n2-sp-top-inner'>","<div class='n2-sp-color'>","<div class='n2-sp-sat'>","<div class='n2-sp-val'>","<div class='n2-sp-dragger'></div>","</div>","</div>","</div>","<div class='n2-sp-hue'>","<div class='n2-sp-slider'></div>",t,"</div>","</div>","<div class='n2-sp-alpha'><div class='n2-sp-alpha-inner'><div class='n2-sp-alpha-handle'></div></div></div>","</div>","<div class='n2-sp-input-container n2-sp-cf'>","<input class='n2-sp-input' type='text' spellcheck='false'  />","</div>","<div class='n2-sp-initial n2-sp-thumb n2-sp-cf'></div>","<div class='n2-sp-button-container n2-sp-cf'>","<a class='n2-sp-cancel' href='#'></a>","<button class='n2-sp-choose'></button>","</div>","</div>","</div>"].join("")}(),x="spectrum.id";e.fn.n2spectrum=function(t,n){if("string"==typeof t){var i=this,o=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=m[e(this).data(x)];if(n){var s=n[t];if(!s)throw new Error("Spectrum: no such method: '"+t+"'");"get"==t?i=n.get():"container"==t?i=n.container:"option"==t?i=n.option.apply(n,o):"destroy"==t?(n.destroy(),e(this).removeData(x)):s.apply(n,o)}}),i}return this.n2spectrum("destroy").each(function(){var n=r(this,t);e(this).data(x,n.id)})},e.fn.n2spectrum.load=!0,e.fn.n2spectrum.loadOpts={},e.fn.n2spectrum.draggable=u,e.fn.n2spectrum.defaults=f,e.n2spectrum={},e.n2spectrum.localization={},e.n2spectrum.palettes={},e.fn.n2spectrum.processNativeColorInputs=function(){var t=e("<input type='color' value='!' />")[0],n="color"===t.type&&"!"!=t.value;n||e("input[type=color]").n2spectrum({preferredFormat:"hex6"})},function(t){function e(t){var e={r:0,g:0,b:0},i=1,s=!1,a=!1;return"string"==typeof t&&(t=g(t)),"object"==typeof t&&(t.hasOwnProperty("r")&&t.hasOwnProperty("g")&&t.hasOwnProperty("b")?(e=n(t.r,t.g,t.b),s=!0,a="rgb"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("v")?(e=r(t.h,t.s,t.v),s=!0,a="hsv"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("l")&&(e=o(t.h,t.s,t.l),s=!0,a="hsl"),t.hasOwnProperty("a")&&(i=t.a)),e.r=S(255,k(e.r,0)),e.g=S(255,k(e.g,0)),e.b=S(255,k(e.b,0)),e.r<1&&(e.r=w(e.r)),e.g<1&&(e.g=w(e.g)),e.b<1&&(e.b=w(e.b)),{ok:s,format:t&&t.format||a,r:e.r,g:e.g,b:e.b,a:i}}function n(t,e,n){return{r:255*c(t,255),g:255*c(e,255),b:255*c(n,255)}}function i(t,e,n){t=c(t,255),e=c(e,255),n=c(n,255);var i,o,s=k(t,e,n),r=S(t,e,n),a=(s+r)/2;if(s==r)i=o=0;else{var l=s-r;switch(o=a>.5?l/(2-s-r):l/(s+r),s){case t:i=(e-n)/l+(n>e?6:0);break;case e:i=(n-t)/l+2;break;case n:i=(t-e)/l+4}i/=6}return{h:i,s:o,l:a}}function o(t,e,n){function i(t,e,n){return 0>n&&(n+=1),n>1&&(n-=1),1/6>n?t+6*(e-t)*n:.5>n?e:2/3>n?t+(e-t)*(2/3-n)*6:t}var o,s,r;if(t=c(t,360),e=c(e,100),n=c(n,100),0===e)o=s=r=n;else{var a=.5>n?n*(1+e):n+e-n*e,l=2*n-a;o=i(l,a,t+1/3),s=i(l,a,t),r=i(l,a,t-1/3)}return{r:255*o,g:255*s,b:255*r}}function s(t,e,n){t=c(t,255),e=c(e,255),n=c(n,255);var i,o,s=k(t,e,n),r=S(t,e,n),a=s,l=s-r;if(o=0===s?0:l/s,s==r)i=0;else{switch(s){case t:i=(e-n)/l+(n>e?6:0);break;case e:i=(n-t)/l+2;break;case n:i=(t-e)/l+4}i/=6}return{h:i,s:o,v:a}}function r(t,e,n){t=6*c(t,360),e=c(e,100),n=c(n,100);var i=x.floor(t),o=t-i,s=n*(1-e),r=n*(1-o*e),a=n*(1-(1-o)*e),l=i%6,h=[n,r,s,s,a,n][l],u=[a,n,n,r,s,s][l],d=[s,s,a,n,n,r][l];return{r:255*h,g:255*u,b:255*d}}function a(t,e,n,i){var o=[m(w(t).toString(16)),m(w(e).toString(16)),m(w(n).toString(16))];return i||o[0].charAt(0)!=o[0].charAt(1)||o[1].charAt(0)!=o[1].charAt(1)||o[2].charAt(0)!=o[2].charAt(1)?o.join(""):o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)}function l(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function c(t,e){d(t)&&(t="100%");var n=f(t);return t=S(e,k(0,T(t))),n&&(t*=e/100),x.abs(t-e)<1e-6?1:t>=1?t%e/T(e):t}function h(t){return S(1,k(0,t))}function u(t){return parseInt(t,16)}function d(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===T(t)}function f(t){return"string"==typeof t&&-1!=t.indexOf("%")}function m(t){return 1==t.length?"0"+t:""+t}function g(t){t=t.replace(v,"").replace(y,"").toLowerCase();var e=!1;if(C[t])t=C[t],e=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0};var n;return(n=O.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=O.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=O.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=O.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=O.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=O.hex6.exec(t))?{r:u(n[1]),g:u(n[2]),b:u(n[3]),format:e?"name":"hex"}:(n=O.hex8.exec(t))?{r:u(n[1]),g:u(n[2]),b:u(n[3]),a:u(n[4])/255,format:e?"name":"hex"}:(n=O.hex3.exec(t))?{r:u(n[1]+""+n[1]),g:u(n[2]+""+n[2]),b:u(n[3]+""+n[3]),format:e?"name":"hex"}:!1}var v=/^[\s,#]+/,y=/\s+$/,b=0,x=Math,w=x.round,S=x.min,k=x.max,_=x.random,T=t.parseFloat;p=function(t,n){if("object"==typeof t&&t.hasOwnProperty("_tc_id"))return t;var o=e(t),r=o.r,l=o.g,c=o.b,h=T(o.a),u=o.format;return{ok:o.ok,format:u,_tc_id:b++,alpha:h,toHsv:function(){var t=s(r,l,c);return{h:t.h,s:t.s,v:t.v,a:h}},toHsvString:function(){var t=s(r,l,c),e=w(360*t.h),n=w(100*t.s),i=w(100*t.v);return 1==h?"hsv("+e+", "+n+"%, "+i+"%)":"hsva("+e+", "+n+"%, "+i+"%, "+h+")"},toHsl:function(){var t=i(r,l,c);return{h:t.h,s:t.s,l:t.l,a:h}},toHslString:function(){var t=i(r,l,c),e=w(360*t.h),n=w(100*t.s),o=w(100*t.l);return 1==h?"hsl("+e+", "+n+"%, "+o+"%)":"hsla("+e+", "+n+"%, "+o+"%, "+h+")"},toHex:function(){return a(r,l,c)},toHexString:function(t){return a(r,l,c,t)},toHexString8:function(){return a(r,l,c,!0)+m(w(255*h).toString(16))},toRgb:function(){return{r:w(r),g:w(l),b:w(c),a:h}},toRgbString:function(){return 1==h?"rgb("+w(r)+", "+w(l)+", "+w(c)+")":"rgba("+w(r)+", "+w(l)+", "+w(c)+", "+h+")"},toName:function(){return D[a(r,l,c)]||!1},toFilter:function(t,e){var n=a(r,l,c,!0),i=n,o=Math.round(255*T(h)).toString(16),s=o,u=t&&t.gradientType?"GradientType = 1, ":"";if(e){var d=p(e);i=d.toHex(),s=Math.round(255*T(d.alpha)).toString(16)}return"progid:DXImageTransform.Microsoft.gradient("+u+"startColorstr=#"+m(o)+n+",endColorstr=#"+m(s)+i+")"},toString:function(t){t=t||this.format;var e=!1;return"rgb"===t&&(e=this.toRgbString()),"hex"===t&&(e=this.toHexString()),"hex6"===t&&(e=this.toHexString(!0)),"hex8"===t&&(e=this.toHexString8()),"name"===t&&(e=this.toName()),"hsl"===t&&(e=this.toHslString()),"hsv"===t&&(e=this.toHsvString()),e||this.toHexString(!0)}}},p.fromRatio=function(t){if("object"==typeof t)for(var e in t)1===t[e]&&(t[e]="1.0");return p(t)},p.equals=function(t,e){return t&&e?p(t).toRgbString()==p(e).toRgbString():!1},p.random=function(){return p.fromRatio({r:_(),g:_(),b:_()})},p.desaturate=function(t,e){var n=p(t).toHsl();return n.s-=(e||10)/100,n.s=h(n.s),p(n)},p.saturate=function(t,e){var n=p(t).toHsl();return n.s+=(e||10)/100,n.s=h(n.s),p(n)},p.greyscale=function(t){return p.desaturate(t,100)},p.lighten=function(t,e){var n=p(t).toHsl();return n.l+=(e||10)/100,n.l=h(n.l),p(n)},p.darken=function(t,e){var n=p(t).toHsl();return n.l-=(e||10)/100,n.l=h(n.l),p(n)},p.complement=function(t){var e=p(t).toHsl();return e.h=(e.h+.5)%1,p(e)},p.triad=function(t){var e=p(t).toHsl(),n=360*e.h;return[p(t),p({h:(n+120)%360,s:e.s,l:e.l}),p({h:(n+240)%360,s:e.s,l:e.l})]},p.tetrad=function(t){var e=p(t).toHsl(),n=360*e.h;return[p(t),p({h:(n+90)%360,s:e.s,l:e.l}),p({h:(n+180)%360,s:e.s,l:e.l}),p({h:(n+270)%360,s:e.s,l:e.l})]},p.splitcomplement=function(t){var e=p(t).toHsl(),n=360*e.h;return[p(t),p({h:(n+72)%360,s:e.s,l:e.l}),p({h:(n+216)%360,s:e.s,l:e.l})]},p.analogous=function(t,e,n){e=e||6,n=n||30;var i=p(t).toHsl(),o=360/n,s=[p(t)];for(i.h*=360,i.h=(i.h-(o*e>>1)+720)%360;--e;)i.h=(i.h+o)%360,s.push(p(i));return s},p.monochromatic=function(t,e){e=e||6;for(var n=p(t).toHsv(),i=n.h,o=n.s,s=n.v,r=[],a=1/e;e--;)r.push(p({h:i,s:o,v:s})),s=(s+a)%1;return r},p.readable=function(t,e){var n=p(t).toRgb(),i=p(e).toRgb();return(i.r-n.r)*(i.r-n.r)+(i.g-n.g)*(i.g-n.g)+(i.b-n.b)*(i.b-n.b)>10404};var C=p.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},D=p.hexNames=l(C),O=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",o="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+o),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+o),hsv:new RegExp("hsv"+i),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}()}(this),e(function(){e.fn.n2spectrum.load&&e.fn.n2spectrum.processNativeColorInputs()})}(window,n2),function(t,e){function n(e,n){this.app="system",this.key="IsExpert",this.isExpert=0,this.style=t('<div style="display: none;"></div>').appendTo("body"),n?(this.switches=t(".n2-expert-switch").on({mousedown:t.proxy(nextend.context.setMouseDownArea,nextend.context,"expertClicked"),click:t.proxy(this.switchExpert,this,!0)}),this.load(),this.isExpert||this.disable(!1),t.jStorage.listenKeyChange(this.app+this.key,t.proxy(this.load,this))):(this.switches=t(),this.disable(!1))}n.prototype.load=function(){var e=parseInt(t.jStorage.get(this.app+this.key,0));e!=this.isExpert&&this.switchExpert(!1,!1)},n.prototype.set=function(e,n){this.isExpert=e,n&&t.jStorage.set(this.app+this.key,e)},n.prototype.switchExpert=function(t,e){e&&e.preventDefault(),this.isExpert?this.disable(t):this.enable(t)},n.prototype.measureElement=function(){var e=null,n=t(window).scrollTop(),i=n+62,o=n+t(window).height()-100;t(".n2-content-area > .n2-heading-bar,.n2-content-area > .n2-form-tab ,#n2-admin .n2-content-area form > .n2-form > .n2-form-tab").each(function(){var n=t(this);return n.offset().top>i?(n.hasClass("n2-heading-bar")||(e=n),!1):n.offset().top+n.height()>o?(n.hasClass("n2-heading-bar")||(e=n),!1):void 0}),this.measuredElement=e},n.prototype.scrollToMeasured=function(){if(null!==this.measuredElement){for(;this.measuredElement.length&&!this.measuredElement.is(":VISIBLE");)this.measuredElement=this.measuredElement.prev();0!=this.measuredElement.length&&t("html,body").scrollTop(this.measuredElement.offset().top-102)}},n.prototype.enable=function(e){this.measureElement(),this.changeStyle(""),this.set(1,e),this.switches.addClass("n2-active"),t("html").addClass("n2-in-expert"),e&&this.scrollToMeasured()},n.prototype.disable=function(e){this.measureElement(),this.changeStyle(".n2-expert{display: none !important;}"),this.set(0,e),this.switches.removeClass("n2-active"),t("html").removeClass("n2-in-expert"),e&&this.scrollToMeasured()},n.prototype.changeStyle=function(t){this.style.html('<style type="text/css">'+t+"</style>")},e.NextendExpertMode=n}(n2,window),function(t){t(n2)}(function(t){function e(e){var r=e||window.event,a=l.call(arguments,1),c=0,u=0,d=0,p=0,f=0,m=0;if(e=t.event.fix(r),e.type="mousewheel","detail"in r&&(d=-1*r.detail),"wheelDelta"in r&&(d=r.wheelDelta),"wheelDeltaY"in r&&(d=r.wheelDeltaY),"wheelDeltaX"in r&&(u=-1*r.wheelDeltaX),"axis"in r&&r.axis===r.HORIZONTAL_AXIS&&(u=-1*d,d=0),c=0===d?u:d,"deltaY"in r&&(d=-1*r.deltaY,c=d),"deltaX"in r&&(u=r.deltaX,0===d&&(c=-1*u)),0!==d||0!==u){if(1===r.deltaMode){var g=t.data(this,"mousewheel-line-height");c*=g,d*=g,u*=g}else if(2===r.deltaMode){var v=t.data(this,"mousewheel-page-height");c*=v,d*=v,u*=v}if(p=Math.max(Math.abs(d),Math.abs(u)),(!s||s>p)&&(s=p,i(r,p)&&(s/=40)),i(r,p)&&(c/=40,u/=40,d/=40),c=Math[c>=1?"floor":"ceil"](c/s),u=Math[u>=1?"floor":"ceil"](u/s),d=Math[d>=1?"floor":"ceil"](d/s),h.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();f=e.clientX-y.left,m=e.clientY-y.top}return e.deltaX=u,e.deltaY=d,e.deltaFactor=s,e.offsetX=f,e.offsetY=m,e.deltaMode=0,a.unshift(e,c,u,d),o&&clearTimeout(o),o=setTimeout(n,200),(t.event.dispatch||t.event.handle).apply(this,a)}}function n(){s=null}function i(t,e){return h.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120===0}var o,s,r=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],a="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(t.event.fixHooks)for(var c=r.length;c;)t.event.fixHooks[r[--c]]=t.event.mouseHooks;var h=t.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=a.length;n;)this.addEventListener(a[--n],e,!1);else this.onmousewheel=e;t.data(this,"mousewheel-line-height",h.getLineHeight(this)),t.data(this,"mousewheel-page-height",h.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=a.length;n;)this.removeEventListener(a[--n],e,!1);else this.onmousewheel=null;t.removeData(this,"mousewheel-line-height"),t.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var n=t(e),i=n["offsetParent"in t.fn?"offsetParent":"parent"]();return i.length||(i=t("body")),parseInt(i.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(e){return t(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}),function(t,e){function n(){o||(t(window).on("beforeunload",function(e){if(nextend.askToSave&&o+18e4<t.now()){var n={changed:!1};if(t(window).triggerHandler("n2-before-unload",n),n.changed){var i=n2_("The changes you made will be lost if you navigate away from this page.");return(e||window.event).returnValue=i,i}}}),o=t.now())}function i(e,i,o){this.form=t("#"+e).on("saved",t.proxy(this.onSaved,this)).data("form",this),
this.onSaved(),this.url=i,this.values=o,"undefined"!=typeof document.formvalidator&&(document.formvalidator.isValid=function(){return!0}),t(window).on("n2-before-unload",t.proxy(this.onBeforeUnload,this)),n(),t("input, textarea").on("keyup",function(t){27==t.which&&(t.target.blur(),t.stopPropagation())})}var o=!1;i.prototype.onBeforeUnload=function(t,e){!e.changed&&this.isChanged()&&(e.changed=!0)},i.prototype.isChanged=function(){return this.form.triggerHandler("checkChanged"),this.serialized!=this.form.serialize()},i.prototype.onSaved=function(){this.serialized=this.form.serialize()},i.submit=function(t){return nextend.askToSave=!1,setTimeout(function(){n2(t).submit()},300),!1},e.NextendForm=i,t(window).ready(function(){t("input[data-disabled]").on("focus",function(){this.blur()})})}(n2,window),N2Require("FormElement",[],[],function(t,e,n){function i(){this.connectedField=null,this.element.data("field",this)}return i.prototype.triggerOutsideChange=function(){this.element.triggerHandler("outsideChange",this),this.element.triggerHandler("nextendChange",this)},i.prototype.triggerInsideChange=function(){this.element.triggerHandler("insideChange",this),this.element.triggerHandler("nextendChange",this)},i.prototype.focus=function(t){this.connectedField&&this.connectedField.focus(t)},i}),N2Require("FormElementText",["FormElement"],[],function(t,e,n){function i(n){this.element=t("#"+n).on({focus:t.proxy(this._focus,this),blur:t.proxy(this._blur,this),change:t.proxy(this.change,this)}),this.tagName=this.element.prop("tagName"),this.parent=this.element.parent(),e.FormElement.prototype.constructor.apply(this,arguments)}return i.prototype=Object.create(e.FormElement.prototype),i.prototype.constructor=i,i.prototype._focus=function(){this.parent.addClass("focus"),"TEXTAREA"!=this.tagName&&this.element.on("keypress.n2-text",t.proxy(function(t){13==t.which&&(this.element.off("keypress.n2-text"),this.element.trigger("blur"))},this))},i.prototype._blur=function(){this.parent.removeClass("focus")},i.prototype.change=function(){this.triggerOutsideChange()},i.prototype.insideChange=function(t){this.element.val(t),this.triggerInsideChange()},i.prototype.focus=function(t){this.connectedField?this.connectedField.focus(t):t&&this.element.focus().select()},i}),N2Require("FormElementAutocompleteSimple",[],[],function(t,e,n){function i(e,n){this.element=t("#"+e).data("autocomplete",this),this.element.nextendAutocomplete({appendTo:"body",minLength:0,position:{my:"center top",at:"center bottom",collision:"flip"},source:function(t,e){e(n)},select:function(e,n){return t(this).val(n.item.value).trigger("change"),!1}}).click(function(){t(this).nextendAutocomplete("search","")})}return i}),N2Require("FormElementAutocompleteSlider",[],[],function(t,e,n){function i(e,n){this.localChange=!1,this.element=t("#"+e).data("autocomplete",this);var i=this.element.parent().on({"mouseenter.n2slider":t.proxy(this.startSlider,this,n)}),o=i.siblings(".n2-form-element-units").find("> input");if(n.units&&o.length){var s=n.units;o.on("nextendChange",t.proxy(function(){n.min=s[o.val()+"min"],n.max=s[o.val()+"max"],this.slider&&(this.slider.slider("option","min",n.min),this.slider.slider("option","max",n.max))},this))}}return i.prototype.startSlider=function(e,n){this.element.parent().off(".n2slider"),this.slider||(this.slider=t("<div></div>").appendTo(t('<div class="n2-ui-slider-container"></div>').insertAfter(this.element)).removeAttr("slide").prop("slide",!1).slider(t.extend({start:t.proxy(function(){this.element.parent().addClass("n2-active")},this),stop:t.proxy(function(){this.element.parent().removeClass("n2-active")},this),slide:t.proxy(function(t,e){this.localChange=!0,this.element.val(e.value).trigger("change"),this.localChange=!1},this)},e)),"undefined"!=typeof this.slider[0].slide&&(this.slider[0].slide=null),this.element.on("nextendChange",t.proxy(function(){if(!this.localChange){var t=this.element.val();t==parseFloat(t)&&this.slider.slider("value",parseFloat(this.element.val()))}},this))),this.slider.slider("value",parseFloat(this.element.val()))},i}),N2Require("FormElementAutocomplete",[],[],function(t,e,n){function i(e,n){this.tags=n,this.element=t("#"+e).data("autocomplete",this),this.element.on("keydown",function(e){e.keyCode===t.ui.keyCode.TAB&&t(this).nextendAutocomplete("instance").menu.active&&e.preventDefault()}).nextendAutocomplete({minLength:0,position:{my:"left top-2",of:this.element.parent(),collision:"flip"},source:t.proxy(function(e,n){var i=e.term.split(/,/),o=[];t.each(this.tags,function(t,e){-1===i.indexOf(e)&&o.push(e)}),n(o)},this),focus:function(){return!1},select:function(e,n){var i=this.value.split(/,/);return i.pop(),i.push(n.item.value),i.push(""),this.value=i.join(","),t(this).trigger("change").nextendAutocomplete("search"),!1}}).click(function(){t(this).nextendAutocomplete("search")}),this.element.siblings(".n2-form-element-clear").on("click",t.proxy(this.clear,this))}return i.prototype.clear=function(t){t.preventDefault(),t.stopPropagation(),this.element.val("").trigger("change")},i.prototype.setTags=function(t){this.tags=t},i}),N2Require("BasicCSSFont",["BasicCSSSkeleton"],[],function(t,e,n){function i(){this._singular="font",this._prular="fonts",e.BasicCSSSkeleton.prototype.constructor.apply(this,arguments),this.form={afont:t("#layerfamily"),color:t("#layercolor"),size:t("#layersize"),bold:t("#layerweight"),weight:t("#layerweight"),lineheight:t("#layerlineheight"),align:t("#layertextalign").on("nextendChange",t.proxy(function(e){if(!this.manager.underActivate&&!this.manager.inPresetList)switch(t(e.currentTarget).val()){case"left":case"justify":nextend.smartSlider.canvasManager.mainContainer.getSelectedLayer().setProperty("align","left","layer");break;case"right":nextend.smartSlider.canvasManager.mainContainer.getSelectedLayer().setProperty("align","right","layer");break;default:nextend.smartSlider.canvasManager.mainContainer.getSelectedLayer().setProperty("align","center","layer")}},this)),underline:t("#layerdecoration"),italic:t("#layerdecoration")},this.loaded()}return i.prototype=Object.create(e.BasicCSSSkeleton.prototype),i.prototype.constructor=i,i.prototype._transformsize=function(t){return t.split("||").join("|*|")},i.prototype._setsize=function(t,e){t.size=e.replace("|*|","||")},i.prototype._transformweight=function(t){return parseInt(t)},i.prototype._setweight=function(t,e){t.weight=parseInt(e)},i.prototype._transformunderline=function(t){return[1==this.value[this.activeTab].italic?"italic":"",1==t?"underline":""].join("||")},i.prototype._setunderline=function(t,e){var n=e.split("||");t.underline="underline"==n[1]?1:0},i.prototype._transformitalic=function(t){return[1==t?"italic":"",1==this.value[this.activeTab].underline?"underline":""].join("||")},i.prototype._setitalic=function(t,e){var n=e.split("||");t.italic="italic"==n[0]?1:0},i}),N2Require("BasicCSSSkeleton",[],[],function(t,e,n){function i(e){this.hasVisuals=!1,this.isInsideChange=!1,this.isReload=!1,this.manager=e,this.$container=e.$container.find("#n2-tab-basiccss"+this._singular),this.$visuals=this.$container.find(".n2-css-name"),this.$visualsLabel=this.$visuals.find(".n2-css-name-label"),this.$visualsList=this.$visuals.find(".n2-css-name-list"),this.$tabsContainer=this.$container.find(".n2-css-tab"),this.$reset=this.$container.find(".n2-css-tab-reset").on("click",t.proxy(function(t){this.value[this.activeTab]={},this._lazySave(t),this.activateTab(this.activeTab)},this)),this.$more=this.$container.find(".n2-basiccss-more").on("click",t.proxy(function(t){t.preventDefault(),this.visuals[this.activeVisual].field.show(t)},this)),this.activeVisual=0,this.activeTab=0,this.tabs=[]}return i.prototype.loaded=function(){for(var e in this.form)this.form[e].on({nextendChange:t.proxy(this.changeValue,this,e)})},i.prototype.changeValue=function(t,e){this.isReload||("function"==typeof this["_set"+t]?this["_set"+t](this.value[this.activeTab],this.form[t].val()):this.value[this.activeTab][t]=this.form[t].val(),this._lazySave(e))},i.prototype._lazySave=NextendDeBounce(function(t){this.isInsideChange=!0;var e=this.getBase64();this.visuals[this.activeVisual].field.save(t,e),this.visuals[this.activeVisual].value=e,this.isInsideChange=!1},50),i.prototype.save=function(t){this.isInsideChange=!0;for(var e in t)this.visualsByName[e].field.save({},t[e]),this.visualsByName[e].value=t[e];this.isInsideChange=!1},i.prototype.getBase64=function(){return Base64.encode(JSON.stringify({name:n2_("Static"),data:this.value}))},i.prototype.load=function(e,n){if(this.hasVisuals=n.length>0,this.$container.toggleClass("n2-css-has-"+this._singular,this.hasVisuals),this.hasVisuals){this.visuals=[],this.visualsByName={},this.$visualsList.html(""),this.$visuals.toggleClass("n2-multiple",n.length>1);for(var i=0;i<n.length;i++){var o=n[i];this.visualsByName[o.name]={value:e[o.name],mode:o.mode,field:o.field},o.field.element.off(".basiccss").on("outsideChange.basiccss",t.proxy(this.loadSingleValue,this,i,o.name)),this.visuals.push(this.visualsByName[o.name]),t("<span>"+o.field.getLabel()+"</span>").on("click",t.proxy(function(t,e){this.activateVisual(t),this.activateTab(0)},this,i)).appendTo(this.$visualsList)}this.activateVisual(0),this.activateTab(0)}},i.prototype.loadSingleValue=function(t,e,n){this.isInsideChange||(this.visuals[t].value=this.visuals[t].field.element.val(),this.activeVisual==t&&(this.activateVisual(t),this.activateTab(this.activeTab)))},i.prototype.activateVisual=function(e){this.activeVisual=e,this.$visualsLabel.html(this.visuals[e].field.getLabel()),nextend[this._singular+"Manager"].getDataFromController(this.visuals[e].value,{previewMode:this.visuals[e].mode},t.proxy(function(t,e){this.value=t,this.setTabs(e)},this))},i.prototype.activateTab=function(e){this.isReload=!0,this.activeTab=e,this.$container.toggleClass("n2-css-show-reset",0!=e);var n=0==e?this.value[e]:t.extend({},this.value[0],this.value[e]);for(var i in n)"undefined"!=typeof this.form[i]&&("function"==typeof this["_transform"+i]?this.form[i].data("field").insideChange(this["_transform"+i](n[i])):this.form[i].data("field").insideChange(n[i]));this.$tabs.removeClass("n2-active").eq(e).addClass("n2-active"),this.isReload=!1},i.prototype.setTabs=function(e){this.tabs=e,this.$tabsContainer.html("");for(var n=0;n<e.length;n++)t("<span>"+e[n]+"</span>").on("click",t.proxy(function(t,e){this.activateTab(t)},this,n)).appendTo(this.$tabsContainer);this.$tabs=this.$tabsContainer.find("span")},i.prototype.serialize=function(){if(this.hasVisuals){var t={};for(var e in this.visualsByName)t[e]=this.visualsByName[e].value;return t}return{}},i.prototype.unSerialize=function(t){for(var e in t)this.visualsByName[e].field.save({},t[e]),this.visualsByName[e].value=t[e]},i}),N2Require("BasicCSSStyle",["BasicCSSSkeleton"],[],function(t,e,n){function i(){this._singular="style",this._prular="styles",e.BasicCSSSkeleton.prototype.constructor.apply(this,arguments),this.form={backgroundcolor:t("#layerbackgroundcolor"),opacity:t("#layeropacity"),padding:t("#layerpadding"),border:t("#layerborder"),borderradius:t("#layerborderradius")},this.loaded()}return i.prototype=Object.create(e.BasicCSSSkeleton.prototype),i.prototype.constructor=i,i}),N2Require("BasicCSS",[],[],function(t,e,n){function i(n,i){this.underActivate=!1,this.inPresetList=!1,this.$container=t("#"+n),this.ajaxUrl=i,this.throttleSetTimeout=null,this.throttleExitTimeout=null,this.storage={},this.assets={font:new e.BasicCSSFont(this),style:new e.BasicCSSStyle(this)},this.$preset=t('<div id="n2-tab-basiccsspreset"><div class="n2-editor-header n2-h2 n2-uc"><span class="n2-css-name n2-css-name-label">'+n2_("Preset")+"</span></div></div>").prependTo(this.$container),t('<div class="n2-ss-editor-window-notice n2-ss-responsive-helper n2-h5">'+n2_(window.n2_printf('NOTE: Layer design changes apply to each device. Watch <a href="%s" target="_blank">video tutorial</a> to learn responsive tools.',"https://www.youtube.com/watch?v=yGpVsrzwt1U&index=4&list=PLSawiBnEUNfvzcI3pBHs4iKcbtMCQU0dB"))+"</div>").prependTo(this.$container);var o=t('<div class="n2-ss-button-container"></div>').insertAfter(this.$preset.find(".n2-css-name"));t('<a class="n2-button n2-button-icon n2-button-s n2-radius-s n2-button-darker n2-h5 n2-uc" href="#" data-n2tip="'+n2_("Reset design to default")+'"><i class="n2-i n2-i-reset2"></i></a>').on("click",t.proxy(function(t){t.preventDefault(),this.exitPresetList(this.defs,t)},this)).appendTo(o),t('<a class="n2-basiccss-save n2-button n2-button-icon n2-button-s n2-radius-s n2-button-darker n2-h5 n2-uc" href="#" data-n2tip="'+n2_("Save design as new preset")+'"><i class="n2-i n2-i-save"></i></a>').on("click",t.proxy(function(t){t.preventDefault(),this.saveAsNew()},this)).appendTo(o),this.$presets=t('<div id="n2-tab-basiccsspresets"></div>').appendTo(this.$container),t('<a class="n2-basiccss-choose n2-button n2-button-icon n2-button-s n2-radius-s n2-button-green n2-h5 n2-uc" data-n2tip="'+n2_("Load design")+'" href="#"><i class="n2-i n2-i-addlayer2"></i></a>').on("click",t.proxy(function(t){t.preventDefault(),this.showList()},this)).appendTo(o),t('<a class="n2-basiccss-back n2-button n2-button-icon n2-button-s n2-radius-s n2-button-grey n2-h5 n2-uc" href="#"><i class="n2-i n2-i-closewindow"></i></a>').on("click",t.proxy(function(t){t.preventDefault(),this.exitPresetList(!1,t)},this)).appendTo(o),nextend.basicCSS=this}return i.prototype.showList=function(){this.inPresetList=!0,this.lastState=this.serialize(),t.when(this.loadType()).done(t.proxy(function(t){this.$presets.append(this.storage[this.type]),this.$container.addClass("n2-basiccss-show-preset-list")},this)),this.$presets.on("mouseleave",t.proxy(function(){this.throttledUnSerialize(this.lastState)},this))},i.prototype.activate=function(e,n,i){this.inPresetList&&this.exitPresetList(!1),this.underActivate=!0,this.type&&this.type!==e&&"undefined"!=typeof this.storage[this.type]&&this.storage[this.type].detach();var o=!1;this.defs={font:[],style:[]},this.type=e;for(var s in this.assets){for(var r=0;r<i[s].length;r++)this.defs[s][i[s][r].name]=i[s][r].def;this.assets[s].load(n,i[s]),o=o||this.assets[s].hasVisuals}t("#n2-ss-layer-window").toggleClass("n2-ss-has-design-option",o),o||t('#n2-ss-layer-window .n2-sidebar-tab-switcher .n2-td[data-tab="style"]').hasClass("n2-active")&&t('#n2-ss-layer-window .n2-sidebar-tab-switcher .n2-td[data-tab="item"]').trigger("click"),this.underActivate=!1},i.prototype.deActivate=function(){this.inPresetList&&this.exitPresetList(!1)},i.prototype.serialize=function(){var t={};for(var e in this.assets)t[e]=this.assets[e].serialize();return t},i.prototype.unSerialize=function(t){for(var e in this.assets)this.assets[e].unSerialize(t[e])},i.prototype.throttledUnSerialize=function(e){this._addThrottledRenderTimeout(t.proxy(this.unSerialize,this,e))},i.prototype.saveAsNew=function(e){if("undefined"==typeof this.saveAsModal){var n=this;this.saveAsModal=new NextendModal({zero:{size:[500,220],title:n2_("Save as"),close:!0,content:'<form class="n2-form"></form>',controls:['<a href="#" class="n2-button n2-button-normal n2-button-l n2-radius-s n2-button-green n2-uc n2-h4">'+n2_("Save as new")+"</a>"],fn:{show:function(){var e=this.controls.find(".n2-button"),i=(this.content.find(".n2-form").on("submit",function(t){t.preventDefault(),e.trigger("click")}).append(this.createInput(n2_("Name"),"n2-visual-name","width: 446px;")),this.content.find("#n2-visual-name").focus());e.on("click",t.proxy(function(e){e.preventDefault();var o=i.val();""==o?nextend.notificationCenter.error(n2_("Please fill the name field!")):NextendAjaxHelper.ajax({type:"POST",url:NextendAjaxHelper.makeAjaxUrl(n.ajaxUrl,{nextendaction:"addVisual"}),data:{type:n.type,value:Base64.encode(JSON.stringify({name:o,data:n.serialize()}))},dataType:"json"}).done(t.proxy(function(i){t.when(n.loadType()).done(function(){n.addVisual(i.data.visual).prependTo(n.storage[n.type])}),this.hide(e)},this))},this))}}}},!1)}this.saveAsModal.show()},i.prototype.loadType=function(){if("undefined"==typeof this.storage[this.type]){var e=t.Deferred(),n=t.proxy(function(n){this.storage[this.type]=t('<ul class="n2-list n2-h4"></ul>');for(var i=0;i<n.length;i++)this.addVisual(n[i]);e.resolve()},this);"undefined"==typeof window[this.type]?(this.storage[this.type]=e,NextendAjaxHelper.ajax({type:"POST",url:NextendAjaxHelper.makeAjaxUrl(this.ajaxUrl,{nextendaction:"loadVisuals"}),data:{type:this.type},dataType:"json"}).done(t.proxy(function(t){n(t.data.visuals)},this))):n(window[this.type])}return this.storage[this.type]},i.prototype.addVisual=function(e){var n=e.value;"{"!=n[0]&&(n=Base64.decode(n));var i=JSON.parse(n),o=t('<li><a href="#">'+i.name+"</a></li>").on({mouseenter:t.proxy(function(t,e){this.throttledUnSerialize(t.data)},this,i),click:t.proxy(function(t,e){e.preventDefault(),this.exitPresetList(t,e)},this,i.data)}).appendTo(this.storage[this.type]);if(e.id>1e4){var s=t('<span class="n2-actions"></span>').appendTo(o);t('<div class="n2-button n2-button-icon n2-button-s" data-n2tip="Overwrite preset"><i class="n2-i n2-i-save n2-i-grey-opacity"></i></div>').on("click",t.proxy(function(e,n,i){i.stopPropagation(),NextendAjaxHelper.ajax({type:"POST",url:NextendAjaxHelper.makeAjaxUrl(this.ajaxUrl,{nextendaction:"changeVisual"}),data:{visualId:e,value:Base64.encode(JSON.stringify({name:n,data:this.lastState})),type:this.type},dataType:"json"}).done(t.proxy(function(t){o.replaceWith(this.addVisual(t.data.visual))},this))},this,e.id,i.name)).appendTo(s),t('<div class="n2-button n2-button-icon n2-button-s"><i class="n2-i n2-i-delete n2-i-grey-opacity"></i></div>').on("click",t.proxy(function(e,n){n.preventDefault(),n.stopPropagation(),NextendAjaxHelper.ajax({type:"POST",url:NextendAjaxHelper.makeAjaxUrl(this.ajaxUrl,{nextendaction:"deleteVisual"}),data:{visualId:e,type:this.type},dataType:"json"}).done(t.proxy(function(t){o.remove()},this))},this,e.id)).appendTo(s),nextend.tooltip.add(s)}return o},i.prototype.exitPresetList=function(t,e){this.throttleSetTimeout&&clearTimeout(this.throttleSetTimeout),this.$presets.off("mouseleave"),t?(this.inPresetList=!1,this.unSerialize(t)):this.unSerialize(this.lastState),this.$container.removeClass("n2-basiccss-show-preset-list"),this.inPresetList=!1},i.prototype._addThrottledRenderTimeout=function(t){this.throttleSetTimeout&&clearTimeout(this.throttleSetTimeout),this.throttleSetTimeout=setTimeout(t,100)},i.prototype._addThrottledExitTimeout=function(t){this.throttleExitTimeout&&clearTimeout(this.throttleExitTimeout),this.throttleExitTimeout=setTimeout(t,100)},i}),N2Require("FormElementCheckbox",["FormElement"],[],function(t,e,n){function i(n,i){this.separator="||",this.element=t("#"+n),this.values=i,this.checkboxes=this.element.parent().find(".n2-checkbox-option"),this.states=this.element.val().split(this.separator);for(var o=0;o<this.checkboxes.length;o++)"undefined"!=typeof this.states[o]&&this.states[o]==this.values[o]||(this.states[o]=""),this.checkboxes.eq(o).on("click",t.proxy(this.switchCheckbox,this,o));e.FormElement.prototype.constructor.apply(this,arguments)}return i.prototype=Object.create(e.FormElement.prototype),i.prototype.constructor=i,i.prototype.switchCheckbox=function(t){this.states[t]==this.values[t]?(this.states[t]="",this.setSelected(t,0)):(this.states[t]=this.values[t],this.setSelected(t,1)),this.element.val(this.states.join(this.separator)),this.triggerOutsideChange()},i.prototype.insideChange=function(t){for(var e=t.split(this.separator),n=0;n<this.checkboxes.length;n++)"undefined"==typeof e[n]||e[n]!=this.values[n]?(this.states[n]="",this.setSelected(n,0)):(this.states[n]=this.values[n],this.setSelected(n,1));this.element.val(this.states.join(this.separator)),this.triggerInsideChange()},i.prototype.setSelected=function(t,e){e?this.checkboxes.eq(t).addClass("n2-active"):this.checkboxes.eq(t).removeClass("n2-active")},i}),N2Require("FormElementColor",["FormElement"],[],function(t,e,n){function i(n,i){this.element=t("#"+n),1==i?this.alpha=!0:this.alpha=!1,this.element.off("change").n2spectrum({showAlpha:this.alpha,preferredFormat:1==this.alpha?"hex8":"hex6",showInput:!1,showButtons:!1,move:t.proxy(this.onMove,this),showSelectionPalette:!0,showPalette:!0,maxSelectionSize:6,localStorageKey:"color",palette:[["000000","55aa39","357cbd","bb4a28","8757b2","000000CC"],["81898d","5cba3c","4594e1","d85935","9e74c2","00000080"],["ced3d5","27ae60","01add3","e79d19","e264af","FFFFFFCC"],["ffffff","2ecc71","00c1c4","ecc31f","ec87c0","FFFFFF80"]]}).on("change",t.proxy(this.onChange,this)),this.text=this.element.data("field"),e.FormElement.prototype.constructor.apply(this,arguments)}return i.prototype=Object.create(e.FormElement.prototype),i.prototype.constructor=i,i.prototype.onMove=function(){this.element.val(this.getCurrent()),this.triggerOutsideChange()},i.prototype.onChange=function(t){var e=this.getCurrent(),n=this.element.val();e!=n&&(this.element.n2spectrum("set",n),this.triggerInsideChange(),this.triggerOutsideChange()),t.stopImmediatePropagation()},i.prototype.insideChange=function(t){this.element.val(t),this.element.n2spectrum("set",t),this.triggerInsideChange()},i.prototype.getCurrent=function(){return this.alpha?this.element.n2spectrum("get").toHexString8():this.element.n2spectrum("get").toHexString(!0)},i}),N2Require("FormElementDevice",["FormElementOnoff"],[],function(t,e,n){function i(t){e.FormElementOnoff.prototype.constructor.apply(this,arguments)}return i.prototype=Object.create(e.FormElementOnoff.prototype),i.prototype.constructor=i,i.prototype.detach=function(){this.onoff.detach()},i.prototype.setSelected=function(t){t?this.onoff.addClass("n2-active"):this.onoff.removeClass("n2-active")},i}),N2Require("FormElementDevices",["FormElementDevice"],[],function(t,e,n){function i(n,i){this.$el=t("#"+n).data("field",this),this.fields={};for(var o=0;o<i.length;o++)this.fields[i[o]]=new e.FormElementDevice(n+"-"+i[o])}return i.prototype.setAvailableDevices=function(t){for(var e in t){var n=this.fields[e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()];t[e]||n.detach()}this.$el.children().first().addClass("n2-first"),this.$el.children().last().addClass("n2-last")},i}),N2Require("FormElementEnabled",[],[],function(t,e,n){function i(e,n){this.element=t("#"+e).on("nextendChange",t.proxy(this.onChange,this)),this.hide=this.element.closest("tr").nextAll().add(n),this.onChange()}return i.prototype.onChange=function(){var t=parseInt(this.element.val());t?this.hide.css("display",""):this.hide.css("display","none")},i}),N2Require("FormElementFolders",["FormElement"],[],function(t,e,n){function i(n,i){this.element=t("#"+n),this.field=this.element.data("field"),this.parameters=i,this.editButton=t("#"+n+"_edit").on("click",t.proxy(this.edit,this)),this.button=t("#"+n+"_button").on("click",t.proxy(this.open,this)),this.element.siblings(".n2-form-element-clear").on("click",t.proxy(this.clear,this)),e.FormElement.prototype.constructor.apply(this,arguments)}return i.prototype=Object.create(e.FormElement.prototype),i.prototype.constructor=i,i.prototype.clear=function(t){t.preventDefault(),t.stopPropagation(),this.val("")},i.prototype.val=function(t){this.element.val(t),this.triggerOutsideChange()},i.prototype.open=function(e){e.preventDefault(),nextend.imageHelper.openFoldersLightbox(t.proxy(this.val,this))},i}),N2Require("FormElementFont",["FormElement"],[],function(t,e,n){function i(n,i){this.element=t("#"+n),this.parameters=i,this.defaultSetId=i.set,this.element.parent().on("click",t.proxy(this.show,this)),this.element.siblings(".n2-form-element-clear").on("click",t.proxy(this.clear,this)),this.name=this.element.siblings("input"),nextend.fontManager.$.on("visualDelete",t.proxy(this.fontDeleted,this)),this.updateName(this.element.val()),e.FormElement.prototype.constructor.apply(this,arguments)}return i.prototype=Object.create(e.FormElement.prototype),i.prototype.constructor=i,i.prototype.getLabel=function(){return this.parameters.label},i.prototype.show=function(e){e.preventDefault(),""!=this.parameters.style&&nextend.fontManager.setConnectedStyle(this.parameters.style),""!=this.parameters.style2&&nextend.fontManager.setConnectedStyle2(this.parameters.style2),this.defaultSetId&&nextend.fontManager.changeSetById(this.defaultSetId),nextend.fontManager.show(this.element.val(),t.proxy(this.save,this),{previewMode:this.parameters.previewmode,previewHTML:this.parameters.preview})},i.prototype.clear=function(t){t.preventDefault(),t.stopPropagation(),this.val("")},i.prototype.save=function(t,e){nextend.fontManager.addVisualUsage(this.parameters.previewmode,e,window.nextend.pre),this.val(e)},i.prototype.val=function(t){this.element.val(t),this.updateName(t),this.triggerOutsideChange()},i.prototype.insideChange=function(t){this.element.val(t),this.updateName(t),this.triggerInsideChange()},i.prototype.updateName=function(e){t.when(nextend.fontManager.getVisual(e)).done(t.proxy(function(t){this.name.val(t.name)},this))},i.prototype.fontDeleted=function(t,e){e==this.element.val()&&this.insideChange("")},i.prototype.renderFont=function(){var t=this.element.val();return nextend.fontManager.addVisualUsage(this.parameters.previewmode,t,""),nextend.fontManager.getClass(t,this.parameters.previewmode)},i}),N2Require("FormElementIcon2Manager",["FormElement"],[],function(t,e,n){function i(n){this.element=t("#"+n),this.button=t("#"+n+"_edit").on("click",t.proxy(this.openModal,this)),this.preview=this.element.parent().find(".n2-form-element-preview").on("click",t.proxy(this.openModal,this)),this.element.on("nextendChange",t.proxy(this.makePreview,this)),e.FormElement.prototype.constructor.apply(this,arguments),this.element.siblings(".n2-form-element-clear").on("click",t.proxy(this.clear,this))}return i.prototype=Object.create(e.FormElement.prototype),i.prototype.constructor=i,i.prototype.clear=function(t){t.preventDefault(),t.stopPropagation(),this.val("")},i.prototype.insideChange=function(t){this.element.val(t),this.triggerInsideChange()},i.prototype.openModal=function(n){n&&n.preventDefault(),e.Icons.showModal(t.proxy(this.setIcon,this))},i.prototype.val=function(t){this.element.val(t),this.triggerOutsideChange()},i.prototype.setIcon=function(t){this.val(t)},i.prototype.makePreview=function(){var t=e.Icons.render(this.element.val());t?this.preview.html('<i class="n2i '+t["class"]+'">'+t.ligature+"</i>"):this.preview.html("")},i.prototype.focus=function(t){t&&this.openModal()},i}),N2Require("FormElementIconManager",["FormElement"],[],function(t,e,n){function i(){if(!s){var e="";s=new NextendModal({zero:{size:[1200,600],title:"Icons",back:!1,close:!0,content:e,fn:{show:function(){var e=this.content.find(".n2-icon");e.on("click",t.proxy(function(e){var n=t(e.currentTarget).clone(),i=n.find("svg");if(i[0].hasChildNodes())for(var o=i[0].childNodes,s=0;s<o.length;s++)o[s].setAttribute("data-style","{style}");r(n.html()),this.hide(e)},this))}}}},!1),s.setCustomClass("n2-icons-modal")}return s}function o(n){this.element=t("#"+n),this.button=t("#"+n+"_edit").on("click",t.proxy(this.openModal,this)),this.preview=this.element.parent().find("img").on("click",t.proxy(this.openModal,this)),this.element.on("nextendChange",t.proxy(this.makePreview,this)),e.FormElement.prototype.constructor.apply(this,arguments)}var s=null,r=function(){};return o.prototype=Object.create(e.FormElement.prototype),o.prototype.constructor=o,o.prototype.insideChange=function(t){this.element.val(t),this.triggerInsideChange()},o.prototype.openModal=function(e){e&&e.preventDefault(),r=t.proxy(this.setIcon,this),i().show()},o.prototype.val=function(t){this.element.val(t),this.triggerOutsideChange()},o.prototype.setIcon=function(t){this.val(t)},o.prototype.makePreview=function(){this.preview.attr("src","data:image/svg+xml;base64,"+Base64.encode(this.element.val()))},o.prototype.focus=function(t){t&&this.openModal()},o}),N2Require("FormElementImage",["FormElement"],[],function(t,e,n){function i(e,n){this.element=t("#"+e),this.field=this.element.data("field"),this.field.connectedField=this,this.parameters=n,this.preview=t("#"+e+"_preview").on("click",t.proxy(this.open,this)),this.element.on("nextendChange",t.proxy(this.makePreview,this)),this.button=t("#"+e+"_button").on("click",t.proxy(this.open,this)),this.element.siblings(".n2-form-element-clear").on("click",t.proxy(this.clear,this))}return i.prototype=Object.create(e.FormElement.prototype),i.prototype.constructor=i,i.prototype.clear=function(t){t.preventDefault(),t.stopPropagation(),this.val("")},i.prototype.val=function(e,n){var n=t.extend({alt:!1},n);n.alt&&""!=n.alt&&this.parameters.alt&&""!=this.parameters.alt&&t("#"+this.parameters.alt).val(n.alt).trigger("change"),this.element.val(e),this.triggerOutsideChange()},i.prototype.makePreview=function(){var t=this.element.val();"{"==t.substr(0,1)?this.preview.css("background-image",""):this.preview.css("background-image","url("+nextend.imageHelper.fixed(t)+")")},i.prototype.open=function(e){e&&e.preventDefault(),nextend.imageHelper.openLightbox(t.proxy(this.val,this))},i.prototype.edit=function(e){e.preventDefault(),e.stopPropagation();var n=nextend.imageHelper.fixed(this.element.val()),i=t('<img src="'+n+'" />');"//"==n.substr(0,2)&&(n=location.protocol+n),window.nextend.getFeatherEditor().done(t.proxy(function(){nextend.featherEditor.launch({image:i.get(0),hiresUrl:n,onSave:t.proxy(this.aviarySave,this),onSaveHiRes:t.proxy(this.aviarySave,this)})},this))},i.prototype.aviarySave=function(e,n){NextendAjaxHelper.ajax({type:"POST",url:NextendAjaxHelper.makeAjaxUrl(window.nextend.featherEditor.ajaxUrl,{nextendaction:"saveImage"}),data:{aviaryUrl:n},dataType:"json"}).done(t.proxy(function(t){this.val(nextend.imageHelper.make(t.data.image)),nextend.featherEditor.close()},this))},i.prototype.focus=function(t){t&&this.open()},i}),N2Require("FormElementImageManager",["FormElement"],[],function(t,e,n){function i(n,i){this.element=t("#"+n),t("#"+n+"_manage").on("click",t.proxy(this.show,this)),this.parameters=i,this.imageField=this.element.data("field"),e.FormElement.prototype.constructor.apply(this,arguments)}return i.prototype=Object.create(e.FormElement.prototype),i.prototype.constructor=i,i.prototype.show=function(e){e.preventDefault(),nextend.imageManager.show(this.element.val(),t.proxy(this.save,this))},i.prototype.save=function(){},i.prototype.insideChange=function(t){this.element.val(t),this.triggerInsideChange()},i}),N2Require("FormElementList",["FormElement"],[],function(t,e,n){function i(n,i){this.separator="||",this.element=t("#"+n).on("change",t.proxy(this.onHiddenChange,this)),this.select=t("#"+n+"_select").on("change",t.proxy(this.onChange,this)),this.multiple=i,e.FormElement.prototype.constructor.apply(this,arguments)}return i.prototype=Object.create(e.FormElement.prototype),i.prototype.constructor=i,i.prototype.onHiddenChange=function(){var t=this.element.val();t&&t!=this.select.val()&&this.insideChange(t)},i.prototype.onChange=function(){var t=this.select.val();null!==t&&"object"==typeof t&&(t=t.join(this.separator)),this.element.val(t),this.triggerOutsideChange()},i.prototype.insideChange=function(t){"object"==typeof t?this.select.val(t.split(this.separator)):this.select.val(t),this.element.val(t),this.select.val(t),this.triggerInsideChange()},i}),N2Require("FormElementMarginPadding",["FormElementMixed"],[],function(t,e,n){function i(n,i,o){this.linkedValues=!1,e.FormElementMixed.prototype.constructor.apply(this,arguments),this.$field=this.element.parent(),this.$field.find(".n2-text-sub-label").on("click",t.proxy(function(t){t.preventDefault(),this.linkedValues=!this.linkedValues,this.$field.toggleClass("n2-values-linked",this.linkedValues),this.linkedValues&&this.elements[0].trigger("change")},this))}return i.prototype=Object.create(e.FormElementMixed.prototype),i.prototype.constructor=i,i.prototype.onFieldChange=function(){if(this.linkedValues)for(var t=this.elements[0].val(),e=1;4>e;e++)this.elements[e].data("field").insideChange(t);this.element.val(this.getValue()),
this.triggerOutsideChange()},i.prototype.insideChange=function(t){e.FormElementMixed.prototype.insideChange.apply(this,arguments),this.linkedValues=!0;for(var t=this.elements[0].val(),n=1;4>n;n++)if(t!=this.elements[n].val()){this.linkedValues=!1;break}this.$field.toggleClass("n2-values-linked",this.linkedValues)},i}),N2Require("FormElementMirror",[],[],function(t,e,n){function i(e){this.element=t("#"+e).on("nextendChange",t.proxy(this.onChange,this)),this.tr=this.element.closest("tr").nextAll(),this.onChange()}return i.prototype.onChange=function(){var t=parseInt(this.element.val());t?this.tr.css("display","none"):this.tr.css("display","")},i}),N2Require("FormElementMixed",["FormElement"],[],function(t,e,n){function i(n,i,o){this.element=t("#"+n),this.elements=[];for(var s=0;s<i.length;s++)this.elements.push(t("#"+i[s]).on("outsideChange",t.proxy(this.onFieldChange,this)));this.separator=o,e.FormElement.prototype.constructor.apply(this,arguments)}return i.prototype=Object.create(e.FormElement.prototype),i.prototype.constructor=i,i.prototype.onFieldChange=function(){this.element.val(this.getValue()),this.triggerOutsideChange()},i.prototype.insideChange=function(t){this.element.val(t);for(var e=t.split(this.separator),n=0;n<this.elements.length;n++)this.elements[n].data("field").insideChange(e[n]);this.triggerInsideChange()},i.prototype.getValue=function(){for(var t=[],e=0;e<this.elements.length;e++)t.push(this.elements[e].val());return t.join(this.separator)},i}),N2Require("FormElementNumber",["FormElement"],[],function(t,e,n){function i(n,i,o,s){this.min=i,this.max=o,this.element=t("#"+n).on({focus:t.proxy(this._focus,this),blur:t.proxy(this.blur,this),change:t.proxy(this.change,this)}),this.parent=this.element.parent();var r=this.parent.siblings(".n2-form-element-units").find("> input");s&&r.length&&r.on("nextendChange",t.proxy(function(){this.min=s[r.val()+"min"],this.max=s[r.val()+"max"]},this)),e.FormElement.prototype.constructor.apply(this,arguments)}return i.prototype=Object.create(e.FormElement.prototype),i.prototype.constructor=i,i.prototype._focus=function(){this.parent.addClass("focus"),this.element.on("keypress.n2-text",t.proxy(function(t){13==t.which&&(this.element.off("keypress.n2-text"),this.element.trigger("blur"))},this))},i.prototype.blur=function(){this.parent.removeClass("focus")},i.prototype.change=function(){var t=this.validate(this.element.val());t===!0?this.triggerOutsideChange():this.element.val(t).trigger("change")},i.prototype.insideChange=function(t){var e=this.validate(t);e===!0?this.element.val(t):this.element.val(e),this.triggerInsideChange()},i.prototype.validate=function(t){var e=parseFloat(t);return isNaN(e)&&(e=0),e=Math.max(this.min,Math.min(this.max,e)),e!=t?e:!0},i}),N2Require("FormElementOnoff",["FormElement"],[],function(t,e,n){function i(n){this.element=t("#"+n),this.onoff=this.element.parent().on("click",t.proxy(this["switch"],this)),e.FormElement.prototype.constructor.apply(this,arguments)}return i.prototype=Object.create(e.FormElement.prototype),i.prototype.constructor=i,i.prototype["switch"]=function(){var t=parseInt(this.element.val());t=t?0:1,this.element.val(t),this.setSelected(t),this.triggerOutsideChange()},i.prototype.insideChange=function(t){t=parseInt(t),this.element.val(t),this.setSelected(t),this.triggerInsideChange()},i.prototype.setSelected=function(t){t?this.onoff.addClass("n2-onoff-on"):this.onoff.removeClass("n2-onoff-on")},i}),N2Require("FormElementRadio",["FormElement"],[],function(t,e,n){function i(n,i){this.element=t("#"+n),this.values=i,this.parent=this.element.parent(),this.options=this.parent.find(".n2-radio-option");for(var o=0;o<this.options.length;o++)this.options.eq(o).on("click",t.proxy(this.click,this));e.FormElement.prototype.constructor.apply(this,arguments)}return i.prototype=Object.create(e.FormElement.prototype),i.prototype.constructor=i,i.prototype.click=function(t){this.changeSelectedIndex(this.options.index(t.currentTarget))},i.prototype.changeSelectedIndex=function(t){var e=this.values[t];this.element.val(e),this.setSelected(t),this.triggerOutsideChange()},i.prototype.insideChange=function(e,n){var i=t.inArray(e,this.values);"-1"==i&&(i=this.partialSearch(e)),"-1"==i&&"undefined"!=typeof n&&(i=this.addOption(e,n)),"-1"!=i?(this.element.val(this.values[i]),this.setSelected(i),this.triggerInsideChange()):this.options.eq(0).trigger("click")},i.prototype.setSelected=function(t){this.options.removeClass("n2-active"),this.options.eq(t).addClass("n2-active")},i.prototype.partialSearch=function(t){t=t.replace(/^.*[\\\/]/,"");for(var e=0;e<this.values.length;e++)if(-1!=this.values[e].indexOf(t))return e;return-1},i.prototype.addOption=function(e,n){var i=this.values.push(e)-1;return n.appendTo(this.parent).on("click",t.proxy(this.click,this)),this.options=this.options.add(n),i},i.prototype.addTabOption=function(e,n){var i=this.values.push(e)-1,o=t('<div class="n2-radio-option n2-h4 n2-last">'+n+"</div>").insertAfter(this.options.last().removeClass("n2-last")).on("click",t.proxy(this.click,this));return this.options=this.options.add(o),i},i.prototype.removeTabOption=function(e){var n=t.inArray(e,this.values),i=this.options.eq(n);this.options=this.options.not(i),i.remove(),0==n&&this.options.eq(0).addClass("n2-first"),n==this.options.length&&this.options.eq(this.options.length-1).addClass("n2-last"),this.values.splice(n,1)},i.prototype.moveTab=function(t,e){},i}),N2Require("FormElementRichText",["FormElementText"],[],function(t,e,n){function i(n){e.FormElementText.prototype.constructor.apply(this,arguments),this.parent.find(".n2-textarea-rich-bold").on("click",t.proxy(this.bold,this)),this.parent.find(".n2-textarea-rich-italic").on("click",t.proxy(this.italic,this)),this.parent.find(".n2-textarea-rich-link").on("click",t.proxy(this.link,this))}return i.prototype=Object.create(e.FormElementText.prototype),i.prototype.constructor=i,i.prototype.bold=function(){this.wrapText("<b>","</b>")},i.prototype.italic=function(){this.wrapText("<i>","</i>")},i.prototype.link=function(){this.wrapText('<a href="">',"</a>")},i.prototype.list=function(){this.wrapText("","\n<ul>\n<li>#1 Item</li>\n<li>#2 Item</li>\n</ul>\n")},i.prototype.wrapText=function(t,e){var n=this.element,i=n.val().length,o=n[0].selectionStart,s=n[0].selectionEnd,r=n.val().substring(o,s),a=t+r+e;n.val(n.val().substring(0,o)+a+n.val().substring(s,i)),this.triggerOutsideChange(),this.element.focus()},i}),N2Require("FormElementSkin",["FormElement"],[],function(t,e,n){function i(n,i,o,s){this.element=t("#"+n),this.preId=i,this.skins=o,this.list=this.element.data("field"),this.fixedMode=s,this.firstOption=this.list.select.find("option").eq(0),this.originalText=this.firstOption.text(),this.element.on("nextendChange",t.proxy(this.onSkinSelect,this)),e.FormElement.prototype.constructor.apply(this,arguments)}return i.prototype=Object.create(e.FormElement.prototype),i.prototype.constructor=i,i.prototype.onSkinSelect=function(){var e=this.element.val();if("0"!=e){e=this.skins[e];for(var n in e)if(e.hasOwnProperty(n)){var i=t("#"+this.preId+n);if(i.length){var o=i.data("field");o.insideChange(e[n])}}this.fixedMode||(this.changeFirstOptionText(n2_("Done")),this.list.insideChange("0"),setTimeout(t.proxy(this.changeFirstOptionText,this,this.originalText),3e3))}},i.prototype.changeFirstOptionText=function(t){this.firstOption.text(t)},i.prototype.insideChange=function(t){this.element.val(t),this.list.select.val(t)},i}),N2Require("FormElementStyle",["FormElement"],[],function(t,e,n){function i(n,i){this.element=t("#"+n),this.parameters=i,this.defaultSetId=i.set,this.element.parent().on("click",t.proxy(this.show,this)),this.element.siblings(".n2-form-element-clear").on("click",t.proxy(this.clear,this)),this.name=this.element.siblings("input"),nextend.styleManager.$.on("visualDelete",t.proxy(this.styleDeleted,this)),this.updateName(this.element.val()),e.FormElement.prototype.constructor.apply(this,arguments)}return i.prototype=Object.create(e.FormElement.prototype),i.prototype.constructor=i,i.prototype.getLabel=function(){return this.parameters.label},i.prototype.show=function(e){e.preventDefault(),""!=this.parameters.font&&nextend.styleManager.setConnectedFont(this.parameters.font),""!=this.parameters.font2&&nextend.styleManager.setConnectedFont2(this.parameters.font2),""!=this.parameters.style2&&nextend.styleManager.setConnectedStyle(this.parameters.style2),this.defaultSetId&&nextend.styleManager.changeSetById(this.defaultSetId),nextend.styleManager.show(this.element.val(),t.proxy(this.save,this),{previewMode:this.parameters.previewmode,previewHTML:this.parameters.preview})},i.prototype.clear=function(t){t.preventDefault(),t.stopPropagation(),this.val("")},i.prototype.save=function(t,e){nextend.styleManager.addVisualUsage(this.parameters.previewmode,e,window.nextend.pre),this.val(e)},i.prototype.val=function(t){this.element.val(t),this.updateName(t),this.triggerOutsideChange()},i.prototype.insideChange=function(t){this.element.val(t),this.updateName(t),this.triggerInsideChange()},i.prototype.updateName=function(e){t.when(nextend.styleManager.getVisual(e)).done(t.proxy(function(t){this.name.val(t.name)},this))},i.prototype.styleDeleted=function(t,e){e==this.element.val()&&this.insideChange("")},i.prototype.renderStyle=function(){var t=this.element.val();return nextend.styleManager.addVisualUsage(this.parameters.previewmode,t,""),nextend.styleManager.getClass(t,this.parameters.previewmode)},i}),N2Require("FormElementSubform",["FormElement"],[],function($,scope,undefined){function FormElementSubform(t,e,n,i){this.id=t,this.element=$("#"+t),this.target=$("#"+e),this.tab=n,this.originalValue=i,this.form=this.element.closest("form").data("form"),this.list=this.element.data("field"),this.element.on("nextendChange",$.proxy(this.loadSubform,this)),scope.FormElement.prototype.constructor.apply(this,arguments)}return FormElementSubform.prototype=Object.create(scope.FormElement.prototype),FormElementSubform.prototype.constructor=FormElementSubform,FormElementSubform.prototype.loadSubform=function(){var t=this.element.val();if("disabled"==t)this.target.html("");else{var e=[];t==this.originalValue&&(e=this.form.values);var n={id:this.id,values:e,tab:this.tab,value:t};NextendAjaxHelper.ajax({type:"POST",url:NextendAjaxHelper.makeAjaxUrl(this.form.url),data:n,dataType:"json"}).done($.proxy(this.load,this))}},FormElementSubform.prototype.load=function(response){this.target.html(response.data.html),eval(response.data.scripts),nextend.tooltip.add(this.target)},FormElementSubform}),N2Require("FormElementSubformImage",["FormElement"],[],function(t,e,n){function i(n,i){this.element=t("#"+n),this.options=t("#"+i).find(".n2-subform-image-option"),this.subform=this.element.data("field"),this.active=this.getIndex(this.options.filter(".n2-active").get(0));for(var o=0;o<this.options.length;o++)this.options.eq(o).on("click",t.proxy(this.selectOption,this));e.FormElement.prototype.constructor.apply(this,arguments)}return i.prototype=Object.create(e.FormElement.prototype),i.prototype.constructor=i,i.prototype.selectOption=function(t){var e=this.getIndex(t.currentTarget);if(e!=this.active){this.options.eq(e).addClass("n2-active"),this.options.eq(this.active).removeClass("n2-active"),this.active=e;var n=this.subform.list.select.find("option").eq(e).val();this.subform.list.insideChange(n)}},i.prototype.getIndex=function(e){return t.inArray(e,this.options)},i}),N2Require("FormElementSwitcher",["FormElement"],[],function(t,e,n){function i(n,i){this.element=t("#"+n),this.options=this.element.parent().find(".n2-switcher-unit"),this.active=this.options.index(this.options.filter(".n2-active")),this.values=i;for(var o=0;o<this.options.length;o++)this.options.eq(o).on("click",t.proxy(this["switch"],this,o));e.FormElement.prototype.constructor.apply(this,arguments)}return i.prototype=Object.create(e.FormElement.prototype),i.prototype.constructor=i,i.prototype["switch"]=function(t,e){this.element.val(this.values[t]),this.setSelected(t),this.triggerOutsideChange()},i.prototype.insideChange=function(e){var n=t.inArray(e,this.values);this.element.val(this.values[n]),this.setSelected(n),this.triggerInsideChange()},i.prototype.setSelected=function(t){this.options.eq(this.active).removeClass("n2-active"),this.options.eq(t).addClass("n2-active"),this.active=t},i}),N2Require("FormElementUnits",["FormElement"],[],function(t,e,n){function i(n,i){this.element=t("#"+n),this.options=this.element.parent().find(".n2-element-unit"),this.currentUnit=this.element.parent().find(".n2-element-current-unit"),this.values=i;for(var o=0;o<this.options.length;o++)this.options.eq(o).on("click",t.proxy(this["switch"],this,o));e.FormElement.prototype.constructor.apply(this,arguments)}return i.prototype=Object.create(e.FormElement.prototype),i.prototype.constructor=i,i.prototype["switch"]=function(t,e){this.element.val(this.values[t]),this.setSelected(t),this.triggerOutsideChange()},i.prototype.insideChange=function(e){var n=t.inArray(e,this.values);this.element.val(this.values[n]),this.setSelected(n),this.triggerInsideChange()},i.prototype.setSelected=function(t){this.currentUnit.html(this.options.eq(t).html())},i}),N2Require("FormElementUrl",["FormElement"],[],function(t,e,n){function i(e,n){this.element=t("#"+e),this.field=this.element.data("field"),this.parameters=n,o=this.parameters.url,this.button=t("#"+e+"_button").on("click",t.proxy(this.open,this)),this.element.siblings(".n2-form-element-clear").on("click",t.proxy(this.clear,this))}var o="",s=null,r={},a=function(t){},l="";return i.prototype=Object.create(e.FormElement.prototype),i.prototype.constructor=i,i.prototype.clear=function(t){t.preventDefault(),t.stopPropagation(),this.val("#")},i.prototype.val=function(t){this.element.val(t),this.triggerOutsideChange()},i.prototype.open=function(e){e.preventDefault(),a=t.proxy(this.insert,this),l=this.element.val(),this.getModal().show()},i.prototype.insert=function(t){this.val(t)},i.prototype.getModal=function(){if(!s){var e=function(e){return"undefined"==typeof r[e]&&(r[e]=t.ajax({type:"POST",url:NextendAjaxHelper.makeAjaxUrl(o),data:{keyword:e},dataType:"json"})),r[e]},n=(this.parameters,{size:[500,590],title:n2_("Lightbox"),back:"zero",close:!0,content:'<form class="n2-form"></form>',controls:['<a href="#" class="n2-button n2-button-normal n2-button-l n2-radius-s n2-button-green n2-uc n2-h4">'+n2_("Insert")+"</a>"],fn:{show:function(){var e=this.controls.find(".n2-button"),n=t('<a href="#" class="n2-button n2-button-normal n2-button-m n2-radius-s n2-button-green n2-uc n2-h5" style="float:right; margin-right: 20px;">'+n2_("Choose images")+"</a>"),i=(this.content.find(".n2-form").on("submit",function(t){t.preventDefault(),e.trigger("click")}).append(this.createTextarea(n2_("Content list")+" - "+n2_("One per line"),"n2-link-resource","width: 446px;height: 100px;")).append(n).append(this.createInputUnit(n2_("Autoplay duration"),"n2-link-autoplay","ms","width: 40px;")),this.content.find("#n2-link-resource").focus()),o=this.content.find("#n2-link-autoplay").val(0);n.on("click",function(t){t.preventDefault(),nextend.imageHelper.openMultipleLightbox(function(t){for(var e=i.val().replace(/\n$/,""),n=0;n<t.length;n++)e+="\n"+t[n].image;i.val(e.replace(/^\n/,""))})});var s=l.match(/lightbox\[(.*?)\]/);if(s&&2==s.length){var r=s[1].split(",");parseInt(r[r.length-1])>0&&(o.val(parseInt(r[r.length-1])),r.pop()),i.val(r.join("\n"))}this.content.append(this.createHeading(n2_("Examples"))),this.createTable([[n2_("Image"),"https://smartslider3.com/image.jpg"],["YouTube","https://www.youtube.com/watch?v=lsq09izc1H4"],["Vimeo","https://vimeo.com/144598279"],["Iframe","https://smartslider3.com"]],["",""]).appendTo(this.content),e.on("click",t.proxy(function(t){t.preventDefault();var e=i.val();if(""!=e){var n="";o.val()>0&&(n=","+o.val()),a("lightbox["+e.replace(/,/g,"&#44;").split("\n").filter(Boolean).join(",")+n+"]")}this.hide(t)},this))}}},{size:[600,500],title:n2_("Link"),back:"zero",close:!0,content:'<div class="n2-form"></div>',fn:{show:function(){this.content.find(".n2-form").append(this.createInput(n2_("Keyword"),"n2-links-keyword","width:546px;"));var n=t("#n2-links-keyword"),i=this.createHeading("").appendTo(this.content),o=this.createResult().appendTo(this.content),r="";n.on("keyup",t.proxy(function(){r=n.val(),e(r).done(t.proxy(function(e){if(n.val()==r){var s=e.data;""==r?i.html(n2_("No search term specified. Showing recent items.")):i.html(n2_printf(n2_('Showing items match for "%s"'),r));for(var l=[],c=this,h=0;h<s.length;h++)l.push([s[h].title,s[h].info,t('<div class="n2-button n2-button-normal n2-button-xs n2-radius-s n2-button-green n2-uc n2-h5">'+n2_("Select")+"</div>").on("click",{permalink:s[h].link},function(t){a(t.data.permalink),c.hide()})]);o.html(""),this.createTable(l,["width:100%;","",""]).appendTo(this.createTableWrap().appendTo(o))}},this))},this)).trigger("keyup").focus(),this.content.append('<hr style="margin: 0 -20px;"/>');var c=t('<div class="n2-input-button"><input placeholder="External url" type="text" id="external-url" name="external-url" value="" /><a href="#" class="n2-button n2-button-normal n2-button-l n2-radius-s n2-button-green n2-uc n2-h4">Insert</a></div>').css({display:"block",textAlign:"center"}).appendTo(this.content),h=c.find("input").val(l);c.find(".n2-button").on("click",function(t){t.preventDefault(),a(h.val()),s.hide()})}}});n.back=!1,s=new NextendModal({zero:n},!1),s.setCustomClass("n2-url-modal")}return s},i});var fixto=function(t,e,n){function i(){this._vendor=null}function o(){var t=!1;if(/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor))return!1;var e=n.createElement("div"),i=n.createElement("div");e.appendChild(i),e.style[p]="translate(0)",e.style.marginTop="10px",e.style.visibility="hidden",i.style.position="fixed",i.style.top=0,n.body.appendChild(e);var o=i.getBoundingClientRect();return o.top>0&&(t=!0),n.body.removeChild(e),t}function s(e,n,i){this.child=e,this._$child=t(e),this.parent=n,this.options={className:"fixto-fixed",top:0},this._setOptions(i)}function r(t,e,n){s.call(this,t,e,n),this._replacer=new c.MimicNode(t),this._ghostNode=this._replacer.replacer,this._saveStyles(),this._saveViewportHeight(),this._proxied_onscroll=this._bind(this._onscroll,this),this._proxied_onresize=this._bind(this._onresize,this),this.start()}function a(t,e,n){s.call(this,t,e,n),this.start()}var l=function(){var t={getAll:function(t){return n.defaultView.getComputedStyle(t)},get:function(t,e){return this.getAll(t)[e]},toFloat:function(t){return parseFloat(t,10)||0},getFloat:function(t,e){return this.toFloat(this.get(t,e))},_getAllCurrentStyle:function(t){return t.currentStyle}};return n.documentElement.currentStyle&&(t.getAll=t._getAllCurrentStyle),t}(),c=function(){function e(t){this.element=t,this.replacer=n.createElement("div"),this.replacer.style.visibility="hidden",this.hide(),t.parentNode.insertBefore(this.replacer,t)}e.prototype={replace:function(){var t=this.replacer.style,e=l.getAll(this.element);t.width=this._width(),t.height=this._height(),t.marginTop=e.marginTop,t.marginBottom=e.marginBottom,t.marginLeft=e.marginLeft,t.marginRight=e.marginRight,t.cssFloat=e.cssFloat,t.styleFloat=e.styleFloat,t.position=e.position,t.top=e.top,t.right=e.right,t.bottom=e.bottom,t.left=e.left,t.display=e.display},hide:function(){this.replacer.style.display="none"},_width:function(){return this.element.getBoundingClientRect().width+"px"},_widthOffset:function(){return this.element.offsetWidth+"px"},_height:function(){return this.element.getBoundingClientRect().height+"px"},_heightOffset:function(){return this.element.offsetHeight+"px"},destroy:function(){t(this.replacer).remove();for(var e in this)this.hasOwnProperty(e)&&(this[e]=null)}};var i=n.documentElement.getBoundingClientRect();return i.width||(e.prototype._width=e.prototype._widthOffset,e.prototype._height=e.prototype._heightOffset),{MimicNode:e,computedStyle:l}}();i.prototype={_vendors:{webkit:{cssPrefix:"-webkit-",jsPrefix:"Webkit"},moz:{cssPrefix:"-moz-",jsPrefix:"Moz"},ms:{cssPrefix:"-ms-",jsPrefix:"ms"},opera:{cssPrefix:"-o-",jsPrefix:"O"}},_prefixJsProperty:function(t,e){return t.jsPrefix+e[0].toUpperCase()+e.substr(1)},_prefixValue:function(t,e){return t.cssPrefix+e},_valueSupported:function(t,e,n){try{return n.style[t]=e,n.style[t]===e}catch(i){return!1}},propertySupported:function(t){return void 0!==n.documentElement.style[t]},getJsProperty:function(t){if(this.propertySupported(t))return t;if(this._vendor)return this._prefixJsProperty(this._vendor,t);var e;for(var n in this._vendors)if(e=this._prefixJsProperty(this._vendors[n],t),this.propertySupported(e))return this._vendor=this._vendors[n],e;return null},getCssValue:function(t,e){var i=n.createElement("div"),o=this.getJsProperty(t);if(this._valueSupported(o,e,i))return e;var s;if(this._vendor&&(s=this._prefixValue(this._vendor,e),this._valueSupported(o,s,i)))return s;for(var r in this._vendors)if(s=this._prefixValue(this._vendors[r],e),this._valueSupported(o,s,i))return this._vendor=this._vendors[r],s;return null}};var h,u,d=new i,p=d.getJsProperty("transform"),f=d.getCssValue("position","sticky"),m=d.getCssValue("position","fixed"),g="Microsoft Internet Explorer"===navigator.appName;g&&(u=parseFloat(navigator.appVersion.split("MSIE")[1])),s.prototype={_mindtop:function(){var t=0;if(this._$mind)for(var e,n,i=0,o=this._$mind.length;o>i;i++)if(e=this._$mind[i],n=e.getBoundingClientRect(),n.height)t+=n.height;else{var s=l.getAll(e);t+=e.offsetHeight+l.toFloat(s.marginTop)+l.toFloat(s.marginBottom)}return t},stop:function(){this._stop(),this._running=!1},start:function(){this._running||(this._start(),this._running=!0)},destroy:function(){this.stop(),this._destroy(),this._$child.removeData("fixto-instance");for(var t in this)this.hasOwnProperty(t)&&(this[t]=null)},_setOptions:function(e){t.extend(this.options,e),this.options.mind&&(this._$mind=t(this.options.mind)),this.options.zIndex&&(this.child.style.zIndex=this.options.zIndex)},setOptions:function(t){this._setOptions(t),this.refresh()},_stop:function(){},_start:function(){},_destroy:function(){},refresh:function(){}},r.prototype=new s,t.extend(r.prototype,{_bind:function(t,e){return function(){return t.call(e)}},_toresize:8===u?n.documentElement:e,_onscroll:function(){if(this._scrollTop=n.documentElement.scrollTop||n.body.scrollTop,this._parentBottom=this.parent.offsetHeight+this._fullOffset("offsetTop",this.parent)-l.getFloat(this.parent,"paddingBottom"),this.fixed){if(this._scrollTop>this._parentBottom||this._scrollTop<this._fullOffset("offsetTop",this._ghostNode)-this.options.top-this._mindtop())return void this._unfix();this._adjust()}else{var t=l.getAll(this.child);this._scrollTop<this._parentBottom&&this._scrollTop>this._fullOffset("offsetTop",this.child)-this.options.top-this._mindtop()&&this._viewportHeight>this.child.offsetHeight+l.toFloat(t.marginTop)+l.toFloat(t.marginBottom)&&(this._fix(),this._adjust())}},_adjust:function(){var t=0,e=this._mindtop(),n=0,i=l.getAll(this.child),o=null;h&&(o=this._getContext(),o&&(t=Math.abs(o.getBoundingClientRect().top))),n=this._parentBottom-this._scrollTop-(this.child.offsetHeight+l.toFloat(i.marginBottom)+e+this.options.top),n>0&&(n=0),this.child.style.top=n+e+t+this.options.top-l.toFloat(i.marginTop)+"px"},_fullOffset:function(t,e,n){for(var i=e[t],o=e.offsetParent;null!==o&&o!==n;)i+=o[t],o=o.offsetParent;return i},_getContext:function(){for(var t,e,i=this.child,o=null;!o;){if(t=i.parentNode,t===n.documentElement)return null;if(e=l.getAll(t),"none"!==e[p]){o=t;break}i=t}return o},_fix:function(){var t=this.child,e=t.style,i=l.getAll(t),o=t.getBoundingClientRect().left,s=i.width;if(this._saveStyles(),n.documentElement.currentStyle&&(s=t.offsetWidth-(l.toFloat(i.paddingLeft)+l.toFloat(i.paddingRight)+l.toFloat(i.borderLeftWidth)+l.toFloat(i.borderRightWidth))+"px"),h){var r=this._getContext();r&&(o=t.getBoundingClientRect().left-r.getBoundingClientRect().left)}this._replacer.replace(),e.left=o-l.toFloat(i.marginLeft)+"px",e.width=s,e.position="fixed",e.top=this._mindtop()+this.options.top-l.toFloat(i.marginTop)+"px",this._$child.addClass(this.options.className),this.fixed=!0},_unfix:function(){var t=this.child.style;this._replacer.hide(),t.position=this._childOriginalPosition,t.top=this._childOriginalTop,t.width=this._childOriginalWidth,t.left=this._childOriginalLeft,this._$child.removeClass(this.options.className),this.fixed=!1},_saveStyles:function(){var t=this.child.style;this._childOriginalPosition=t.position,this._childOriginalTop=t.top,this._childOriginalWidth=t.width,this._childOriginalLeft=t.left},_onresize:function(){this.refresh()},_saveViewportHeight:function(){this._viewportHeight=e.innerHeight||n.documentElement.clientHeight},_stop:function(){this._unfix(),t(e).unbind("scroll",this._proxied_onscroll),t(this._toresize).unbind("resize",this._proxied_onresize)},_start:function(){this._onscroll(),t(e).bind("scroll",this._proxied_onscroll),t(this._toresize).bind("resize",this._proxied_onresize)},_destroy:function(){this._replacer.destroy()},refresh:function(){this._saveViewportHeight(),this._unfix(),this._onscroll()}}),a.prototype=new s,t.extend(a.prototype,{_start:function(){var t=l.getAll(this.child);this._childOriginalPosition=t.position,this._childOriginalTop=t.top,this.child.style.position=f,this.refresh()},_stop:function(){this.child.style.position=this._childOriginalPosition,this.child.style.top=this._childOriginalTop},refresh:function(){this.child.style.top=this._mindtop()+this.options.top+"px"}});var v=function(e,n,i){var s=f;return"-webkit-sticky"==s&&"table-cell"==t(n).css("display")&&(s=!1),/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)&&(s=!1),s&&!i||s&&i&&i.useNativeSticky!==!1?new a(e,n,i):m?(void 0===h&&(h=o()),new r(e,n,i)):"Neither fixed nor sticky positioning supported"};return 8>u&&(v=function(){return"not supported"}),t.fn.fixTo=function(e,n){var i=t(e),o=0;return this.each(function(){var s=t(this).data("fixto-instance");if(s){var r=e;s[r].call(s,n)}else t(this).data("fixto-instance",v(this,i[o],n));o++})},{FixToContainer:r,fixTo:v,computedStyle:l,mimicNode:c}}(n2,window,document);!function(){"use strict";function t(){var t=!1;if("localStorage"in window)try{window.localStorage.setItem("_tmptest","tmpval"),t=!0,window.localStorage.removeItem("_tmptest")}catch(e){}if(t)try{window.localStorage&&(w=window.localStorage,_="localStorage",D=w.jStorage_update)}catch(o){}else if("globalStorage"in window)try{window.globalStorage&&(w="localhost"==window.location.hostname?window.globalStorage["localhost.localdomain"]:window.globalStorage[window.location.hostname],_="globalStorage",D=w.jStorage_update)}catch(s){}else{if(S=document.createElement("link"),!S.addBehavior)return void(S=null);S.style.behavior="url(#default#userData)",document.getElementsByTagName("head")[0].appendChild(S);try{S.load("jStorage")}catch(r){S.setAttribute("jStorage","{}"),S.save("jStorage"),S.load("jStorage")}var l="{}";try{l=S.getAttribute("jStorage")}catch(c){}try{D=S.getAttribute("jStorage_update")}catch(d){}w.jStorage=l,_="userDataBehavior"}a(),h(),n(),u(),"addEventListener"in window&&window.addEventListener("pageshow",function(t){t.persisted&&i()},!1)}function e(){var t="{}";if("userDataBehavior"==_){S.load("jStorage");try{t=S.getAttribute("jStorage")}catch(e){}try{D=S.getAttribute("jStorage_update")}catch(n){}w.jStorage=t}a(),h(),u()}function n(){"localStorage"==_||"globalStorage"==_?"addEventListener"in window?window.addEventListener("storage",i,!1):document.attachEvent("onstorage",i):"userDataBehavior"==_&&setInterval(i,1e3)}function i(){var t;clearTimeout(C),C=setTimeout(function(){if("localStorage"==_||"globalStorage"==_)t=w.jStorage_update;else if("userDataBehavior"==_){S.load("jStorage");try{t=S.getAttribute("jStorage_update")}catch(e){}}t&&t!=D&&(D=t,o())},25)}function o(){var t,n=y.parse(y.stringify(x.__jstorage_meta.CRC32));e(),t=y.parse(y.stringify(x.__jstorage_meta.CRC32));var i,o=[],r=[];for(i in n)if(n.hasOwnProperty(i)){if(!t[i]){r.push(i);continue}n[i]!=t[i]&&"2."==String(n[i]).substr(0,2)&&o.push(i)}for(i in t)t.hasOwnProperty(i)&&(n[i]||o.push(i));s(o,"updated"),s(r,"deleted")}function s(t,e){t=[].concat(t||[]);var n,i,o,s;if("flushed"==e){t=[];for(var r in T)T.hasOwnProperty(r)&&t.push(r);e="deleted"}for(n=0,o=t.length;o>n;n++){if(T[t[n]])for(i=0,s=T[t[n]].length;s>i;i++)T[t[n]][i](t[n],e);if(T["*"])for(i=0,s=T["*"].length;s>i;i++)T["*"][i](t[n],e)}}function r(){var t=(+new Date).toString();if("localStorage"==_||"globalStorage"==_)try{w.jStorage_update=t}catch(e){_=!1}else"userDataBehavior"==_&&(S.setAttribute("jStorage_update",t),S.save("jStorage"));i()}function a(){if(w.jStorage)try{x=y.parse(String(w.jStorage))}catch(t){w.jStorage="{}"}else w.jStorage="{}";k=w.jStorage?String(w.jStorage).length:0,x.__jstorage_meta||(x.__jstorage_meta={}),x.__jstorage_meta.CRC32||(x.__jstorage_meta.CRC32={})}function l(){p();try{w.jStorage=y.stringify(x),S&&(S.setAttribute("jStorage",w.jStorage),S.save("jStorage")),k=w.jStorage?String(w.jStorage).length:0}catch(t){}}function c(t){if("string"!=typeof t&&"number"!=typeof t)throw new TypeError("Key name must be string or numeric");if("__jstorage_meta"==t)throw new TypeError("Reserved key name");return!0}function h(){var t,e,n,i,o=1/0,a=!1,c=[];if(clearTimeout(b),x.__jstorage_meta&&"object"==typeof x.__jstorage_meta.TTL){t=+new Date,n=x.__jstorage_meta.TTL,i=x.__jstorage_meta.CRC32;for(e in n)n.hasOwnProperty(e)&&(n[e]<=t?(delete n[e],delete i[e],delete x[e],a=!0,c.push(e)):n[e]<o&&(o=n[e]));o!=1/0&&(b=setTimeout(h,Math.min(o-t,2147483647))),a&&(l(),r(),s(c,"deleted"))}}function u(){var t,e;if(x.__jstorage_meta.PubSub){var n,i=M,o=[];for(t=e=x.__jstorage_meta.PubSub.length-1;t>=0;t--)n=x.__jstorage_meta.PubSub[t],n[0]>M&&(i=n[0],o.unshift(n));for(t=o.length-1;t>=0;t--)d(o[t][1],o[t][2]);M=i}}function d(t,e){if(O[t])for(var n=0,i=O[t].length;i>n;n++)try{O[t][n](t,y.parse(y.stringify(e)))}catch(o){}}function p(){if(x.__jstorage_meta.PubSub){for(var t=+new Date-2e3,e=0,n=x.__jstorage_meta.PubSub.length;n>e;e++)if(x.__jstorage_meta.PubSub[e][0]<=t){x.__jstorage_meta.PubSub.splice(e,x.__jstorage_meta.PubSub.length-e);break}x.__jstorage_meta.PubSub.length||delete x.__jstorage_meta.PubSub}}function f(t,e){x.__jstorage_meta||(x.__jstorage_meta={}),x.__jstorage_meta.PubSub||(x.__jstorage_meta.PubSub=[]),x.__jstorage_meta.PubSub.unshift([+new Date,t,e]),l(),r()}function m(t,e){for(var n,i=t.length,o=e^i,s=0;i>=4;)n=255&t.charCodeAt(s)|(255&t.charCodeAt(++s))<<8|(255&t.charCodeAt(++s))<<16|(255&t.charCodeAt(++s))<<24,n=1540483477*(65535&n)+((1540483477*(n>>>16)&65535)<<16),n^=n>>>24,n=1540483477*(65535&n)+((1540483477*(n>>>16)&65535)<<16),o=1540483477*(65535&o)+((1540483477*(o>>>16)&65535)<<16)^n,i-=4,++s;switch(i){case 3:o^=(255&t.charCodeAt(s+2))<<16;case 2:o^=(255&t.charCodeAt(s+1))<<8;case 1:o^=255&t.charCodeAt(s),o=1540483477*(65535&o)+((1540483477*(o>>>16)&65535)<<16)}return o^=o>>>13,o=1540483477*(65535&o)+((1540483477*(o>>>16)&65535)<<16),o^=o>>>15,o>>>0}var g="0.4.12",v=window.n2||window.$||(window.$={}),y={parse:window.JSON&&(window.JSON.parse||window.JSON.decode)||String.prototype.evalJSON&&function(t){return String(t).evalJSON()}||v.parseJSON||v.evalJSON,stringify:Object.toJSON||window.JSON&&(window.JSON.stringify||window.JSON.encode)||v.toJSON};if("function"!=typeof y.parse||"function"!=typeof y.stringify)throw new Error("No JSON support found, include //cdnjs.cloudflare.com/ajax/libs/json2/20110223/json2.js to page");var b,x={__jstorage_meta:{CRC32:{}}},w={jStorage:"{}"},S=null,k=0,_=!1,T={},C=!1,D=0,O={},M=+new Date,F={isXML:function(t){var e=(t?t.ownerDocument||t:0).documentElement;return e?"HTML"!==e.nodeName:!1},encode:function(t){if(!this.isXML(t))return!1;try{return(new XMLSerializer).serializeToString(t)}catch(e){try{return t.xml}catch(n){}}return!1},decode:function(t){var e,n="DOMParser"in window&&(new DOMParser).parseFromString||window.ActiveXObject&&function(t){
var e=new ActiveXObject("Microsoft.XMLDOM");return e.async="false",e.loadXML(t),e};return n?(e=n.call("DOMParser"in window&&new DOMParser||window,t,"text/xml"),this.isXML(e)?e:!1):!1}};v.jStorage={version:g,set:function(t,e,n){if(c(t),n=n||{},"undefined"==typeof e)return this.deleteKey(t),e;if(F.isXML(e))e={_is_xml:!0,xml:F.encode(e)};else{if("function"==typeof e)return;e&&"object"==typeof e&&(e=y.parse(y.stringify(e)))}return x[t]=e,x.__jstorage_meta.CRC32[t]="2."+m(y.stringify(e),2538058380),this.setTTL(t,n.TTL||0),s(t,"updated"),e},get:function(t,e){return c(t),t in x?x[t]&&"object"==typeof x[t]&&x[t]._is_xml?F.decode(x[t].xml):x[t]:"undefined"==typeof e?null:e},deleteKey:function(t){return c(t),t in x?(delete x[t],"object"==typeof x.__jstorage_meta.TTL&&t in x.__jstorage_meta.TTL&&delete x.__jstorage_meta.TTL[t],delete x.__jstorage_meta.CRC32[t],l(),r(),s(t,"deleted"),!0):!1},setTTL:function(t,e){var n=+new Date;return c(t),e=Number(e)||0,t in x?(x.__jstorage_meta.TTL||(x.__jstorage_meta.TTL={}),e>0?x.__jstorage_meta.TTL[t]=n+e:delete x.__jstorage_meta.TTL[t],l(),h(),r(),!0):!1},getTTL:function(t){var e,n=+new Date;return c(t),t in x&&x.__jstorage_meta.TTL&&x.__jstorage_meta.TTL[t]?(e=x.__jstorage_meta.TTL[t]-n,e||0):0},flush:function(){return x={__jstorage_meta:{CRC32:{}}},l(),r(),s(null,"flushed"),!0},storageObj:function(){function t(){}return t.prototype=x,new t},index:function(){var t,e=[];for(t in x)x.hasOwnProperty(t)&&"__jstorage_meta"!=t&&e.push(t);return e},storageSize:function(){return k},currentBackend:function(){return _},storageAvailable:function(){return!!_},listenKeyChange:function(t,e){c(t),T[t]||(T[t]=[]),T[t].push(e)},stopListening:function(t,e){if(c(t),T[t]){if(!e)return void delete T[t];for(var n=T[t].length-1;n>=0;n--)T[t][n]==e&&T[t].splice(n,1)}},subscribe:function(t,e){if(t=(t||"").toString(),!t)throw new TypeError("Channel not defined");O[t]||(O[t]=[]),O[t].push(e)},publish:function(t,e){if(t=(t||"").toString(),!t)throw new TypeError("Channel not defined");f(t,e)},reInit:function(){e()},noConflict:function(t){return delete window.$.jStorage,t&&(window.jStorage=this),this}},t()}(),function(jQuery){var module,define;!function(t){"use strict";var e={i18n:{ar:{months:[" ","","","","","","","",""," "," "," "],dayOfWeek:["","","","","","",""]},ro:{months:["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie"],dayOfWeek:["l","ma","mi","j","v","s","d"]},id:{months:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],dayOfWeek:["Sen","Sel","Rab","Kam","Jum","Sab","Min"]},bg:{months:["","","","","","","","","","","",""],dayOfWeek:["","","","","","",""]},fa:{months:["","","","","","","","","","","",""],dayOfWeek:["",""," ","","","",""]},ru:{months:["","","","","","","","","","","",""],dayOfWeek:["","","","","","",""]},uk:{months:["","","","","","","","","","","",""],dayOfWeek:["","","","","","",""]},en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeek:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},el:{months:["","","","","","","","","","","",""],dayOfWeek:["","","","","","",""]},de:{months:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],dayOfWeek:["So","Mo","Di","Mi","Do","Fr","Sa"]},nl:{months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],dayOfWeek:["zo","ma","di","wo","do","vr","za"]},tr:{months:["Ocak","ubat","Mart","Nisan","Mays","Haziran","Temmuz","Austos","Eyll","Ekim","Kasm","Aralk"],dayOfWeek:["Paz","Pts","Sal","ar","Per","Cum","Cts"]},fr:{months:["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Dcembre"],dayOfWeek:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"]},es:{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],dayOfWeek:["Dom","Lun","Mar","Mi","Jue","Vie","Sb"]},th:{months:["","","","","","","","","","","",""],dayOfWeek:[".",".",".",".",".",".","."]},pl:{months:["stycze","luty","marzec","kwiecie","maj","czerwiec","lipiec","sierpie","wrzesie","padziernik","listopad","grudzie"],dayOfWeek:["nd","pn","wt","r","cz","pt","sb"]},pt:{months:["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeek:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"]},ch:{months:["","","","","","","","","","","",""],dayOfWeek:["","","","","","",""]},se:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeek:["Sn","Mn","Tis","Ons","Tor","Fre","Lr"]},kr:{months:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""]},it:{months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],dayOfWeek:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"]},da:{months:["January","Februar","Marts","April","Maj","Juni","July","August","September","Oktober","November","December"],dayOfWeek:["Sn","Man","Tir","Ons","Tor","Fre","Lr"]},no:{months:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],dayOfWeek:["Sn","Man","Tir","Ons","Tor","Fre","Lr"]},ja:{months:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""]},vi:{months:["Thng 1","Thng 2","Thng 3","Thng 4","Thng 5","Thng 6","Thng 7","Thng 8","Thng 9","Thng 10","Thng 11","Thng 12"],dayOfWeek:["CN","T2","T3","T4","T5","T6","T7"]},sl:{months:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],dayOfWeek:["Ned","Pon","Tor","Sre","et","Pet","Sob"]},cs:{months:["Leden","nor","Bezen","Duben","Kvten","erven","ervenec","Srpen","Z","jen","Listopad","Prosinec"],dayOfWeek:["Ne","Po","t","St","t","P","So"]},hu:{months:["Janur","Februr","Mrcius","prilis","Mjus","Jnius","Jlius","Augusztus","Szeptember","Oktber","November","December"],dayOfWeek:["Va","H","Ke","Sze","Cs","P","Szo"]},az:{months:["Yanvar","Fevral","Mart","Aprel","May","Iyun","Iyul","Avqust","Sentyabr","Oktyabr","Noyabr","Dekabr"],dayOfWeek:["B","Be","a","","Ca","C",""]},bs:{months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],dayOfWeek:["Ned","Pon","Uto","Sri","et","Pet","Sub"]},ca:{months:["Gener","Febrer","Mar","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],dayOfWeek:["Dg","Dl","Dt","Dc","Dj","Dv","Ds"]},"en-GB":{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeek:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},et:{months:["Jaanuar","Veebruar","Mrts","Aprill","Mai","Juuni","Juuli","August","September","Oktoober","November","Detsember"],dayOfWeek:["P","E","T","K","N","R","L"]},eu:{months:["Urtarrila","Otsaila","Martxoa","Apirila","Maiatza","Ekaina","Uztaila","Abuztua","Iraila","Urria","Azaroa","Abendua"],dayOfWeek:["Ig.","Al.","Ar.","Az.","Og.","Or.","La."]},fi:{months:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Keskuu","Heinkuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],dayOfWeek:["Su","Ma","Ti","Ke","To","Pe","La"]},gl:{months:["Xan","Feb","Maz","Abr","Mai","Xun","Xul","Ago","Set","Out","Nov","Dec"],dayOfWeek:["Dom","Lun","Mar","Mer","Xov","Ven","Sab"]},hr:{months:["Sijeanj","Veljaa","Oujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],dayOfWeek:["Ned","Pon","Uto","Sri","et","Pet","Sub"]},ko:{months:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""]},lt:{months:["Sausio","Vasario","Kovo","Balandio","Gegus","Birelio","Liepos","Rugpjio","Rugsjo","Spalio","Lapkriio","Gruodio"],dayOfWeek:["Sek","Pir","Ant","Tre","Ket","Pen","e"]},lv:{months:["Janvris","Februris","Marts","Aprlis ","Maijs","Jnijs","Jlijs","Augusts","Septembris","Oktobris","Novembris","Decembris"],dayOfWeek:["Sv","Pr","Ot","Tr","Ct","Pk","St"]},mk:{months:["","","","","","","","","","","",""],dayOfWeek:["","","","","","",""]},mn:{months:["1- ","2- ","3- ","4- ","5- ","6- ","7- ","8- ","9- ","10- ","11- ","12- "],dayOfWeek:["","","","","","",""]},"pt-BR":{months:["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeek:["Dom","Seg","Ter","Qua","Qui","Sex","Sb"]},sk:{months:["Janur","Februr","Marec","Aprl","Mj","Jn","Jl","August","September","Oktber","November","December"],dayOfWeek:["Ne","Po","Ut","St","t","Pi","So"]},sq:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeek:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},"sr-YU":{months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],dayOfWeek:["Ned","Pon","Uto","Sre","et","Pet","Sub"]},sr:{months:["","","","","","","","","","","",""],dayOfWeek:["","","","","","",""]},sv:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeek:["Sn","Mn","Tis","Ons","Tor","Fre","Lr"]},"zh-TW":{months:["","","","","","","","","","","",""],dayOfWeek:["","","","","","",""]},zh:{months:["","","","","","","","","","","",""],dayOfWeek:["","","","","","",""]},he:{months:["","","","","","","","","","","",""],dayOfWeek:["'","'","'","'","'","'",""]}},value:"",lang:"en",format:"Y/m/d H:i",formatTime:"H:i",formatDate:"Y/m/d",startDate:!1,step:60,monthChangeSpinner:!0,closeOnDateSelect:!1,closeOnWithoutClick:!0,closeOnInputClick:!0,timepicker:!0,datepicker:!0,weeks:!1,defaultTime:!1,defaultDate:!1,minDate:!1,maxDate:!1,minTime:!1,maxTime:!1,allowTimes:[],opened:!1,initTime:!0,inline:!1,theme:"",onSelectDate:function(){},onSelectTime:function(){},onChangeMonth:function(){},onChangeYear:function(){},onChangeDateTime:function(){},onShow:function(){},onClose:function(){},onGenerate:function(){},withoutCopyright:!0,inverseButton:!1,hours12:!1,next:"xdsoft_next",prev:"xdsoft_prev",dayOfWeekStart:0,parentID:"body",timeHeightInTimePicker:25,timepickerScrollbar:!0,todayButton:!0,defaultSelect:!0,scrollMonth:!0,scrollTime:!0,scrollInput:!0,lazyInit:!1,mask:!1,validateOnBlur:!0,allowBlank:!0,yearStart:1950,yearEnd:2050,style:"",id:"",fixed:!1,roundTime:"round",className:"",weekends:[],disabledDates:[],yearOffset:0,beforeShowDay:null,enterLikeTab:!0};Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){var n,i;for(n=e||0,i=this.length;i>n;n+=1)if(this[n]===t)return n;return-1}),Date.prototype.countDaysInMonth=function(){return new Date(this.getFullYear(),this.getMonth()+1,0).getDate()},t.fn.xdsoftScroller=function(e){return this.each(function(){var n,i,o,s,r,a=t(this),l=function(t){var e,n={x:0,y:0};return"touchstart"===t.type||"touchmove"===t.type||"touchend"===t.type||"touchcancel"===t.type?(e=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],n.x=e.clientX,n.y=e.clientY):"mousedown"!==t.type&&"mouseup"!==t.type&&"mousemove"!==t.type&&"mouseover"!==t.type&&"mouseout"!==t.type&&"mouseenter"!==t.type&&"mouseleave"!==t.type||(n.x=t.clientX,n.y=t.clientY),n},c=100,h=!1,u=0,d=0,p=0,f=!1,m=0,g=function(){};return"hide"===e?void a.find(".xdsoft_scrollbar").hide():(t(this).hasClass("xdsoft_scroller_box")||(n=a.children().eq(0),i=a[0].clientHeight,o=n[0].offsetHeight,s=t('<div class="xdsoft_scrollbar"></div>'),r=t('<div class="xdsoft_scroller"></div>'),s.append(r),a.addClass("xdsoft_scroller_box").append(s),g=function(t){var e=l(t).y-u+m;0>e&&(e=0),e+r[0].offsetHeight>p&&(e=p-r[0].offsetHeight),a.trigger("scroll_element.xdsoft_scroller",[c?e/c:0])},r.on("touchstart.xdsoft_scroller mousedown.xdsoft_scroller",function(n){i||a.trigger("resize_scroll.xdsoft_scroller",[e]),u=l(n).y,m=parseInt(r.css("margin-top"),10),p=s[0].offsetHeight,"mousedown"===n.type?(document&&t(document.body).addClass("xdsoft_noselect"),t([document.body,window]).on("mouseup.xdsoft_scroller",function o(){t([document.body,window]).off("mouseup.xdsoft_scroller",o).off("mousemove.xdsoft_scroller",g).removeClass("xdsoft_noselect")}),t(document.body).on("mousemove.xdsoft_scroller",g)):(f=!0,n.stopPropagation(),n.preventDefault())}).on("touchmove",function(t){f&&(t.preventDefault(),g(t))}).on("touchend touchcancel",function(t){f=!1,m=0}),a.on("scroll_element.xdsoft_scroller",function(t,e){i||a.trigger("resize_scroll.xdsoft_scroller",[e,!0]),e=e>1?1:0>e||isNaN(e)?0:e,r.css("margin-top",c*e),setTimeout(function(){n.css("marginTop",-parseInt((n[0].offsetHeight-i)*e,10))},10)}).on("resize_scroll.xdsoft_scroller",function(t,e,l){var h,u;i=a[0].clientHeight,o=n[0].offsetHeight,h=i/o,u=h*s[0].offsetHeight,h>1?r.hide():(r.show(),r.css("height",parseInt(u>10?u:10,10)),c=s[0].offsetHeight-r[0].offsetHeight,l!==!0&&a.trigger("scroll_element.xdsoft_scroller",[e||Math.abs(parseInt(n.css("marginTop"),10))/(o-i)]))}),a.on("mousewheel",function(t){var e=Math.abs(parseInt(n.css("marginTop"),10));return e-=20*t.deltaY,0>e&&(e=0),a.trigger("scroll_element.xdsoft_scroller",[e/(o-i)]),t.stopPropagation(),!1}),a.on("touchstart",function(t){h=l(t),d=Math.abs(parseInt(n.css("marginTop"),10))}),a.on("touchmove",function(t){if(h){t.preventDefault();var e=l(t);a.trigger("scroll_element.xdsoft_scroller",[(d-(e.y-h.y))/(o-i)])}}),a.on("touchend touchcancel",function(t){h=!1,d=0})),void a.trigger("resize_scroll.xdsoft_scroller",[e]))})},t.fn.datetimepicker=function(n){var i,o,s=48,r=57,a=96,l=105,c=17,h=46,u=13,d=27,p=8,f=37,m=38,g=39,v=40,y=9,b=116,x=65,w=67,S=86,k=90,_=89,T=!1,C=t.isPlainObject(n)||!n?t.extend(!0,{},e,n):t.extend(!0,{},e),D=0,O=function(t){"undefined"==typeof C.i18n[C.lang]&&(C.lang="en"),t.on("open.xdsoft focusin.xdsoft mousedown.xdsoft",function e(n){t.is(":disabled")||t.data("xdsoft_datetimepicker")||(clearTimeout(D),D=setTimeout(function(){t.data("xdsoft_datetimepicker")||i(t),t.off("open.xdsoft focusin.xdsoft mousedown.xdsoft",e).trigger("open.xdsoft")},100))})};return i=function(e){function i(){var t,n=!1;return C.startDate?n=j.strToDate(C.startDate):(n=C.value||(e&&e.val&&e.val()?e.val():""),n?n=j.strToDateTime(n):C.defaultDate&&(n=j.strToDate(C.defaultDate),C.defaultTime&&(t=j.strtotime(C.defaultTime),n.setHours(t.getHours()),n.setMinutes(t.getMinutes())))),n&&j.isValidDate(n)?N.data("changed",!0):n="",n||0}var o,D,O,M,F,j,N=t("<div "+(C.id?'id="'+C.id+'"':"")+" "+(C.style?'style="'+C.style+'"':"")+' class="xdsoft_datetimepicker xdsoft_'+C.theme+" xdsoft_noselect "+(C.weeks?" xdsoft_showweeks":"")+C.className+'"></div>'),A=t('<div class="xdsoft_copyright"><a target="_blank" href="http://xdsoft.net/jqplugins/datetimepicker/">xdsoft.net</a></div>'),P=t('<div class="xdsoft_datepicker active"></div>'),E=t('<div class="xdsoft_mounthpicker"><button type="button" class="xdsoft_prev"></button><button type="button" class="xdsoft_today_button"></button><div class="xdsoft_label xdsoft_month"><span></span><i></i></div><div class="xdsoft_label xdsoft_year"><span></span><i></i></div><button type="button" class="xdsoft_next"></button></div>'),I=t('<div class="xdsoft_calendar"></div>'),z=t('<div class="xdsoft_timepicker active"><button type="button" class="xdsoft_prev"></button><div class="xdsoft_time_box"></div><button type="button" class="xdsoft_next"></button></div>'),H=z.find(".xdsoft_time_box").eq(0),R=t('<div class="xdsoft_time_variant"></div>'),L=t('<div class="xdsoft_select xdsoft_monthselect"><div></div></div>'),$=t('<div class="xdsoft_select xdsoft_yearselect"><div></div></div>'),J=!1,B=0,W=0;E.find(".xdsoft_month span").after(L),E.find(".xdsoft_year span").after($),E.find(".xdsoft_month,.xdsoft_year").on("mousedown.xdsoft",function(e){var n,i,o=t(this).find(".xdsoft_select").eq(0),s=0,r=0,a=o.is(":visible");for(E.find(".xdsoft_select").hide(),j.currentTime&&(s=j.currentTime[t(this).hasClass("xdsoft_month")?"getMonth":"getFullYear"]()),o[a?"hide":"show"](),n=o.find("div.xdsoft_option"),i=0;i<n.length&&n.eq(i).data("value")!==s;i+=1)r+=n[0].offsetHeight;return o.xdsoftScroller(r/(o.children()[0].offsetHeight-o[0].clientHeight)),e.stopPropagation(),!1}),E.find(".xdsoft_select").xdsoftScroller().on("mousedown.xdsoft",function(t){t.stopPropagation(),t.preventDefault()}).on("mousedown.xdsoft",".xdsoft_option",function(e){var n=j.currentTime.getFullYear();j&&j.currentTime&&j.currentTime[t(this).parent().parent().hasClass("xdsoft_monthselect")?"setMonth":"setFullYear"](t(this).data("value")),t(this).parent().parent().hide(),N.trigger("xchange.xdsoft"),C.onChangeMonth&&t.isFunction(C.onChangeMonth)&&C.onChangeMonth.call(N,j.currentTime,N.data("input")),n!==j.currentTime.getFullYear()&&t.isFunction(C.onChangeYear)&&C.onChangeYear.call(N,j.currentTime,N.data("input"))}),N.setOptions=function(n){if(C=t.extend(!0,{},C,n),n.allowTimes&&t.isArray(n.allowTimes)&&n.allowTimes.length&&(C.allowTimes=t.extend(!0,[],n.allowTimes)),n.weekends&&t.isArray(n.weekends)&&n.weekends.length&&(C.weekends=t.extend(!0,[],n.weekends)),n.disabledDates&&t.isArray(n.disabledDates)&&n.disabledDates.length&&(C.disabledDates=t.extend(!0,[],n.disabledDates)),!C.open&&!C.opened||C.inline||e.trigger("open.xdsoft"),C.inline&&(J=!0,N.addClass("xdsoft_inline"),e.after(N).hide()),C.inverseButton&&(C.next="xdsoft_prev",C.prev="xdsoft_next"),C.datepicker?P.addClass("active"):P.removeClass("active"),C.timepicker?z.addClass("active"):z.removeClass("active"),C.value&&(e&&e.val&&e.val(C.value),j.setCurrentTime(C.value)),isNaN(C.dayOfWeekStart)?C.dayOfWeekStart=0:C.dayOfWeekStart=parseInt(C.dayOfWeekStart,10)%7,C.timepickerScrollbar||H.xdsoftScroller("hide"),C.minDate&&/^-(.*)$/.test(C.minDate)&&(C.minDate=j.strToDateTime(C.minDate).dateFormat(C.formatDate)),C.maxDate&&/^\+(.*)$/.test(C.maxDate)&&(C.maxDate=j.strToDateTime(C.maxDate).dateFormat(C.formatDate)),E.find(".xdsoft_today_button").css("visibility",C.todayButton?"visible":"hidden"),C.mask){var i=function(t){try{if(document.selection&&document.selection.createRange){var e=document.selection.createRange();return e.getBookmark().charCodeAt(2)-2}if(t.setSelectionRange)return t.selectionStart}catch(n){return 0}},o=function(t,e){if(t="string"==typeof t||t instanceof String?document.getElementById(t):t,!t)return!1;if(t.createTextRange){var n=t.createTextRange();return n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",e),n.select(),!0}return t.setSelectionRange?(t.setSelectionRange(e,e),!0):!1},D=function(t,e){var n=t.replace(/([\[\]\/\{\}\(\)\-\.\+]{1})/g,"\\$1").replace(/_/g,"{digit+}").replace(/([0-9]{1})/g,"{digit$1}").replace(/\{digit([0-9]{1})\}/g,"[0-$1_]{1}").replace(/\{digit[\+]\}/g,"[0-9_]{1}");return new RegExp(n).test(e)};e.off("keydown.xdsoft"),C.mask===!0&&(C.mask=C.format.replace(/Y/g,"9999").replace(/F/g,"9999").replace(/m/g,"19").replace(/d/g,"39").replace(/H/g,"29").replace(/i/g,"59").replace(/s/g,"59")),"string"===t.type(C.mask)&&(D(C.mask,e.val())||e.val(C.mask.replace(/[0-9]/g,"_")),e.on("keydown.xdsoft",function(n){var O,M,F=this.value,j=n.which;if(j>=s&&r>=j||j>=a&&l>=j||j===p||j===h){for(O=i(this),M=j!==p&&j!==h?String.fromCharCode(j>=a&&l>=j?j-s:j):"_",j!==p&&j!==h||!O||(O-=1,M="_");/[^0-9_]/.test(C.mask.substr(O,1))&&O<C.mask.length&&O>0;)O+=j===p||j===h?-1:1;if(F=F.substr(0,O)+M+F.substr(O+1),""===t.trim(F))F=C.mask.replace(/[0-9]/g,"_");else if(O===C.mask.length)return n.preventDefault(),!1;for(O+=j===p||j===h?0:1;/[^0-9_]/.test(C.mask.substr(O,1))&&O<C.mask.length&&O>0;)O+=j===p||j===h?-1:1;D(C.mask,F)?(this.value=F,o(this,O)):""===t.trim(F)?this.value=C.mask.replace(/[0-9]/g,"_"):e.trigger("error_input.xdsoft")}else if(-1!==[x,w,S,k,_].indexOf(j)&&T||-1!==[d,m,v,f,g,b,c,y,u].indexOf(j))return!0;return n.preventDefault(),!1}))}C.validateOnBlur&&e.off("blur.xdsoft").on("blur.xdsoft",function(){C.allowBlank&&!t.trim(t(this).val()).length?(t(this).val(null),N.data("xdsoft_datetime").empty()):Date.parseDate(t(this).val(),C.format)?N.data("xdsoft_datetime").setCurrentTime(t(this).val()):(t(this).val(j.now().dateFormat(C.format)),N.data("xdsoft_datetime").setCurrentTime(t(this).val())),N.trigger("changedatetime.xdsoft")}),C.dayOfWeekStartPrev=0===C.dayOfWeekStart?6:C.dayOfWeekStart-1,N.trigger("xchange.xdsoft").trigger("afterOpen.xdsoft")},N.data("options",C).on("mousedown.xdsoft",function(t){return t.stopPropagation(),t.preventDefault(),$.hide(),L.hide(),!1}),H.append(R),H.xdsoftScroller(),N.on("afterOpen.xdsoft",function(){H.xdsoftScroller()}),N.append(P).append(z),C.withoutCopyright!==!0&&N.append(A),P.append(E).append(I),t(C.parentID).append(N),o=function(){var e=this;e.now=function(t){var n,i,o=new Date;return!t&&C.defaultDate&&(n=e.strToDate(C.defaultDate),o.setFullYear(n.getFullYear()),o.setMonth(n.getMonth()),o.setDate(n.getDate())),C.yearOffset&&o.setFullYear(o.getFullYear()+C.yearOffset),!t&&C.defaultTime&&(i=e.strtotime(C.defaultTime),o.setHours(i.getHours()),o.setMinutes(i.getMinutes())),o},e.isValidDate=function(t){return"[object Date]"!==Object.prototype.toString.call(t)?!1:!isNaN(t.getTime())},e.setCurrentTime=function(t){e.currentTime="string"==typeof t?e.strToDateTime(t):e.isValidDate(t)?t:e.now(),N.trigger("xchange.xdsoft")},e.empty=function(){e.currentTime=null},e.getCurrentTime=function(t){return e.currentTime},e.nextMonth=function(){var n,i=e.currentTime.getMonth()+1;return 12===i&&(e.currentTime.setFullYear(e.currentTime.getFullYear()+1),i=0),n=e.currentTime.getFullYear(),e.currentTime.setDate(Math.min(new Date(e.currentTime.getFullYear(),i+1,0).getDate(),e.currentTime.getDate())),e.currentTime.setMonth(i),C.onChangeMonth&&t.isFunction(C.onChangeMonth)&&C.onChangeMonth.call(N,j.currentTime,N.data("input")),n!==e.currentTime.getFullYear()&&t.isFunction(C.onChangeYear)&&C.onChangeYear.call(N,j.currentTime,N.data("input")),N.trigger("xchange.xdsoft"),i},e.prevMonth=function(){var n=e.currentTime.getMonth()-1;return-1===n&&(e.currentTime.setFullYear(e.currentTime.getFullYear()-1),n=11),e.currentTime.setDate(Math.min(new Date(e.currentTime.getFullYear(),n+1,0).getDate(),e.currentTime.getDate())),e.currentTime.setMonth(n),C.onChangeMonth&&t.isFunction(C.onChangeMonth)&&C.onChangeMonth.call(N,j.currentTime,N.data("input")),N.trigger("xchange.xdsoft"),n},e.getWeekOfYear=function(t){var e=new Date(t.getFullYear(),0,1);return Math.ceil(((t-e)/864e5+e.getDay()+1)/7)},e.strToDateTime=function(t){var n,i,o=[];return t&&t instanceof Date&&e.isValidDate(t)?t:(o=/^(\+|\-)(.*)$/.exec(t),o&&(o[2]=Date.parseDate(o[2],C.formatDate)),o&&o[2]?(n=o[2].getTime()-6e4*o[2].getTimezoneOffset(),i=new Date(j.now().getTime()+parseInt(o[1]+"1",10)*n)):i=t?Date.parseDate(t,C.format):e.now(),e.isValidDate(i)||(i=e.now()),i)},e.strToDate=function(t){if(t&&t instanceof Date&&e.isValidDate(t))return t;var n=t?Date.parseDate(t,C.formatDate):e.now(!0);return e.isValidDate(n)||(n=e.now(!0)),n},e.strtotime=function(t){if(t&&t instanceof Date&&e.isValidDate(t))return t;var n=t?Date.parseDate(t,C.formatTime):e.now(!0);return e.isValidDate(n)||(n=e.now(!0)),n},e.str=function(){return e.currentTime.dateFormat(C.format)},e.currentTime=this.now()},j=new o,E.find(".xdsoft_today_button").on("mousedown.xdsoft",function(){N.data("changed",!0),j.setCurrentTime(0),N.trigger("afterOpen.xdsoft")}).on("dblclick.xdsoft",function(){e.val(j.str()),N.trigger("close.xdsoft")}),E.find(".xdsoft_prev,.xdsoft_next").on("mousedown.xdsoft",function(){var e=t(this),n=0,i=!1;!function o(t){j.currentTime.getMonth();e.hasClass(C.next)?j.nextMonth():e.hasClass(C.prev)&&j.prevMonth(),C.monthChangeSpinner&&(i||(n=setTimeout(o,t||100)))}(500),t([document.body,window]).on("mouseup.xdsoft",function s(){clearTimeout(n),i=!0,t([document.body,window]).off("mouseup.xdsoft",s)})}),z.find(".xdsoft_prev,.xdsoft_next").on("mousedown.xdsoft",function(){var e=t(this),n=0,i=!1,o=110;!function s(t){var r=H[0].clientHeight,a=R[0].offsetHeight,l=Math.abs(parseInt(R.css("marginTop"),10));e.hasClass(C.next)&&a-r-C.timeHeightInTimePicker>=l?R.css("marginTop","-"+(l+C.timeHeightInTimePicker)+"px"):e.hasClass(C.prev)&&l-C.timeHeightInTimePicker>=0&&R.css("marginTop","-"+(l-C.timeHeightInTimePicker)+"px"),H.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(R.css("marginTop"),10)/(a-r))]),o=o>10?10:o-10,i||(n=setTimeout(s,t||o))}(500),t([document.body,window]).on("mouseup.xdsoft",function r(){clearTimeout(n),i=!0,t([document.body,window]).off("mouseup.xdsoft",r)})}),D=0,N.on("xchange.xdsoft",function(e){clearTimeout(D),D=setTimeout(function(){for(var e,i,o,s,r,a,l,c="",h=new Date(j.currentTime.getFullYear(),j.currentTime.getMonth(),1,12,0,0),u=0,d=j.now(),p=!1,f=!1,m=[],g=!0,v="",y="";h.getDay()!==C.dayOfWeekStart;)h.setDate(h.getDate()-1);for(c+="<table><thead><tr>",C.weeks&&(c+="<th></th>"),e=0;7>e;e+=1)c+="<th>"+C.i18n[C.lang].dayOfWeek[(e+C.dayOfWeekStart)%7]+"</th>";for(c+="</tr></thead>",c+="<tbody>",C.maxDate!==!1&&(p=j.strToDate(C.maxDate),p=new Date(p.getFullYear(),p.getMonth(),p.getDate(),23,59,59,999)),C.minDate!==!1&&(f=j.strToDate(C.minDate),f=new Date(f.getFullYear(),f.getMonth(),f.getDate()));u<j.currentTime.countDaysInMonth()||h.getDay()!==C.dayOfWeekStart||j.currentTime.getMonth()===h.getMonth();)m=[],u+=1,i=h.getDate(),o=h.getFullYear(),s=h.getMonth(),r=j.getWeekOfYear(h),m.push("xdsoft_date"),a=C.beforeShowDay&&t.isFunction(C.beforeShowDay.call)?C.beforeShowDay.call(N,h):null,p!==!1&&h>p||f!==!1&&f>h||a&&a[0]===!1?m.push("xdsoft_disabled"):-1!==C.disabledDates.indexOf(h.dateFormat(C.formatDate))&&m.push("xdsoft_disabled"),a&&""!==a[1]&&m.push(a[1]),j.currentTime.getMonth()!==s&&m.push("xdsoft_other_month"),(C.defaultSelect||N.data("changed"))&&j.currentTime.dateFormat(C.formatDate)===h.dateFormat(C.formatDate)&&m.push("xdsoft_current"),d.dateFormat(C.formatDate)===h.dateFormat(C.formatDate)&&m.push("xdsoft_today"),(0===h.getDay()||6===h.getDay()||~C.weekends.indexOf(h.dateFormat(C.formatDate)))&&m.push("xdsoft_weekend"),C.beforeShowDay&&t.isFunction(C.beforeShowDay)&&m.push(C.beforeShowDay(h)),g&&(c+="<tr>",g=!1,C.weeks&&(c+="<th>"+r+"</th>")),c+='<td data-date="'+i+'" data-month="'+s+'" data-year="'+o+'" class="xdsoft_date xdsoft_day_of_week'+h.getDay()+" "+m.join(" ")+'"><div>'+i+"</div></td>",h.getDay()===C.dayOfWeekStartPrev&&(c+="</tr>",g=!0),h.setDate(i+1);if(c+="</tbody></table>",I.html(c),E.find(".xdsoft_label span").eq(0).text(C.i18n[C.lang].months[j.currentTime.getMonth()]),E.find(".xdsoft_label span").eq(1).text(j.currentTime.getFullYear()),v="",y="",s="",l=function(t,e){var n=j.now();n.setHours(t),t=parseInt(n.getHours(),10),n.setMinutes(e),e=parseInt(n.getMinutes(),10);var i=new Date(j.currentTime);i.setHours(t),i.setMinutes(e),m=[],(C.minDateTime!==!1&&C.minDateTime>i||C.maxTime!==!1&&j.strtotime(C.maxTime).getTime()<n.getTime()||C.minTime!==!1&&j.strtotime(C.minTime).getTime()>n.getTime())&&m.push("xdsoft_disabled"),(C.initTime||C.defaultSelect||N.data("changed"))&&parseInt(j.currentTime.getHours(),10)===parseInt(t,10)&&(C.step>59||Math[C.roundTime](j.currentTime.getMinutes()/C.step)*C.step===parseInt(e,10))&&(C.defaultSelect||N.data("changed")?m.push("xdsoft_current"):C.initTime&&m.push("xdsoft_init_time")),parseInt(d.getHours(),10)===parseInt(t,10)&&parseInt(d.getMinutes(),10)===parseInt(e,10)&&m.push("xdsoft_today"),v+='<div class="xdsoft_time '+m.join(" ")+'" data-hour="'+t+'" data-minute="'+e+'">'+n.dateFormat(C.formatTime)+"</div>"},C.allowTimes&&t.isArray(C.allowTimes)&&C.allowTimes.length)for(u=0;u<C.allowTimes.length;u+=1)y=j.strtotime(C.allowTimes[u]).getHours(),s=j.strtotime(C.allowTimes[u]).getMinutes(),l(y,s);else for(u=0,e=0;u<(C.hours12?12:24);u+=1)for(e=0;60>e;e+=C.step)y=(10>u?"0":"")+u,s=(10>e?"0":"")+e,l(y,s);for(R.html(v),n="",u=0,u=parseInt(C.yearStart,10)+C.yearOffset;u<=parseInt(C.yearEnd,10)+C.yearOffset;u+=1)n+='<div class="xdsoft_option '+(j.currentTime.getFullYear()===u?"xdsoft_current":"")+'" data-value="'+u+'">'+u+"</div>";for($.children().eq(0).html(n),u=0,n="";11>=u;u+=1)n+='<div class="xdsoft_option '+(j.currentTime.getMonth()===u?"xdsoft_current":"")+'" data-value="'+u+'">'+C.i18n[C.lang].months[u]+"</div>";L.children().eq(0).html(n),t(N).trigger("generate.xdsoft")},10),e.stopPropagation()}).on("afterOpen.xdsoft",function(){if(C.timepicker){var t,e,n,i;R.find(".xdsoft_current").length?t=".xdsoft_current":R.find(".xdsoft_init_time").length&&(t=".xdsoft_init_time"),t?(e=H[0].clientHeight,n=R[0].offsetHeight,i=R.find(t).index()*C.timeHeightInTimePicker+1,i>n-e&&(i=n-e),H.trigger("scroll_element.xdsoft_scroller",[parseInt(i,10)/(n-e)])):H.trigger("scroll_element.xdsoft_scroller",[0])}}),O=0,I.on("click.xdsoft","td",function(n){n.stopPropagation(),O+=1;var i=t(this),o=j.currentTime;return void 0!==o&&null!==o||(j.currentTime=j.now(),o=j.currentTime),i.hasClass("xdsoft_disabled")?!1:(o.setDate(1),o.setFullYear(i.data("year")),o.setMonth(i.data("month")),o.setDate(i.data("date")),N.trigger("select.xdsoft",[o]),e.val(j.str()),(O>1||C.closeOnDateSelect===!0||0===C.closeOnDateSelect&&!C.timepicker)&&!C.inline&&N.trigger("close.xdsoft"),C.onSelectDate&&t.isFunction(C.onSelectDate)&&C.onSelectDate.call(N,j.currentTime,N.data("input"),n),N.data("changed",!0),N.trigger("xchange.xdsoft"),N.trigger("changedatetime.xdsoft"),void setTimeout(function(){O=0},200))}),R.on("click.xdsoft","div",function(e){e.stopPropagation();var n=t(this),i=j.currentTime;return void 0!==i&&null!==i||(j.currentTime=j.now(),i=j.currentTime),n.hasClass("xdsoft_disabled")?!1:(i.setHours(n.data("hour")),i.setMinutes(n.data("minute")),N.trigger("select.xdsoft",[i]),N.data("input").val(j.str()),C.inline||N.trigger("close.xdsoft"),C.onSelectTime&&t.isFunction(C.onSelectTime)&&C.onSelectTime.call(N,j.currentTime,N.data("input"),e),N.data("changed",!0),N.trigger("xchange.xdsoft"),void N.trigger("changedatetime.xdsoft"))}),P.on("mousewheel.xdsoft",function(t){return C.scrollMonth?(t.deltaY<0?j.nextMonth():j.prevMonth(),!1):!0}),e.on("mousewheel.xdsoft",function(t){return C.scrollInput?!C.datepicker&&C.timepicker?(M=R.find(".xdsoft_current").length?R.find(".xdsoft_current").eq(0).index():0,M+t.deltaY>=0&&M+t.deltaY<R.children().length&&(M+=t.deltaY),R.children().eq(M).length&&R.children().eq(M).trigger("mousedown"),!1):C.datepicker&&!C.timepicker?(P.trigger(t,[t.deltaY,t.deltaX,t.deltaY]),e.val&&e.val(j.str()),N.trigger("changedatetime.xdsoft"),!1):void 0:!0}),N.on("changedatetime.xdsoft",function(e){if(C.onChangeDateTime&&t.isFunction(C.onChangeDateTime)){var n=N.data("input");C.onChangeDateTime.call(N,j.currentTime,n,e),delete C.value,n.trigger("change")}}).on("generate.xdsoft",function(){C.onGenerate&&t.isFunction(C.onGenerate)&&C.onGenerate.call(N,j.currentTime,N.data("input")),
J&&(N.trigger("afterOpen.xdsoft"),J=!1)}).on("click.xdsoft",function(t){t.stopPropagation()}),M=0,F=function(){var e=N.data("input").offset(),n=e.top+N.data("input")[0].offsetHeight-1,i=e.left,o="absolute";C.fixed?(n-=t(window).scrollTop(),i-=t(window).scrollLeft(),o="fixed"):(n+N[0].offsetHeight>t(window).height()+t(window).scrollTop()&&(n=e.top-N[0].offsetHeight+1),0>n&&(n=0),i+N[0].offsetWidth>t(window).width()&&(i=t(window).width()-N[0].offsetWidth)),N.css({left:i,top:n,position:o})},N.on("open.xdsoft",function(e){var n=!0;C.onShow&&t.isFunction(C.onShow)&&(n=C.onShow.call(N,j.currentTime,N.data("input"),e)),n!==!1&&(N.show(),F(),t(window).off("resize.xdsoft",F).on("resize.xdsoft",F),C.closeOnWithoutClick&&t([document.body,window]).on("mousedown.xdsoft",function i(){N.trigger("close.xdsoft"),t([document.body,window]).off("mousedown.xdsoft",i)}))}).on("close.xdsoft",function(e){var n=!0;E.find(".xdsoft_month,.xdsoft_year").find(".xdsoft_select").hide(),C.onClose&&t.isFunction(C.onClose)&&(n=C.onClose.call(N,j.currentTime,N.data("input"),e)),n===!1||C.opened||C.inline||N.hide(),e.stopPropagation()}).on("toggle.xdsoft",function(t){N.is(":visible")?N.trigger("close.xdsoft"):N.trigger("open.xdsoft")}).data("input",e),B=0,W=0,N.data("xdsoft_datetime",j),N.setOptions(C),j.setCurrentTime(i()),e.data("xdsoft_datetimepicker",N).on("open.xdsoft focusin.xdsoft mousedown.xdsoft",function(t){e.is(":disabled")||e.data("xdsoft_datetimepicker").is(":visible")&&C.closeOnInputClick||(clearTimeout(B),B=setTimeout(function(){e.is(":disabled")||(J=!0,j.setCurrentTime(i()),N.trigger("open.xdsoft"))},100))}).on("keydown.xdsoft",function(e){var n,i=(this.value,e.which);return-1!==[u].indexOf(i)&&C.enterLikeTab?(n=t("input:visible,textarea:visible"),N.trigger("close.xdsoft"),n.eq(n.index(this)+1).focus(),!1):-1!==[y].indexOf(i)?(N.trigger("close.xdsoft"),!0):void 0})},o=function(e){var n=e.data("xdsoft_datetimepicker");n&&(n.data("xdsoft_datetime",null),n.remove(),e.data("xdsoft_datetimepicker",null).off(".xdsoft"),t(window).off("resize.xdsoft"),t([window,document.body]).off("mousedown.xdsoft"),e.unmousewheel&&e.unmousewheel())},t(document).off("keydown.xdsoftctrl keyup.xdsoftctrl").on("keydown.xdsoftctrl",function(t){t.keyCode===c&&(T=!0)}).on("keyup.xdsoftctrl",function(t){t.keyCode===c&&(T=!1)}),this.each(function(){var e=t(this).data("xdsoft_datetimepicker");if(e){if("string"===t.type(n))switch(n){case"show":t(this).select().focus(),e.trigger("open.xdsoft");break;case"hide":e.trigger("close.xdsoft");break;case"toggle":e.trigger("toggle.xdsoft");break;case"destroy":o(t(this));break;case"reset":this.value=this.defaultValue,this.value&&e.data("xdsoft_datetime").isValidDate(Date.parseDate(this.value,C.format))||e.data("changed",!1),e.data("xdsoft_datetime").setCurrentTime(this.value)}else e.setOptions(n);return 0}"string"!==t.type(n)&&(!C.lazyInit||C.open||C.inline?i(t(this)):O(t(this)))})},t.fn.datetimepicker.defaults=e}(jQuery),function(){!function(t){"function"==typeof define&&define.amd?define(["jQuery"],t):"object"==typeof exports?module.exports=t:t(jQuery)}(function(t){function e(e){var r=e||window.event,a=l.call(arguments,1),c=0,u=0,d=0,p=0,f=0,m=0;if(e=t.event.fix(r),e.type="mousewheel","detail"in r&&(d=-1*r.detail),"wheelDelta"in r&&(d=r.wheelDelta),"wheelDeltaY"in r&&(d=r.wheelDeltaY),"wheelDeltaX"in r&&(u=-1*r.wheelDeltaX),"axis"in r&&r.axis===r.HORIZONTAL_AXIS&&(u=-1*d,d=0),c=0===d?u:d,"deltaY"in r&&(d=-1*r.deltaY,c=d),"deltaX"in r&&(u=r.deltaX,0===d&&(c=-1*u)),0!==d||0!==u){if(1===r.deltaMode){var g=t.data(this,"mousewheel-line-height");c*=g,d*=g,u*=g}else if(2===r.deltaMode){var v=t.data(this,"mousewheel-page-height");c*=v,d*=v,u*=v}if(p=Math.max(Math.abs(d),Math.abs(u)),(!s||s>p)&&(s=p,i(r,p)&&(s/=40)),i(r,p)&&(c/=40,u/=40,d/=40),c=Math[c>=1?"floor":"ceil"](c/s),u=Math[u>=1?"floor":"ceil"](u/s),d=Math[d>=1?"floor":"ceil"](d/s),h.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();f=e.clientX-y.left,m=e.clientY-y.top}return e.deltaX=u,e.deltaY=d,e.deltaFactor=s,e.offsetX=f,e.offsetY=m,e.deltaMode=0,a.unshift(e,c,u,d),o&&clearTimeout(o),o=setTimeout(n,200),(t.event.dispatch||t.event.handle).apply(this,a)}}function n(){s=null}function i(t,e){return h.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120===0}var o,s,r=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],a="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(t.event.fixHooks)for(var c=r.length;c;)t.event.fixHooks[r[--c]]=t.event.mouseHooks;var h=t.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=a.length;n;)this.addEventListener(a[--n],e,!1);else this.onmousewheel=e;t.data(this,"mousewheel-line-height",h.getLineHeight(this)),t.data(this,"mousewheel-page-height",h.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=a.length;n;)this.removeEventListener(a[--n],e,!1);else this.onmousewheel=null;t.removeData(this,"mousewheel-line-height"),t.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var n=t(e),i=n["offsetParent"in t.fn?"offsetParent":"parent"]();return i.length||(i=t("body")),parseInt(i.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(e){return t(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}),Date.parseFunctions={count:0},Date.parseRegexes=[],Date.formatFunctions={count:0},Date.prototype.dateFormat=function(t){if("unixtime"==t)return parseInt(this.getTime()/1e3);null==Date.formatFunctions[t]&&Date.createNewFormat(t);var e=Date.formatFunctions[t];return this[e]()},Date.createNewFormat=function(format){var funcName="format"+Date.formatFunctions.count++;Date.formatFunctions[format]=funcName;for(var code="Date.prototype."+funcName+" = function() {return ",special=!1,ch="",i=0;i<format.length;++i)ch=format.charAt(i),special||"\\"!=ch?special?(special=!1,code+="'"+String.escape(ch)+"' + "):code+=Date.getFormatCode(ch):special=!0;eval(code.substring(0,code.length-3)+";}")},Date.getFormatCode=function(t){switch(t){case"d":return"String.leftPad(this.getDate(), 2, '0') + ";case"D":return"Date.dayNames[this.getDay()].substring(0, 3) + ";case"j":return"this.getDate() + ";case"l":return"Date.dayNames[this.getDay()] + ";case"S":return"this.getSuffix() + ";case"w":return"this.getDay() + ";case"z":return"this.getDayOfYear() + ";case"W":return"this.getWeekOfYear() + ";case"F":return"Date.monthNames[this.getMonth()] + ";case"m":return"String.leftPad(this.getMonth() + 1, 2, '0') + ";case"M":return"Date.monthNames[this.getMonth()].substring(0, 3) + ";case"n":return"(this.getMonth() + 1) + ";case"t":return"this.getDaysInMonth() + ";case"L":return"(this.isLeapYear() ? 1 : 0) + ";case"Y":return"this.getFullYear() + ";case"y":return"('' + this.getFullYear()).substring(2, 4) + ";case"a":return"(this.getHours() < 12 ? 'am' : 'pm') + ";case"A":return"(this.getHours() < 12 ? 'AM' : 'PM') + ";case"g":return"((this.getHours() %12) ? this.getHours() % 12 : 12) + ";case"G":return"this.getHours() + ";case"h":return"String.leftPad((this.getHours() %12) ? this.getHours() % 12 : 12, 2, '0') + ";case"H":return"String.leftPad(this.getHours(), 2, '0') + ";case"i":return"String.leftPad(this.getMinutes(), 2, '0') + ";case"s":return"String.leftPad(this.getSeconds(), 2, '0') + ";case"O":return"this.getGMTOffset() + ";case"T":return"this.getTimezone() + ";case"Z":return"(this.getTimezoneOffset() * -60) + ";default:return"'"+String.escape(t)+"' + "}},Date.parseDate=function(t,e){if("unixtime"==e)return new Date(isNaN(parseInt(t))?0:1e3*parseInt(t));null==Date.parseFunctions[e]&&Date.createParser(e);var n=Date.parseFunctions[e];return Date[n](t)},Date.createParser=function(format){var funcName="parse"+Date.parseFunctions.count++,regexNum=Date.parseRegexes.length,currentGroup=1;Date.parseFunctions[format]=funcName;for(var code="Date."+funcName+" = function(input) {\nvar y = -1, m = -1, d = -1, h = -1, i = -1, s = -1, z = -1;\nvar d = new Date();\ny = d.getFullYear();\nm = d.getMonth();\nd = d.getDate();\nvar results = input.match(Date.parseRegexes["+regexNum+"]);\nif (results && results.length > 0) {",regex="",special=!1,ch="",i=0;i<format.length;++i)ch=format.charAt(i),special||"\\"!=ch?special?(special=!1,regex+=String.escape(ch)):(obj=Date.formatCodeToRegex(ch,currentGroup),currentGroup+=obj.g,regex+=obj.s,obj.g&&obj.c&&(code+=obj.c)):special=!0;code+="if (y > 0 && z > 0){\nvar doyDate = new Date(y,0);\ndoyDate.setDate(z);\nm = doyDate.getMonth();\nd = doyDate.getDate();\n}",code+="if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0 && s >= 0)\n{return new Date(y, m, d, h, i, s);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0)\n{return new Date(y, m, d, h, i);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0)\n{return new Date(y, m, d, h);}\nelse if (y > 0 && m >= 0 && d > 0)\n{return new Date(y, m, d);}\nelse if (y > 0 && m >= 0)\n{return new Date(y, m);}\nelse if (y > 0)\n{return new Date(y);}\n}return null;}",Date.parseRegexes[regexNum]=new RegExp("^"+regex+"$"),eval(code)},Date.formatCodeToRegex=function(t,e){switch(t){case"D":return{g:0,c:null,s:"(?:Sun|Mon|Tue|Wed|Thu|Fri|Sat)"};case"j":case"d":return{g:1,c:"d = parseInt(results["+e+"], 10);\n",s:"(\\d{1,2})"};case"l":return{g:0,c:null,s:"(?:"+Date.dayNames.join("|")+")"};case"S":return{g:0,c:null,s:"(?:st|nd|rd|th)"};case"w":return{g:0,c:null,s:"\\d"};case"z":return{g:1,c:"z = parseInt(results["+e+"], 10);\n",s:"(\\d{1,3})"};case"W":return{g:0,c:null,s:"(?:\\d{2})"};case"F":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+e+"].substring(0, 3)], 10);\n",s:"("+Date.monthNames.join("|")+")"};case"M":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+e+"]], 10);\n",s:"(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)"};case"n":case"m":return{g:1,c:"m = parseInt(results["+e+"], 10) - 1;\n",s:"(\\d{1,2})"};case"t":return{g:0,c:null,s:"\\d{1,2}"};case"L":return{g:0,c:null,s:"(?:1|0)"};case"Y":return{g:1,c:"y = parseInt(results["+e+"], 10);\n",s:"(\\d{4})"};case"y":return{g:1,c:"var ty = parseInt(results["+e+"], 10);\ny = ty > Date.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"};case"a":return{g:1,c:"if (results["+e+"] == 'am') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(am|pm)"};case"A":return{g:1,c:"if (results["+e+"] == 'AM') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(AM|PM)"};case"g":case"G":case"h":case"H":return{g:1,c:"h = parseInt(results["+e+"], 10);\n",s:"(\\d{1,2})"};case"i":return{g:1,c:"i = parseInt(results["+e+"], 10);\n",s:"(\\d{2})"};case"s":return{g:1,c:"s = parseInt(results["+e+"], 10);\n",s:"(\\d{2})"};case"O":return{g:0,c:null,s:"[+-]\\d{4}"};case"T":return{g:0,c:null,s:"[A-Z]{3}"};case"Z":return{g:0,c:null,s:"[+-]\\d{1,5}"};default:return{g:0,c:null,s:String.escape(t)}}},Date.prototype.getTimezone=function(){return this.toString().replace(/^.*? ([A-Z]{3}) [0-9]{4}.*$/,"$1").replace(/^.*?\(([A-Z])[a-z]+ ([A-Z])[a-z]+ ([A-Z])[a-z]+\)$/,"$1$2$3")},Date.prototype.getGMTOffset=function(){return(this.getTimezoneOffset()>0?"-":"+")+String.leftPad(Math.floor(Math.abs(this.getTimezoneOffset())/60),2,"0")+String.leftPad(Math.abs(this.getTimezoneOffset())%60,2,"0")},Date.prototype.getDayOfYear=function(){var t=0;Date.daysInMonth[1]=this.isLeapYear()?29:28;for(var e=0;e<this.getMonth();++e)t+=Date.daysInMonth[e];return t+this.getDate()},Date.prototype.getWeekOfYear=function(){var t=this.getDayOfYear()+(4-this.getDay()),e=new Date(this.getFullYear(),0,1),n=7-e.getDay()+4;return String.leftPad(Math.ceil((t-n)/7)+1,2,"0")},Date.prototype.isLeapYear=function(){var t=this.getFullYear();return 0==(3&t)&&(t%100||t%400==0&&t)},Date.prototype.getFirstDayOfMonth=function(){var t=(this.getDay()-(this.getDate()-1))%7;return 0>t?t+7:t},Date.prototype.getLastDayOfMonth=function(){var t=(this.getDay()+(Date.daysInMonth[this.getMonth()]-this.getDate()))%7;return 0>t?t+7:t},Date.prototype.getDaysInMonth=function(){return Date.daysInMonth[1]=this.isLeapYear()?29:28,Date.daysInMonth[this.getMonth()]},Date.prototype.getSuffix=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},String.escape=function(t){return t.replace(/('|\\)/g,"\\$1")},String.leftPad=function(t,e,n){var i=new String(t);for(null==n&&(n=" ");i.length<e;)i=n+i;return i},Date.daysInMonth=[31,28,31,30,31,30,31,31,30,31,30,31],Date.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],Date.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Date.y2kYear=50,Date.monthNumbers={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},Date.patterns={ISO8601LongPattern:"Y-m-d H:i:s",ISO8601ShortPattern:"Y-m-d",ShortDatePattern:"n/j/Y",LongDatePattern:"l, F d, Y",FullDateTimePattern:"l, F d, Y g:i:s A",MonthDayPattern:"F d",ShortTimePattern:"g:i A",LongTimePattern:"g:i:s A",SortableDateTimePattern:"Y-m-d\\TH:i:s",UniversalSortableDateTimePattern:"Y-m-d H:i:sO",YearMonthPattern:"F, Y"}}()}(n2),function(t){t(n2)}(function(t){"use strict";function e(e,o){function s(){return d.update(),a(),d}function r(){v.css(S,d.contentPosition/d.trackRatio),f.css(S,-d.contentPosition),m.css(w,d.trackSize),g.css(w,d.trackSize),v.css(w,d.thumbSize)}function a(){x?p[0].ontouchstart=function(t){1===t.touches.length&&(t.stopPropagation(),l(t.touches[0]))}:(v.bind("mousedown",l),g.bind("mousedown",h)),t(window).resize(function(){d.update("relative")}),d.options.wheel&&e.on("mousewheel",c)}function l(e){t("body").addClass("noSelect"),y=b?e.pageX:e.pageY,d.thumbPosition=parseInt(v.css(S),10)||0,x?(document.ontouchmove=function(t){t.preventDefault(),h(t.touches[0])},document.ontouchend=u):(t(document).bind("mousemove",h),t(document).bind("mouseup",u),v.bind("mouseup",u))}function c(n){if(d.contentRatio<1){var i=n,o=("delta"+d.options.axis.toUpperCase(),i.deltaY);d.contentPosition-=o*d.options.wheelSpeed,d.contentPosition=Math.min(d.contentSize-d.viewportSize,Math.max(0,d.contentPosition)),e.trigger("move"),v.css(S,d.contentPosition/d.trackRatio),f.css(S,-d.contentPosition),(d.options.wheelLock||d.contentPosition!==d.contentSize-d.viewportSize&&0!==d.contentPosition)&&(i=t.event.fix(i),i.preventDefault())}}function h(t){if(d.contentRatio<1){var n=b?t.pageX:t.pageY,i=n-y;d.options.scrollInvert&&x&&(i=y-n),nextend.isRTL()&&(i*=-1);var o=Math.min(d.trackSize-d.thumbSize,Math.max(0,d.thumbPosition+i));d.contentPosition=o*d.trackRatio,e.trigger("move"),v.css(S,o),f.css(S,-d.contentPosition)}}function u(){t("body").removeClass("noSelect"),t(document).unbind("mousemove",h),t(document).unbind("mouseup",u),v.unbind("mouseup",u),document.ontouchmove=document.ontouchend=null}this.options=t.extend({},i,o),this._defaults=i,this._name=n;var d=this,p=e.find(".viewport"),f=e.find(".overview"),m=e.find(".scrollbar"),g=m.find(".track"),v=m.find(".thumb"),y=0,b="x"===this.options.axis,x=!1,w=("onwheel"in document||document.documentMode>=9?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",b?"width":"height"),S=b?nextend.isRTL()?"right":"left":"top";return this.contentPosition=0,this.viewportSize=0,this.contentSize=0,this.contentRatio=0,this.trackSize=0,this.trackRatio=0,this.thumbSize=0,this.thumbPosition=0,this.update=function(t){var n=w.charAt(0).toUpperCase()+w.slice(1).toLowerCase();switch(this.viewportSize=p[0]["offset"+n],this.contentSize=f.width(),this.contentRatio=this.viewportSize/this.contentSize,this.trackSize=m.parent().width()||this.viewportSize,this.thumbSize=Math.min(this.trackSize,Math.max(0,this.options.thumbSize||this.trackSize*this.contentRatio)),this.trackRatio=this.options.thumbSize?(this.contentSize-this.viewportSize)/(this.trackSize-this.thumbSize):this.contentSize/this.trackSize,y=g.offset().top,e.toggleClass("n2-scroll-disable",this.contentRatio>=1),m.toggleClass("disable",this.contentRatio>=1),t){case"bottom":this.contentPosition=this.contentSize-this.viewportSize;break;case"relative":this.contentPosition=Math.min(Math.max(this.contentSize-this.viewportSize,0),Math.max(0,this.contentPosition));break;default:this.contentPosition=parseInt(t,10)||0}return r(),e.trigger("scrollUpdate"),d},this.wheel=c,s()}var n="tinyscrollbar",i={axis:"y",wheel:!0,wheelSpeed:40,wheelLock:!0,scrollInvert:!1,trackSize:!1,thumbSize:!1};t.fn[n]=function(i){return this.each(function(){t.data(this,"plugin_"+n)||t.data(this,"plugin_"+n,new e(t(this),i))})}}),function(t){function e(){return"n"+Math.floor(281474976710656*(1+Math.random())).toString(16)}t.fn.uid=function(){var n=null;do n=e();while(t("#"+n).length>0);return n}}(n2),function(t,e,n,i){function o(t,n){this.loadDefaults(),this.topOffset=e("#wpadminbar, .navbar-fixed-top").height(),this.tab=t,this.mainPane=n}function s(t,n,i){o.prototype.constructor.apply(this,arguments),this.key&&(this.ratio=e.jStorage.get(this.key,this.ratio)),this.bottomPane=i}o.prototype.loadDefaults=function(){this.ratio=1,this.excludedHeight=0},o.prototype.lateInit=function(){this.calibrate(),e(window).on("resize",e.proxy(this.resize,this)),e(window).one("load",e.proxy(this.calibrate,this))},o.prototype.calibrate=function(){this.excludedHeight=this.getExcludedHeight(),this.resize()},o.prototype.getExcludedHeight=function(){return 0},o.prototype.resize=function(){this.targetHeight=window.innerHeight-this.topOffset-this.excludedHeight,this.changeRatio(this.ratio)},o.prototype.changeRatio=function(t){this.mainPane.height(this.targetHeight)},n.NextendAdminSinglePane=o,s.prototype=Object.create(o.prototype),s.prototype.constructor=s,s.prototype.loadDefaults=function(){o.prototype.loadDefaults.apply(this,arguments),this.key=!1,this.ratio=.5,this.originalRatio=.5},s.prototype.lateInit=function(){o.prototype.lateInit.apply(this,arguments),this.tab.find(".n2-sidebar-pane-sizer").draggable({axis:"y",scroll:!1,start:e.proxy(this.start,this),drag:e.proxy(this.drag,this)})},s.prototype.start=function(t,e){this.originalRatio=this.ratio},s.prototype.drag=function(t,e){var n=this.originalRatio+e.position.top/this.targetHeight;.1>n?(n=.1,e.position.top=(n-this.originalRatio)*this.targetHeight):n>.9&&(n=.9,e.position.top=(n-this.originalRatio)*this.targetHeight),this.changeRatio(n),e.position.top=0},s.prototype.changeRatio=function(t){var n=parseInt(this.targetHeight*this.ratio);this.mainPane.height(n),this.bottomPane.height(this.targetHeight-n-1),this.ratio=t,this.key&&e.jStorage.set(this.key,t)},n.NextendAdminVerticalPane=s}(nextend.smartSlider,n2,window);!function(e,t){function i(t){this.loadDefaults(),this.$=e(this),window.nextend[this.type+"Manager"]=this,this.modals=this.initModals(),this.lightbox=e("#n2-lightbox-"+this.type),this.notificationStack=new NextendNotificationCenterStack(this.lightbox.find(".n2-top-bar")),this.visualListContainer=this.lightbox.find(".n2-lightbox-sidebar-list"),this.parameters=t,this.visuals={},this.controller=this.initController(),this.controller&&(this.renderer=this.controller.renderer),this.firstLoadVisuals(t.visuals),e(".n2-"+this.type+"-save-as-new").on("click",e.proxy(this.saveAsNew,this)),this.cancelButton=e("#n2-"+this.type+"-editor-cancel").on("click",e.proxy(this.hide,this)),this.saveButton=e("#n2-"+this.type+"-editor-save").off("click").on("click",e.proxy(this.setVisual,this))}function n(){i.prototype.constructor.apply(this,arguments)}function o(){n.prototype.constructor.apply(this,arguments)}function r(){o.prototype.constructor.apply(this,arguments),this.linkedButton=e("#n2-"+this.type+"-editor-set-as-linked"),this.setMode(0)}function a(t){window.nextend[this.type+"Manager"]=this,this._lateInit=e.proxy(function(e){n.prototype.constructor.call(this,e)},this,t)}function s(e,t){this.id=e.id,this.visualManager=t,this.setValue(e.value,!1),this.visual=e,this.visualManager.visuals[this.id]=this}function l(e,t,i){this.set=t,s.prototype.constructor.call(this,e,i)}function d(){l.prototype.constructor.apply(this,arguments)}function h(e,t,i){this.checked=!1,e.system=1,e.editable=0,d.prototype.constructor.apply(this,arguments)}i.prototype.setTitle=function(e){this.lightbox.find(".n2-logo").html(e)},i.prototype.loadDefaults=function(){this.mode="linked",this.labels={visual:n2_("visual"),visuals:n2_("visuals")},this.visualLoadDeferreds={},this.showParameters=!1},i.prototype.initModals=function(){return new NextendVisualManagerModals(this)},i.prototype.firstLoadVisuals=function(e){for(var t in e)this.sets[t].loadVisuals(e[t])},i.prototype.initController=function(){},i.prototype.getVisual=function(t){if(parseInt(t)>0){if("undefined"!=typeof this.visuals[t])return this.visuals[t];if("undefined"!=typeof this.visualLoadDeferreds[t])return this.visualLoadDeferreds[t];var i=e.Deferred();return this.visualLoadDeferreds[t]=i,this._loadVisualFromServer(t).done(e.proxy(function(){i.resolve(this.visuals[t]),delete this.visualLoadDeferreds[t]},this)).fail(e.proxy(function(){i.resolve({id:-1,name:n2_("Empty")}),delete this.visualLoadDeferreds[t]},this)),i}try{var n=t;return"{"!=n[0]&&(n=Base64.decode(n)),JSON.parse(n),{id:0,name:n2_("Static")}}catch(o){return{id:-1,name:n2_("Empty")}}},i.prototype._loadVisualFromServer=function(t){return NextendAjaxHelper.ajax({type:"POST",url:NextendAjaxHelper.makeAjaxUrl(this.parameters.ajaxUrl,{nextendaction:"loadVisual"}),data:{visualId:t},dataType:"json"}).done(e.proxy(function(e){},this))},i.prototype.show=function(t,i,n){NextendEsc.add(e.proxy(function(){return this.hide(),!0},this)),this.notificationStack.enableStack(),this.showParameters=e.extend({previewMode:!1,previewHTML:!1},n),e("body").css("overflow","hidden"),this.lightbox.css("display","block"),e(window).on("resize."+this.type+"Manager",e.proxy(this.resize,this)),this.resize(),this.loadDataToController(t),this.controller.show(),this.$.on("save",i),this._show()},i.prototype._show=function(){e(":focus").blur(),e(window).on({"keydown.visual":e.proxy(function(e){"TEXTAREA"!=e.target.tagName&&"INPUT"!=e.target.tagName&&13==e.keyCode&&this.saveButton.trigger("click")},this)})},i.prototype.setAndClose=function(e){this.$.trigger("save",[e])},i.prototype.hide=function(t){this.controller.pause(),this.notificationStack.popStack(),"undefined"!=typeof t&&(t.preventDefault(),NextendEsc.pop()),this.controller.close(),this.$.off("save"),e(window).off("resize."+this.type+"Manager"),e("body").css("overflow",""),this.lightbox.css("display","none"),e(window).off("keydown.visual")},i.prototype.resize=function(){var e=this.lightbox.height(),t=this.lightbox.find(".n2-sidebar");t.find(".n2-lightbox-sidebar-list").height(e-1-t.find(".n2-logo").outerHeight()-t.find(".n2-sidebar-row").outerHeight()-t.find(".n2-save-as-new-container").parent().height());var i=this.lightbox.find(".n2-content-area");i.height(e-1-i.siblings(".n2-top-bar, .n2-table").outerHeight())},i.prototype.getDataFromController=function(t,i,n){return this.showParameters=e.extend({previewMode:!1,previewHTML:!1},i),this.loadDataToController(t,n)},i.prototype.loadDataToController=function(t){this.isVisualData(t)?e.when(this.getVisual(t)).done(e.proxy(function(e){e.id>0?e.activate():console.error(t+" visual is not found linked")},this)):console.error(t+" visual not found")},i.prototype.isVisualData=function(e){return parseInt(e)>0},i.prototype.setVisual=function(e){switch(e.preventDefault(),this.mode){case 0:break;case"static":this.modals.getLinkedOverwriteOrSaveAs().show("saveAsNew");break;case"linked":default:this.activeVisual?this.activeVisual.compare(this.controller.get("set"))?(this.setAndClose(this.activeVisual.id),this.hide(e)):this.activeVisual&&!this.activeVisual.isEditable()?this.modals.getLinkedOverwriteOrSaveAs().show("saveAsNew"):this.modals.getLinkedOverwriteOrSaveAs().show():this.modals.getLinkedOverwriteOrSaveAs().show("saveAsNew")}},i.prototype.saveAsNew=function(e){e.preventDefault(),this.modals.getSaveAs().show()},i.prototype._saveAsNew=function(t){return NextendAjaxHelper.ajax({type:"POST",url:NextendAjaxHelper.makeAjaxUrl(this.parameters.ajaxUrl,{nextendaction:"addVisual"}),data:{setId:this.setsSelector.val(),value:Base64.encode(JSON.stringify({name:t,data:this.controller.get("saveAsNew")}))},dataType:"json"}).done(e.proxy(function(e){var t=e.data.visual;this.changeActiveVisual(this.sets[t.referencekey].addVisual(t))},this))},i.prototype.saveActiveVisual=function(t){return NextendAjaxHelper.ajax({type:"POST",url:NextendAjaxHelper.makeAjaxUrl(this.parameters.ajaxUrl,{nextendaction:"changeVisual"}),data:{visualId:this.activeVisual.id,value:this.getBase64(t)},dataType:"json"}).done(e.proxy(function(e){this.activeVisual.setValue(e.data.visual.value,!0)},this))},i.prototype.changeActiveVisual=function(e){this.activeVisual&&(this.activeVisual.notActive(),this.activeVisual=!1),e&&("static"==this.mode&&this.setMode("linked"),e.active(),this.activeVisual=e)},i.prototype.getBase64=function(e){return Base64.encode(JSON.stringify({name:e,data:this.controller.get("set")}))},i.prototype.removeRules=function(e,t){this.renderer.deleteRules(e,this.parameters.renderer.pre,"."+this.getClass(t.id,e))},t.NextendVisualManagerCore=i,n.prototype=Object.create(i.prototype),n.prototype.constructor=n,n.prototype.firstLoadVisuals=function(t){this.sets={},this.setsByReference={},this.setsSelector=e("#"+this.parameters.setsIdentifier+"sets_select");for(var i=0;i<this.parameters.sets.length;i++)this.newVisualSet(this.parameters.sets[i]);this.initSetsManager();for(var n in t)this.sets[n].loadVisuals(t[n]);this.activeSet=this.sets[this.setsSelector.val()],this.activeSet.active(),this.setsSelector.on("change",e.proxy(function(){this.activeSet.notActive(),this.activeSet=this.sets[this.setsSelector.val()],this.activeSet.active()},this))},n.prototype.initSetsManager=function(){new NextendVisualSetsManager(this)},n.prototype._loadVisualFromServer=function(t){return NextendAjaxHelper.ajax({type:"POST",url:NextendAjaxHelper.makeAjaxUrl(this.parameters.ajaxUrl,{nextendaction:"loadSetByVisualId"}),data:{visualId:t},dataType:"json"}).done(e.proxy(function(e){this.sets[e.data.set.setId].loadVisuals(e.data.set.visuals)},this))},n.prototype.changeSet=function(e){this.setsSelector.val()!=e&&this.setsSelector.val(e).trigger("change")},n.prototype.changeSetById=function(e){"undefined"!=typeof this.sets[e]&&this.changeSet(e)},n.prototype.newVisualSet=function(e){return new NextendVisualSet(e,this)},t.NextendVisualManagerVisibleSets=n,o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.initSetsManager=function(){new NextendVisualSetsManagerEditable(this)},t.NextendVisualManagerEditableSets=o,r.prototype=Object.create(o.prototype),r.prototype.constructor=r,r.prototype.setMode=function(t){if("static"==t&&this.changeActiveVisual(null),this.mode!=t){switch(t){case 0:this.cancelButton.css("display","none"),this.saveButton.off("click");break;case"static":default:this.cancelButton.css("display","inline-block"),this.saveButton.off("click").on("click",e.proxy(this.setVisualAsStatic,this)),this.linkedButton.off("click").on("click",e.proxy(this.setVisualAsLinked,this))}this.mode=t}},r.prototype.loadDataToController=function(t,i){if(parseInt(t)>0)e.when(this.getVisual(t)).done(e.proxy(function(e){e.id>0?(this.setMode("linked"),e.activate(!1,i)):(this.setMode("static"),"function"==typeof i?this.controller.asyncVisualData("",this.showParameters,i):this.controller.load("",!1,this.showParameters))},this));else{var n="";this.setMode("static");try{n=this.getStaticData(t)}catch(o){}"function"==typeof i?this.controller.asyncVisualData(n,this.showParameters,i):this.controller.load(n,!1,this.showParameters)}},r.prototype.getStaticData=function(e){var t=e;"{"!=t[0]&&(t=Base64.decode(t));var i=JSON.parse(t).data;return"undefined"==typeof i?"":i},r.prototype.setVisualAsLinked=function(e){this.setVisual(e)},r.prototype.setVisualAsStatic=function(e){e.preventDefault(),this.setAndClose(this.getBase64(n2_("Static"))),this.hide(e)},t.NextendVisualManagerSetsAndMore=r,a.prototype=Object.create(n.prototype),a.prototype.constructor=a,a.prototype.lateInit=function(){this.inited||(this.inited=!0,this._lateInit())},a.prototype.show=function(t,i,n){this.lateInit(),this.notificationStack.enableStack(),NextendEsc.add(e.proxy(function(){return this.hide(),!0},this)),e("body").css("overflow","hidden"),this.lightbox.css("display","block"),e(window).on("resize."+this.type+"Manager",e.proxy(this.resize,this)),this.resize();var o=0;if(""!=t)for(var r=t.split("||"),a=!1;o<r.length;o++)e.when(this.getVisual(r[o])).done(function(e){e&&e.check&&(e.check(),a||(a=!0,e.activate()))});this.$.on("save",i),this.controller.start(n),0==o&&e.when(this.activeSet._loadVisuals()).done(e.proxy(function(){for(var e in this.activeSet.visuals){this.activeSet.visuals[e].activate();break}},this)),this._show()},a.prototype.setVisual=function(e){e.preventDefault(),this.setAndClose(this.getAsString()),this.hide(e)},a.prototype.getAsString=function(){var e=[];for(var t in this.sets){var i=this.sets[t];for(var n in i.visuals)i.visuals[n].checked&&e.push(i.visuals[n].id)}return 0==e.length&&this.activeVisual&&e.push(this.activeVisual.id),e.join("||")},a.prototype.hide=function(e){n.prototype.hide.apply(this,arguments);for(var t in this.sets){var i=this.sets[t];for(var o in i.visuals)i.visuals[o].unCheck()}},t.NextendVisualManagerMultipleSelection=a,s.prototype.compare=function(e){for(var t=Math.max(this.value.length,e.length),i=0;t>i;i++)if(!this._compareTab("undefined"==typeof this.value[i]?{}:this.value[i],"undefined"==typeof e[i]?{}:e[i]))return!1;return!0},s.prototype._compareTab=function(e,t){var i=Object.getOwnPropertyNames(e),n=Object.getOwnPropertyNames(t);if(0===e.length&&0===n.length)return!0;if(i.length!=n.length)return!1;for(var o=0;o<i.length;o++){var r=i[o];if(e[r]!==t[r])return!1}return!0},s.prototype.setValue=function(e,t){var i=null;if("string"==typeof e){var n=e;"{"!=n[0]?(this.base64=n,n=Base64.decode(n)):this.base64=Base64.encode(n),i=JSON.parse(n)}else i=e;this.name=i.name,this.value=i.data,t&&this.render()},s.prototype.isSystem=function(){return 1==this.visual.system},s.prototype.isEditable=function(){return 1==this.visual.editable},s.prototype.activate=function(e,t){e&&e.preventDefault(),this.visualManager.changeActiveVisual(this),"function"==typeof t?this.visualManager.controller.asyncVisualData(this.value,this.visualManager.showParameters,t):this.visualManager.controller.load(this.value,!1,this.visualManager.showParameters)},s.prototype.active=function(){},s.prototype.notActive=function(){},s.prototype["delete"]=function(t){t&&t.preventDefault(),NextendDeleteModal("n2-visual",this.name,e.proxy(function(){this._delete()},this))},s.prototype._delete=function(){return NextendAjaxHelper.ajax({type:"POST",url:NextendAjaxHelper.makeAjaxUrl(this.visualManager.parameters.ajaxUrl,{nextendaction:"deleteVisual"}),data:{visualId:this.id},dataType:"json"}).done(e.proxy(function(e){e.data.visual;this.visualManager.activeVisual&&this.id==this.visualManager.activeVisual.id&&this.visualManager.changeActiveVisual(null),this.removeRules(),delete this.visualManager.visuals[this.id],delete this.set.visuals[this.id],this.row.remove(),this.visualManager.$.trigger("visualDelete",[this.id])},this))},s.prototype.removeRules=function(){},s.prototype.render=function(){},s.prototype.isUsed=function(){return!1},t.NextendVisualCore=s,l.prototype=Object.create(s.prototype),l.prototype.constructor=l,l.prototype.active=function(){var e=this.set.set.id;this.visualManager.changeSet(e),s.prototype.active.call(this)},t.NextendVisualWithSet=l,d.prototype=Object.create(l.prototype),d.prototype.constructor=d,d.prototype.createRow=function(){return this.row=e("<li></li>").append(e('<a href="#">'+this.name+"</a>").on("click",e.proxy(this.activate,this))),this.isSystem()||this.row.append(e('<span class="n2-actions"></span>').append(e('<div class="n2-button n2-button-icon n2-button-s" href="#"><i class="n2-i n2-i-delete n2-i-grey-opacity"></i></div>').on("click",e.proxy(this["delete"],this)))),this.row},d.prototype.setValue=function(e,t){l.prototype.setValue.call(this,e,t),this.row&&this.row.find("> a").html(this.name)},d.prototype.active=function(){this.row.addClass("n2-active"),l.prototype.active.call(this)},d.prototype.notActive=function(){this.row.removeClass("n2-active"),l.prototype.notActive.call(this)},t.NextendVisualWithSetRow=d,h.prototype=Object.create(d.prototype),h.prototype.constructor=h,h.prototype.createRow=function(){var t=d.prototype.createRow.call(this);return this.checkbox=e('<div class="n2-list-checkbox"><i class="n2-i n2-i-tick"></i></div>').on("click",e.proxy(this.checkOrUnCheck,this)).prependTo(t.find("a")),t},h.prototype.setValue=function(e,t){this.name=e.name,this.value=e.data,this.row&&this.row.find("> a").html(this.name),t&&this.render()},h.prototype.activate=function(e,t){e&&e.preventDefault(),this.visualManager.changeActiveVisual(this),this.visualManager.controller.setAnimationProperties(this.value)},h.prototype.checkOrUnCheck=function(e){e.preventDefault(),e.stopPropagation(),this.checked?this.unCheck():this.check()},h.prototype.check=function(){this.checked=!0,this.checkbox.addClass("n2-active"),this.activate()},h.prototype.unCheck=function(){this.checked=!1,this.checkbox.removeClass("n2-active"),this.activate()},t.NextendVisualWithSetRowMultipleSelection=h}(n2,window),function(e,t){function i(e){this.visualManager=e,this.linkedOverwriteOrSaveAs=null,this.saveAs=null}i.prototype.getLinkedOverwriteOrSaveAs=function(){if(null==this.linkedOverwriteOrSaveAs){var t=this;this.linkedOverwriteOrSaveAs=new NextendModal({zero:{size:[500,140],title:"",back:!1,close:!0,content:"",controls:['<a href="#" class="n2-button n2-button-normal n2-button-l n2-radius-s n2-button-grey n2-uc n2-h4">'+n2_("Save as new")+"</a>",'<a href="#" class="n2-button n2-button-normal n2-button-l n2-radius-s n2-button-green n2-uc n2-h4">'+n2_("Overwrite current")+"</a>"],fn:{show:function(){this.title.html(n2_printf(n2_("%s changed - %s"),t.visualManager.labels.visual,t.visualManager.activeVisual.name)),t.visualManager.activeVisual&&!t.visualManager.activeVisual.isEditable()?this.loadPane("saveAsNew"):(this.controls.find(".n2-button-green").on("click",e.proxy(function(i){i.preventDefault(),t.visualManager.saveActiveVisual(t.visualManager.activeVisual.name).done(e.proxy(function(){this.hide(i),t.visualManager.setAndClose(t.visualManager.activeVisual.id),t.visualManager.hide()},this))},this)),this.controls.find(".n2-button-grey").on("click",e.proxy(function(e){e.preventDefault(),this.loadPane("saveAsNew")},this)))}}},saveAsNew:{size:[500,220],title:n2_("Save as"),back:"zero",close:!0,content:'<form class="n2-form"></form>',controls:['<a href="#" class="n2-button n2-button-normal n2-button-l n2-radius-s n2-button-green n2-uc n2-h4">'+n2_("Save as new")+"</a>"],fn:{show:function(){var i=this.controls.find(".n2-button"),n=(this.content.find(".n2-form").on("submit",function(e){e.preventDefault(),i.trigger("click")}).append(this.createInput(n2_("Name"),"n2-visual-name","width: 446px;")),this.content.find("#n2-visual-name").focus());t.visualManager.activeVisual&&n.val(t.visualManager.activeVisual.name),i.on("click",e.proxy(function(i){i.preventDefault();var o=n.val();""==o?nextend.notificationCenter.error(n2_("Please fill the name field!")):t.visualManager._saveAsNew(o).done(e.proxy(function(){this.hide(i),t.visualManager.setAndClose(t.visualManager.activeVisual.id),t.visualManager.hide()},this))},this))}}}},!1)}return this.linkedOverwriteOrSaveAs},i.prototype.getSaveAs=function(){if(null===this.saveAs){var t=this;this.saveAs=new NextendModal({zero:{size:[500,220],title:n2_("Save as"),back:!1,close:!0,content:'<form class="n2-form"></form>',controls:['<a href="#" class="n2-button n2-button-normal n2-button-l n2-radius-s n2-button-green n2-uc n2-h4">'+n2_("Save as new")+"</a>"],fn:{show:function(){var i=this.controls.find(".n2-button"),n=(this.content.find(".n2-form").on("submit",function(e){e.preventDefault(),i.trigger("click")}).append(this.createInput(n2_("Name"),"n2-visual-name","width: 446px;")),this.content.find("#n2-visual-name").focus());t.visualManager.activeVisual&&n.val(t.visualManager.activeVisual.name),i.on("click",e.proxy(function(i){i.preventDefault();var o=n.val();""==o?nextend.notificationCenter.error(n2_("Please fill the name field!")):t.visualManager._saveAsNew(o).done(e.proxy(this.hide,this,i))},this))}}}},!1)}return this.saveAs},t.NextendVisualManagerModals=i}(n2,window),function(e,t){function i(t){this.visualManager=t,this.$=e(this)}function n(t){this.modal=null,i.prototype.constructor.apply(this,arguments),this.$.on({setAdded:function(e,i){new o(i,t)},setChanged:function(e,i){t.sets[i.id].rename(i.value)},setDeleted:function(e,i){t.sets[i.id]["delete"](),t.setsSelector.trigger("change")}}),this.manageButton=e("#"+t.parameters.setsIdentifier+"-manage").on("click",e.proxy(this.showManageSets,this))}function o(t,i){this.set=t,this.visualManager=i,this.visualList=e('<ul class="n2-list n2-h4"></ul>'),this.visualManager.sets[t.id]=this,""!=t.referencekey&&(this.visualManager.setsByReference[t.referencekey]=t),this.option=e('<option value="'+t.id+'">'+t.value+"</option>").appendTo(this.visualManager.setsSelector)}t.NextendVisualSetsManager=i,n.prototype=Object.create(i.prototype),n.prototype.constructor=n,n.prototype.isSetAllowedToEdit=function(e){return-1!=e&&"undefined"!=typeof this.visualManager.sets[e]&&0!=this.visualManager.sets[e].set.editable},n.prototype.createVisualSet=function(t){return NextendAjaxHelper.ajax({type:"POST",url:NextendAjaxHelper.makeAjaxUrl(this.visualManager.parameters.ajaxUrl,{nextendaction:"createSet"}),data:{name:t},dataType:"json"}).done(e.proxy(function(e){this.$.trigger("setAdded",e.data.set)},this))},n.prototype.renameVisualSet=function(t,i){return NextendAjaxHelper.ajax({type:"POST",url:NextendAjaxHelper.makeAjaxUrl(this.visualManager.parameters.ajaxUrl,{nextendaction:"renameSet"}),data:{setId:t,name:i},dataType:"json"}).done(e.proxy(function(e){this.$.trigger("setChanged",e.data.set),nextend.notificationCenter.success(n2_("Set renamed"))},this))},n.prototype.deleteVisualSet=function(t){var i=e.Deferred(),n=this.visualManager.sets[t],o=[];return e.when(n._loadVisuals()).done(e.proxy(function(){for(var r in n.visuals)o.push(n.visuals[r]._delete());e.when.apply(e,o).then(e.proxy(function(){NextendAjaxHelper.ajax({type:"POST",url:NextendAjaxHelper.makeAjaxUrl(this.visualManager.parameters.ajaxUrl,{nextendaction:"deleteSet"}),data:{setId:t},dataType:"json"}).done(e.proxy(function(e){i.resolve(),this.$.trigger("setDeleted",e.data.set)},this))},this))},this)).fail(function(){i.reject()}),i.fail(function(){nextend.notificationCenter.error(n2_("Unable to delete the set"))})},n.prototype.showManageSets=function(){var t=this.visualManager,i=this;null===this.modal&&(this.modal=new NextendModal({zero:{size:[500,390],title:n2_("Sets"),back:!1,close:!0,content:"",controls:['<a href="#" class="n2-add-new n2-button n2-button-normal n2-button-l n2-radius-s n2-button-green n2-uc n2-h4">'+n2_("Add new")+"</a>"],fn:{show:function(){this.title.html(n2_printf(n2_("%s sets"),t.labels.visual)),this.createHeading(n2_("Sets")).appendTo(this.content);var n=[];for(var o in t.sets){var r=t.sets[o].set.id;i.isSetAllowedToEdit(r)?n.push([t.sets[o].set.value,e('<div class="n2-button n2-button-normal n2-button-xs n2-radius-s n2-button-grey n2-uc n2-h5">'+n2_("Rename")+"</div>").on("click",{id:r},e.proxy(function(e){this.loadPane("rename",!1,!1,[e.data.id])},this)),e('<div class="n2-button n2-button-normal n2-button-xs n2-radius-s n2-button-red n2-uc n2-h5">'+n2_("Delete")+"</div>").on("click",{id:r},e.proxy(function(e){this.loadPane("delete",!1,!1,[e.data.id])},this))]):n.push([t.sets[o].set.value,"",""])}this.createTable(n,["width:100%;","",""]).appendTo(this.createTableWrap().appendTo(this.content)),this.controls.find(".n2-add-new").on("click",e.proxy(function(e){e.preventDefault(),this.loadPane("addNew")},this))}}},addNew:{title:n2_("Create set"),size:[500,220],back:"zero",close:!0,content:'<form class="n2-form"></form>',controls:['<a href="#" class="n2-button n2-button-normal n2-button-l n2-radius-s n2-button-green n2-uc n2-h4">'+n2_("Add")+"</a>"],fn:{show:function(){var n=this.controls.find(".n2-button"),o=(this.content.find(".n2-form").on("submit",function(e){e.preventDefault(),n.trigger("click")}).append(this.createInput(n2_("Name"),"n2-visual-name","width: 446px;")),this.content.find("#n2-visual-name").focus());n.on("click",e.proxy(function(n){var r=o.val();""==r?nextend.notificationCenter.error(n2_("Please fill the name field!")):i.createVisualSet(r).done(e.proxy(function(e){this.hide(n),nextend.notificationCenter.success(n2_("Set added")),t.setsSelector.val(e.data.set.id).trigger("change")},this))},this))}}},rename:{title:n2_("Rename set"),size:[500,220],back:"zero",close:!0,content:'<form class="n2-form"></form>',controls:['<a href="#" class="n2-button n2-button-normal n2-button-l n2-radius-s n2-button-green n2-uc n2-h4">'+n2_("Rename")+"</a>"],fn:{show:function(n){var o=this.controls.find(".n2-button"),r=(this.content.find(".n2-form").on("submit",function(e){e.preventDefault(),o.trigger("click")}).append(this.createInput(n2_("Name"),"n2-visual-name","width: 446px;")),this.content.find("#n2-visual-name").val(t.sets[n].set.value).focus());o.on("click",e.proxy(function(){var t=r.val();""==t?nextend.notificationCenter.error(n2_("Please fill the name field!")):i.renameVisualSet(n,t).done(e.proxy(this.goBack,this))},this))}}},"delete":{title:n2_("Delete set"),size:[500,190],back:"zero",close:!0,content:"",controls:['<a href="#" class="n2-button n2-button-normal n2-button-l n2-radius-s n2-button-grey n2-uc n2-h4">'+n2_("Cancel")+"</a>",'<a href="#" class="n2-button n2-button-normal n2-button-l n2-radius-s n2-button-red n2-uc n2-h4">'+n2_("Yes")+"</a>"],fn:{show:function(n){this.createCenteredSubHeading(n2_printf(n2_("Do you really want to delete the set and all associated %s?"),t.labels.visuals)).appendTo(this.content),this.controls.find(".n2-button-grey").on("click",e.proxy(function(e){e.preventDefault(),this.goBack()},this)),this.controls.find(".n2-button-red").html('Yes, delete "'+t.sets[n].set.value+'"').on("click",e.proxy(function(t){t.preventDefault(),i.deleteVisualSet(n).done(e.proxy(this.goBack,this))},this))}}}},!1)),this.modal.show(!1,[this.visualManager.setsSelector.val()])},t.NextendVisualSetsManagerEditable=n,o.prototype.active=function(){e.when(this._loadVisuals()).done(e.proxy(function(){this.visualList.appendTo(this.visualManager.visualListContainer)},this))},o.prototype.notActive=function(){this.visualList.detach()},o.prototype.loadVisuals=function(e){if("undefined"==typeof this.visuals){this.visuals={};for(var t=0;t<e.length;t++)this.addVisual(e[t])}},o.prototype._loadVisuals=function(){return null==this.visuals?NextendAjaxHelper.ajax({type:"POST",url:NextendAjaxHelper.makeAjaxUrl(this.visualManager.parameters.ajaxUrl,{nextendaction:"loadVisualsForSet"}),data:{setId:this.set.id},dataType:"json"}).done(e.proxy(function(e){this.loadVisuals(e.data.visuals)},this)):!0},o.prototype.addVisual=function(e){return"undefined"==typeof this.visuals[e.id]&&(this.visuals[e.id]=this.visualManager.createVisual(e,this),this.visualList.append(this.visuals[e.id].createRow())),this.visuals[e.id]},o.prototype.rename=function(e){this.set.value=e,this.option.html(e)},o.prototype["delete"]=function(){this.option.remove(),delete this.visualManager.sets[this.set.id]},t.NextendVisualSet=o}(n2,window),function(e,t){"use strict";function i(){this.loadDefaults(),this.lightbox=e("#n2-lightbox-"+this.type)}function n(){i.prototype.constructor.apply(this,arguments),this.editor=this.initEditor(),this.editor.$.on("change",e.proxy(this.propertyChanged,this))}function o(t){n.prototype.constructor.apply(this,arguments),this.previewModesList=t,this.initPreviewModes(),t&&(this.renderer=this.initRenderer(),this.clearTabButton=this.lightbox.find(".n2-editor-clear-tab").on("click",e.proxy(this.clearCurrentTab,this)),this.tabField=new N2Classes.FormElementRadio("n2-"+this.type+"-editor-tabs",["0"]),this.tabField.element.on("nextendChange.n2-editor",e.proxy(this.tabChanged,this)),this.previewModeField=new N2Classes.FormElementRadio("n2-"+this.type+"-editor-preview-mode",["0"]),this.previewModeField.element.on("nextendChange.n2-editor",e.proxy(this.previewModeChanged,this)),this.previewModeField.options.eq(0).html(this.previewModesList[0].label))}function r(){this.fields={},this.$=e(this)}function a(e){this.editorController=e}i.prototype.loadDefaults=function(){this.type="",this._style=!1,this.isChanged=!1,this.visible=!1},i.prototype.init=function(){this.lightbox=e("#n2-lightbox-"+this.type)},i.prototype.pause=function(){},i.prototype.getEmptyVisual=function(){return[]},i.prototype.get=function(){return this.currentVisual},i.prototype.load=function(e,t,i){this.isChanged=!1,this.lightbox.addClass("n2-editor-loaded"),""==e&&(e=this.getEmptyVisual()),this._load(e,t,i)},i.prototype._load=function(t,i,n){this.currentVisual=e.extend(!0,{},t)},i.prototype.addStyle=function(t){this._style&&this._style.remove(),this._style=e("<style>"+t+"</style>").appendTo("head")},i.prototype.show=function(){this.visible=!0,nextend.context.addWindow("visual")},i.prototype.close=function(){this.visible=!1,nextend.context.removeWindow()},t.NextendVisualEditorControllerBase=i,n.prototype=Object.create(i.prototype),n.prototype.constructor=n,n.prototype.initEditor=function(){return new r},n.prototype.propertyChanged=function(e,t,i){this.isChanged=!0,this.currentVisual[t]=i},n.prototype._load=function(e,t,n){i.prototype._load.apply(this,arguments),this.loadToEditor()},n.prototype.loadToEditor=function(){this.editor.load(this.currentVisual)},t.NextendVisualEditorControllerWithEditor=n,o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.loadDefaults=function(){n.prototype.loadDefaults.call(this),this.currentPreviewMode="0",this.currentTabIndex=0,this._renderTimeout=0,this._delayStart=0},o.prototype.initPreviewModes=function(){},o.prototype.initRenderer=function(){},o.prototype._load=function(t,i,n){this.currentVisual=[];for(var o=0;o<t.length;o++)this.currentVisual[o]=e.extend(!0,this.getCleanVisual(),t[o]);if(this.localModePreview={},n.previewMode===!1)this.availablePreviewMode=!1;else{this.availablePreviewMode=n.previewMode,i===!1&&(i=this.getTabs());for(var o=this.currentVisual.length;o<i.length;o++)this.currentVisual[o]=this.getCleanVisual();n.previewHTML!==!1&&""!=n.previewHTML&&(this.localModePreview[n.previewMode]=n.previewHTML)}if(this.currentTabs=i,i===!1){i=[];for(var o=0;o<this.currentVisual.length;o++)i.push("#"+o)}this.setTabs(i)},o.prototype.asyncVisualData=function(t,i,n){""==t&&(t=this.getEmptyVisual());for(var o=this.previewModesList[i.previewMode].tabs,r=[],a=0;a<t.length;a++)r[a]=e.extend(!0,this.getCleanVisual(),t[a]);for(var a=r.length;a<o.length;a++)r[a]=this.getCleanVisual();n(r,o)},o.prototype.getCleanVisual=function(){return{}},o.prototype.getTabs=function(){return this.previewModesList[this.availablePreviewMode].tabs},o.prototype.setTabs=function(e){this.tabField.insideChange("0");for(var t=this.tabField.values.length-1;t>0;t--)this.tabField.removeTabOption(this.tabField.values[t]);this.tabField.options.eq(0).html(e[0]);for(var t=1;t<e.length;t++)this.tabField.addTabOption(t+"",e[t]);this.makePreviewModes()},o.prototype.tabChanged=function(){document.activeElement&&document.activeElement.blur();var t=this.tabField.element.val();this.currentTabIndex=t,"undefined"==typeof this.currentVisual[t]&&(this.currentVisual[t]={});var i=e.extend({},this.currentVisual[0]);0!=t?(e.extend(i,this.currentVisual[t]),this.clearTabButton.css("display","")):this.clearTabButton.css("display","none"),this.editor.load(i),this._tabChanged()},o.prototype._tabChanged=function(){this._renderPreview()},o.prototype.clearCurrentTab=function(e){e&&e.preventDefault(),this.currentVisual[this.currentTabIndex]={},this.tabChanged(),this._renderPreview()},o.prototype.makePreviewModes=function(){var e=[];if(this.availablePreviewMode===!1){var t=this.tabField.options.length;"undefined"!=typeof this.previewModes[t]&&(e=this.previewModes[t]),this.setPreviewModes(e)}else e=[this.previewModesList[this.availablePreviewMode]],this.setPreviewModes(e,this.availablePreviewMode)},o.prototype.setPreviewModes=function(e,t){for(var i=this.previewModeField.values.length-1;i>0;i--)this.previewModeField.removeTabOption(this.previewModeField.values[i]);for(var i=0;i<e.length;i++)this.previewModeField.addTabOption(e[i].id,e[i].label);"undefined"==typeof t&&(t="0"),this.previewModeField.insideChange(t)},o.prototype.previewModeChanged=function(){var e=this.previewModeField.element.val();if(this.currentTabs===!1)if(0==e)for(var t=0;t<this.currentVisual.length;t++)this.tabField.options.eq(t).html("#"+t);else{var i=this.previewModesList[e].tabs;if(i)for(var t=0;t<this.currentVisual.length;t++)this.tabField.options.eq(t).html(i[t])}this.currentPreviewMode=e,this._renderPreview(),this.setPreview(e)},o.prototype.setPreview=function(e){},o.prototype.propertyChanged=function(e,t,i){this.isChanged=!0,this.currentVisual[this.currentTabIndex][t]=i,this.renderPreview()},o.prototype.renderPreview=function(){var t=e.now();this._renderTimeout?(clearTimeout(this._renderTimeout),t-this._delayStart>100&&(this._renderPreview(),this._delayStart=t)):this._delayStart=t,this._renderTimeout=setTimeout(e.proxy(this._renderPreview,this),33)},o.prototype._renderPreview=function(){this._renderTimeout=!1},t.NextendVisualEditorController=o,r.prototype.load=function(e){this._off(),this._on()},r.prototype._on=function(){for(var e in this.fields)this.fields[e].element.on(this.fields[e].events)},r.prototype._off=function(){for(var e in this.fields)this.fields[e].element.off(".n2-editor")},r.prototype.trigger=function(e,t){this.$.trigger("change",[e,t])},t.NextendVisualEditor=r,a.prototype.deleteRules=function(e,t,i){var n=this.editorController.previewModesList[e],o=new RegExp("@pre","g"),r=new RegExp("@selector","g");for(var a in n.selectors){var s=a.replace(o,t).replace(r,i);nextend.css.deleteRule(s)}},a.prototype.getCSS=function(t,i,n,o,r){var a="",s=this.editorController.previewModesList[t],l=new RegExp("@pre","g"),d=new RegExp("@selector","g");for(var h in s.selectors){var p=h.replace(l,i).replace(d,n);a+=p+"{\n"+s.selectors[h]+"}\n","undefined"!=typeof r.deleteRule&&nextend.css.deleteRule(p)}if(0==t){var u=o[r.activeTab];0!=r.activeTab&&(u=e.extend({},o[0],u)),a=a.replace(new RegExp("@tab[0-9]*","g"),this.render(u));
}else if(s.renderOptions.combined)for(var c=0;c<o.length;c++)a=a.replace(new RegExp("@tab"+c,"g"),this.render(o[c]));else for(var c=0;c<o.length;c++)o[c]=e.extend({},o[c]),a=a.replace(new RegExp("@tab"+c,"g"),this.render(o[c]));return a},a.prototype.render=function(e){var t=this.makeVisualData(e),i="",n="";"undefined"!=typeof t.raw&&(n=t.raw,delete t.raw);for(var o in t)i+=this.deCase(o)+": "+t[o]+";\n";return i+=n},a.prototype.makeVisualData=function(e){var t={};for(var i in e)e.hasOwnProperty(i)&&"function"!=typeof e[i]&&this["makeStyle"+i](e[i],t);return t},a.prototype.deCase=function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})},t.NextendVisualRenderer=a}(n2,window),function(e,t){function i(){NextendVisualManagerSetsAndMore.prototype.constructor.apply(this,arguments)}function n(){NextendVisualWithSetRow.prototype.constructor.apply(this,arguments)}i.prototype=Object.create(NextendVisualManagerSetsAndMore.prototype),i.prototype.constructor=i,i.prototype.loadDefaults=function(){NextendVisualManagerSetsAndMore.prototype.loadDefaults.apply(this,arguments),this.type="animation",this.labels={visual:n2_("animation"),visuals:n2_("animations")},this.availableFeatures={repeatable:0,specialZero:0,repeat:0,playEvent:0,pauseEvent:0,stopEvent:0,instantOut:0,repeatSelfOnly:0}},i.prototype.initController=function(){return new NextendAnimationEditorController(this.parameters.renderer.modes)},i.prototype.show=function(t,i,n,o){this.currentFeatures=e.extend({},this.availableFeatures,t),NextendVisualManagerSetsAndMore.prototype.show.call(this,i.animations,n,o),this.controller.loadTransformOrigin(i.transformOrigin),this.currentFeatures.repeatable?(this.controller.featureRepeatable(1),i.repeatable||(i.repeatable=0),this.controller.loadRepeatable(i.repeatable)):this.controller.featureRepeatable(0),this.currentFeatures.specialZero?(this.controller.featureSpecialZero(1),i.specialZero||(i.specialZero=0),this.controller.loadSpecialZero(i.specialZero)):this.controller.featureSpecialZero(0),this.currentFeatures.instantOut?(this.controller.featureInstantOut(1),i.instantOut||(i.instantOut=0),this.controller.loadInstantOut(i.instantOut)):this.controller.featureInstantOut(0),this.currentFeatures.repeat?(this.controller.featureRepeat(1),i.repeatCount||(i.repeatCount=0),this.controller.loadRepeatCount(i.repeatCount),i.repeatStartDelay||(i.repeatStartDelay=0),this.controller.loadRepeatStartDelay(i.repeatStartDelay)):this.controller.featureRepeat(0),this.currentFeatures.playEvent?(this.controller.featurePlayEvent(1),i.playEvent||(i.playEvent=""),this.controller.loadPlayEvent(i.playEvent)):this.controller.featurePlayEvent(0),this.currentFeatures.pauseEvent?(this.controller.featurePauseEvent(1),i.pauseEvent||(i.pauseEvent=""),this.controller.loadPauseEvent(i.pauseEvent)):this.controller.featurePauseEvent(0),this.currentFeatures.repeatSelfOnly?(this.controller.featureRepeatSelfOnly(1),i.repeatSelfOnly||(i.repeatSelfOnly=0),this.controller.loadRepeatSelfOnly(i.repeatSelfOnly)):this.controller.featureRepeatSelfOnly(0),this.currentFeatures.stopEvent?(this.controller.featureStopEvent(1),i.stopEvent||(i.stopEvent=""),this.controller.loadStopEvent(i.stopEvent)):this.controller.featureStopEvent(0),0==i.animations.length&&e.when(this.activeSet._loadVisuals()).done(e.proxy(function(){for(var e in this.activeSet.visuals){this.activeSet.visuals[e].activate();break}},this))},i.prototype.setAndClose=function(e){1==e.length&&this.isEquivalent(e[0],this.controller.getEmptyAnimation())&&(e=[]);var t={transformOrigin:this.controller.transformOrigin,animations:e};this.currentFeatures.repeatable&&(t.repeatable=this.controller.repeatable),this.currentFeatures.repeatSelfOnly&&(t.repeatSelfOnly=this.controller.repeatSelfOnly),this.currentFeatures.specialZero&&(t.specialZero=this.controller.specialZero),this.currentFeatures.instantOut&&(t.instantOut=this.controller.instantOut),this.currentFeatures.repeat&&(t.repeatCount=this.controller.repeatCount,t.repeatStartDelay=this.controller.repeatStartDelay),this.currentFeatures.playEvent&&(t.playEvent=this.controller.playEvent),this.currentFeatures.pauseEvent&&(t.pauseEvent=this.controller.pauseEvent),this.currentFeatures.stopEvent&&(t.stopEvent=this.controller.stopEvent),this.$.trigger("save",t)},i.prototype.createVisual=function(e,t){return new n(e,t,this)},i.prototype.setVisualAsStatic=function(e){e.preventDefault(),this.setAndClose(this.controller.get("save")),this.hide(e)},i.prototype.setMode=function(e){NextendVisualManagerSetsAndMore.prototype.setMode.call(this,"static")},i.prototype.getStaticData=function(e){return e},i.prototype.isEquivalent=function(e,t){var i=Object.getOwnPropertyNames(e),n=Object.getOwnPropertyNames(t);if(i.length!=n.length)return!1;for(var o=0;o<i.length;o++){var r=i[o];if(e[r]!==t[r])return!1}return!0},t.NextendAnimationManager=i,n.prototype=Object.create(NextendVisualWithSetRow.prototype),n.prototype.constructor=n,n.prototype.activate=function(e){"undefined"!=typeof e&&e.preventDefault(),this.visualManager.changeActiveVisual(this),"undefined"!=typeof this.value.specialZero&&this.visualManager.controller.loadSpecialZero(this.value.specialZero),"undefined"!=typeof this.value.transformOrigin&&this.visualManager.controller.loadTransformOrigin(this.value.transformOrigin),this.visualManager.controller.load(this.value.animations,!1,this.visualManager.showParameters)},t.NextendAnimation=n}(n2,window),function(e,t){function i(){this.timeline=new NextendTimeline,this.initTabOrdering(),NextendVisualEditorController.prototype.constructor.apply(this,arguments),e("#n2-animation-editor-tab-add").on("click",e.proxy(this.addTab,this)),e("#n2-animation-editor-tab-delete").on("click",e.proxy(this.deleteCurrentTab,this)),this.preview=e('<div class="n2-animation-preview-box" style="background-image: url('+nextend.imageHelper.getRepeatedPlaceholder()+')"></div>').appendTo(e("#n2-animation-editor-preview")),this.setPreviewSize(400,100),this.initBackgroundColor()}function n(){NextendVisualEditor.prototype.constructor.apply(this,arguments),this.fields={name:{element:e("#n2-animation-editorname"),events:{"outsideChange.n2-editor":e.proxy(this.changeName,this)}},duration:{element:e("#n2-animation-editorduration"),events:{"outsideChange.n2-editor":e.proxy(this.changeDuration,this)}},delay:{element:e("#n2-animation-editordelay"),events:{"outsideChange.n2-editor":e.proxy(this.changeDelay,this)}},easing:{element:e("#n2-animation-editoreasing"),events:{"outsideChange.n2-editor":e.proxy(this.changeEasing,this)}},opacity:{element:e("#n2-animation-editoropacity"),events:{"outsideChange.n2-editor":e.proxy(this.changeOpacity,this)}},offset:{element:e("#n2-animation-editoroffset"),events:{"outsideChange.n2-editor":e.proxy(this.changeOffset,this)}},rotate:{element:e("#n2-animation-editorrotate"),events:{"outsideChange.n2-editor":e.proxy(this.changeRotate,this)}},scale:{element:e("#n2-animation-editorscale"),events:{"outsideChange.n2-editor":e.proxy(this.changeScale,this)}},skew:{element:e("#n2-animation-editorskew"),events:{"outsideChange.n2-editor":e.proxy(this.changeSkew,this)}},n2blur:{element:e("#n2-animation-editorn2blur"),events:{"outsideChange.n2-editor":e.proxy(this.changeN2blur,this)}},specialZero:{element:e("#n2-animation-editorspecial-zero"),events:{"outsideChange.n2-editor":e.proxy(this.changeSpecialZero,this)}},repeatCount:{element:e("#n2-animation-editorrepeat-count"),events:{"outsideChange.n2-editor":e.proxy(this.changeRepeatCount,this)}},repeatStartDelay:{element:e("#n2-animation-editorrepeat-start-delay"),events:{"outsideChange.n2-editor":e.proxy(this.changeRepeatStartDelay,this)}},transformOrigin:{element:e("#n2-animation-editortransformorigin"),events:{"outsideChange.n2-editor":e.proxy(this.changeTransformOrigin,this)}},playEvent:{element:e("#n2-animation-editorplay"),events:{"outsideChange.n2-editor":e.proxy(this.changePlayEvent,this)}},pauseEvent:{element:e("#n2-animation-editorpause"),events:{"outsideChange.n2-editor":e.proxy(this.changePauseEvent,this)}},stopEvent:{element:e("#n2-animation-editorstop"),events:{"outsideChange.n2-editor":e.proxy(this.changeStopEvent,this)}},repeatable:{element:e("#n2-animation-editorrepeatable"),events:{"outsideChange.n2-editor":e.proxy(this.changeRepeatable,this)}},repeatSelfOnly:{element:e("#n2-animation-editorrepeat-self-only"),events:{"outsideChange.n2-editor":e.proxy(this.changeRepeatSelfOnly,this)}},instantOut:{element:e("#n2-animation-editorinstant-out"),events:{"outsideChange.n2-editor":e.proxy(this.changeInstantOut,this)}}}}var o={opacity:1,x:0,y:0,z:0,rotationX:0,rotationY:0,rotationZ:0,scaleX:1,scaleY:1,scaleZ:1,skewX:0,n2blur:0};i.prototype=Object.create(NextendVisualEditorController.prototype),i.prototype.constructor=i,i.prototype.loadDefaults=function(){NextendVisualEditorController.prototype.loadDefaults.call(this),this.type="animation",this.group="in",this.mode=0,this.playing=!1,this.specialZero=0,this.transformOrigin="0|*|0|*|0",this.playEvent="",this.pauseEvent="",this.stopEvent="",this.repeatable=0,this.instantOut=0},i.prototype.setPreviewSize=function(e,t){return this.preview.css({width:e,height:t,marginLeft:-e/2,marginTop:-t/2}),this},i.prototype.setGroup=function(e){return this.group=e,this},i.prototype.initPreviewModes=function(){this.previewModes=[this.previewModesList.solo]},i.prototype.makePreviewModes=function(){this.tabField.options.length>0?this.setPreviewModes(this.previewModes):this.setPreviewModes([])},i.prototype.initRenderer=function(){return new NextendVisualRenderer(this)},i.prototype.initEditor=function(){var t=new n;return t.$.on("nameChanged",e.proxy(this.animationNameChanged,this)),t},i.prototype.pause=function(){this.clearTimeline()},i.prototype.get=function(e){return"saveAsNew"==e?{specialZero:this.specialZero,transformOrigin:this.transformOrigin,animations:this.currentVisual}:this.currentVisual},i.prototype.getEmptyAnimation=function(){return{name:"Animation",duration:.8,delay:0,ease:"easeOutCubic",opacity:1,x:0,y:0,z:0,rotationX:0,rotationY:0,rotationZ:0,scaleX:1,scaleY:1,scaleZ:1,skewX:0,n2blur:0}},i.prototype.getEmptyVisual=function(){return[this.getEmptyAnimation()]},i.prototype.initBackgroundColor=function(){new N2Classes.FormElementText("n2-animation-editor-background-color"),new N2Classes.FormElementColor("n2-animation-editor-background-color",0);var t=this.lightbox.find(".n2-editor-preview-box");e("#n2-animation-editor-background-color").on("nextendChange",function(){t.css("background","#"+e(this).val())})},i.prototype._renderPreview=function(){NextendVisualEditorController.prototype._renderPreview.call(this),this.visible&&this.refreshTimeline()},i.prototype.setPreview=function(e){this.visible&&this.refreshTimeline()},i.prototype.getPreviewCssClass=function(){return"n2-"+this.type+"-editor-preview"},i.prototype._load=function(t,i,n){n.previewMode=!0,t.splice(1);for(var o=0;o<t.length;o++)t[o]=e.extend({},this.getEmptyAnimation(),t[o]);NextendVisualEditorController.prototype._load.call(this,t,i,n)},i.prototype.initTabOrdering=function(){var t=-1,i=e("#n2-animation-editor-tabs").parent();i.sortable({items:".n2-radio-option",start:e.proxy(function(e,i){t=this.tabField.options.index(i.item)},this),update:e.proxy(function(e,n){var o=n.item.index();i.sortable("cancel");var r=this.currentVisual[t];this.currentVisual.splice(t,1),this.currentVisual.splice(o,0,r);for(var a=0;a<this.currentVisual.length;a++)this.tabField.options.eq(a).html(this.currentVisual[a].name);this.tabField.options.eq(o).trigger("click"),t=-1,"solo"!=this.currentPreviewMode?this.refreshTimeline():this._tabChanged()},this)})},i.prototype.getTabs=function(){for(var e=[],t=0;t<this.currentVisual.length;t++)e.push(this.currentVisual[t].name);return e},i.prototype._tabChanged=function(){"solo"==this.currentPreviewMode&&this.refreshTimeline()},i.prototype.clearCurrentTab=function(e){e&&e.preventDefault()},i.prototype.addTab=function(e,t){e&&e.preventDefault();var i=this.tabField.values.length;t!==!0&&1==i||(this.currentVisual[i]=this.getEmptyAnimation(),this.tabField.addTabOption(i+"",this.currentVisual[i].name),this.tabField.options.eq(i).trigger("click"),"solo"!=this.currentPreviewMode&&this.refreshTimeline())},i.prototype.deleteCurrentTab=function(e){e&&e.preventDefault(),this.deleteTab(this.currentTabIndex),this.currentTabIndex=Math.min(this.currentTabIndex,this.currentVisual.length-1),this.tabField.options.eq(this.currentTabIndex).trigger("click")},i.prototype.deleteTab=function(e){if(this.currentVisual.length>1){this.tabField.removeTabOption(this.tabField.values[e]),this.tabField.values=[];for(var t=0;t<this.tabField.options.length;t++)this.tabField.values.push(t+"");this.currentVisual.splice(e,1)}else this.addTab(null,!0),this.deleteTab(0);"solo"!=this.currentPreviewMode&&this.refreshTimeline()},i.prototype.animationNameChanged=function(e,t){this.tabField.options.eq(this.currentTabIndex).html(t)},i.prototype.show=function(){NextendVisualEditorController.prototype.show.call(this),this.refreshTimeline()},i.prototype.hide=function(){this.clearTimeline(),NextendVisualEditorController.prototype.hide.call(this)},i.prototype.createTimeline=function(){this.timeline&&this.timeline.pause(0),this.timeline=new NextendTimeline({paused:1}),this.timeline.eventCallback("onComplete",e.proxy(function(){this.timeline.play(0,!1)},this)),this.timeline.set(this.preview.get(0),{transformOrigin:this.transformOrigin.split("|*|").join("% ")+"px"},0);var t=[];switch(this.currentPreviewMode){case"solo":t.push(e.extend({},this.currentVisual[this.currentTabIndex]));break;default:e.extend(!0,t,this.currentVisual)}for(var i=0;i<t.length;i++)t[i].delay>.5&&(t[i].delay=.5);switch(this.group){case"in":this.buildTimelineIn(this.timeline,this.preview.get(0),t,1);break;case"loop":"solo"==this.currentPreviewMode?this.buildTimelineOut(this.timeline,this.preview.get(0),t,1):this.buildTimelineLoop(this.timeline,this.preview.get(0),t,1);break;case"out":this.buildTimelineOut(this.timeline,this.preview.get(0),t,1);break;default:console.log(this.group+" animation is not supported!")}this.timeline.totalDuration()>0&&this.timeline.play()},i.prototype.refreshTimeline=NextendDeBounce(function(){this.clearTimeline(),this.createTimeline()},50),i.prototype.clearTimeline=function(){this.timeline&&(this.timeline.pause(),this.repeatTimeout&&clearTimeout(this.repeatTimeout),this.timeline.progress(1,!0))},i.prototype.setCurrentZero=function(t){NextendTween.set(t,e.extend({},this.currentZero))},i.prototype.buildTimelineIn=function(e,t,i,n){this.currentZero=o,"in"==this.group&&("solo"!=this.currentPreviewMode||this.currentTabIndex==this.currentVisual.length-1)&&this.specialZero&&i.length>0&&(this.currentZero=i.pop(),delete this.currentZero.name,this.currentZero.x=this.currentZero.x*n,this.currentZero.y=this.currentZero.y*n,this.currentZero.z=this.currentZero.z*n,this.currentZero.rotationX=-this.currentZero.rotationX,this.currentZero.rotationY=-this.currentZero.rotationY,this.currentZero.rotationZ=-this.currentZero.rotationZ,this.setCurrentZero(t));var r=0,a=this._buildAnimationChainIn(i,n,this.currentZero),s=0;if(a.length>0)for(e.fromTo(t,a[s].duration,a[s].from,a[s].to,r),r+=a[s].duration+a[s].to.delay,s++;s<a.length;s++)e.to(t,a[s].duration,a[s].to,r),r+=a[s].duration+a[s].to.delay},i.prototype._buildAnimationChainIn=function(t,i,n){for(var o=[{from:n}],r=t.length-1;r>=0;r--){var a=t[r],s=a.delay,l=a.duration,d=a.ease;delete a.delay,delete a.duration,delete a.ease,delete a.name;var h=o[0].from;a.x=-a.x*i,a.y=-a.y*i,a.z=-a.z*i,a.rotationX=-a.rotationX,a.rotationY=-a.rotationY,a.rotationZ=-a.rotationZ,o.unshift({duration:l,from:a,to:e.extend({},h,{ease:d,delay:s})})}return o.pop(),o},i.prototype.buildTimelineLoop=function(e,t,i,n){var o=this._buildAnimationChainLoop(i,n),r=0;if(o.length>0)for(e.fromTo(t,o[r].duration,o[r].from,o[r].to),r++;r<o.length;r++)e.to(t,o[r].duration,o[r].to)},i.prototype._buildAnimationChainLoop=function(t,i){if(delete t[0].name,1==t.length){var n=t[0],r=e.extend({},o);if(r.duration=n.duration,r.ease=n.ease,(360==n.rotationX||360==n.rotationY||360==n.rotationZ)&&1==n.opacity&&0==n.x&&0==n.y&&0==n.z&&1==n.scaleX&&1==n.scaleY&&1==n.scaleZ&&0==n.skewX&&0==n.n2blur)return[{duration:t[0].duration,from:e.extend({},o),to:t[0]}];t.unshift(r)}var a=0,s=[{duration:t[a].duration,to:t[a]}];for(a++;a<t.length;a++){var r=t[a],l=r.duration;delete r.duration,delete r.name;var d=e.extend({},s[s.length-1].to);delete d.delay,delete d.ease,r.x=r.x*i,r.y=r.y*i,r.z=r.z*i,s.push({duration:l,from:d,to:r})}return s.push({duration:s[0].duration,from:e.extend({},s[s.length-1].to),to:e.extend({},s[0].to)}),s.shift(),s},i.prototype.buildTimelineOut=function(e,t,i,n){var o=0,r=this._buildAnimationChainOut(i,n),a=0;if(r.length>0)for(e.fromTo(t,r[a].duration,r[a].from,r[a].to,o),o+=r[a].duration+r[a].to.delay,a++;a<r.length;a++)e.to(t,r[a].duration,r[a].to,o),o+=r[a].duration+r[a].to.delay},i.prototype._buildAnimationChainOut=function(t,i){for(var n=[{to:o}],r=0;r<t.length;r++){var a=t[r],s=a.duration;delete a.duration,delete a.name;var l=e.extend({},n[n.length-1].to);delete l.delay,delete l.ease,a.x=a.x*i,a.y=a.y*i,a.z=a.z*i,n.push({duration:s,from:l,to:a})}return n.shift(),n},i.prototype.loadSpecialZero=function(e){this.editor.fields.specialZero.element.data("field").insideChange(e),this.refreshSpecialZero(e)},i.prototype.refreshSpecialZero=function(e){this.specialZero=parseInt(e)?1:0,this.refreshTimeline()},i.prototype.loadRepeatCount=function(e){this.editor.fields.repeatCount.element.data("field").insideChange(e),this.refreshRepeatCount(e)},i.prototype.refreshRepeatCount=function(e){this.repeatCount=Math.max(0,parseInt(e))},i.prototype.loadRepeatStartDelay=function(e){this.editor.fields.repeatStartDelay.element.data("field").insideChange(1e3*e),this.refreshRepeatStartDelay(e)},i.prototype.refreshRepeatStartDelay=function(e){this.repeatStartDelay=Math.max(0,parseFloat(e))},i.prototype.loadTransformOrigin=function(e){this.editor.fields.transformOrigin.element.data("field").insideChange(e),this.refreshTransformOrigin(e)},i.prototype.refreshTransformOrigin=function(e){this.transformOrigin=e,NextendTween.set(this.preview.parent().get(0),{perspective:"1000px"}),this.refreshTimeline()},i.prototype.loadPlayEvent=function(e){this.editor.fields.playEvent.element.data("field").insideChange(e),this.refreshPlayEvent(e)},i.prototype.refreshPlayEvent=function(e){this.playEvent=e},i.prototype.loadPauseEvent=function(e){this.editor.fields.pauseEvent.element.data("field").insideChange(e),this.refreshPauseEvent(e)},i.prototype.refreshPauseEvent=function(e){this.pauseEvent=e},i.prototype.loadStopEvent=function(e){this.editor.fields.stopEvent.element.data("field").insideChange(e),this.refreshStopEvent(e)},i.prototype.refreshStopEvent=function(e){this.stopEvent=e},i.prototype.loadRepeatable=function(e){this.editor.fields.repeatable.element.data("field").insideChange(e),this.refreshRepeatable(e)},i.prototype.refreshRepeatable=function(e){this.repeatable=e},i.prototype.loadRepeatSelfOnly=function(e){this.editor.fields.repeatSelfOnly.element.data("field").insideChange(e),this.refreshRepeatSelfOnly(e)},i.prototype.refreshRepeatSelfOnly=function(e){this.repeatSelfOnly=e},i.prototype.loadInstantOut=function(e){this.editor.fields.instantOut.element.data("field").insideChange(e),this.refreshInstantOut(e)},i.prototype.refreshInstantOut=function(e){this.instantOut=e},i.prototype.featureSpecialZero=function(e){var t=this.editor.fields.specialZero.element.closest("tr");e?t.removeClass("n2-hidden"):t.addClass("n2-hidden")},i.prototype.featureRepeat=function(e){var t=this.editor.fields.repeatCount.element.closest("tr").add(this.editor.fields.repeatStartDelay.element.closest("tr"));e?t.removeClass("n2-hidden"):t.addClass("n2-hidden")},i.prototype.featurePlayEvent=function(e){var t=this.editor.fields.playEvent.element.closest(".n2-mixed-group");e?t.removeClass("n2-hidden"):t.addClass("n2-hidden")},i.prototype.featurePauseEvent=function(e){var t=this.editor.fields.pauseEvent.element.closest(".n2-mixed-group");e?t.removeClass("n2-hidden"):t.addClass("n2-hidden")},i.prototype.featureStopEvent=function(e){var t=this.editor.fields.stopEvent.element.closest(".n2-mixed-group");e?t.removeClass("n2-hidden"):t.addClass("n2-hidden")},i.prototype.featureRepeatable=function(e){var t=this.editor.fields.repeatable.element.closest(".n2-mixed-group");e?t.removeClass("n2-hidden"):t.addClass("n2-hidden")},i.prototype.featureRepeatSelfOnly=function(e){var t=this.editor.fields.repeatSelfOnly.element.closest(".n2-mixed-group");e?t.removeClass("n2-hidden"):t.addClass("n2-hidden")},i.prototype.featureInstantOut=function(e){var t=this.editor.fields.instantOut.element.closest(".n2-mixed-group");e?t.removeClass("n2-hidden"):t.addClass("n2-hidden")},t.NextendAnimationEditorController=i,n.prototype=Object.create(NextendVisualEditor.prototype),n.prototype.constructor=n,n.prototype.load=function(e){this._off(),this.fields.name.element.data("field").insideChange(e.name),this.fields.duration.element.data("field").insideChange(1e3*e.duration),this.fields.delay.element.data("field").insideChange(1e3*e.delay),this.fields.easing.element.data("field").insideChange(e.ease),this.fields.opacity.element.data("field").insideChange(100*e.opacity),this.fields.offset.element.data("field").insideChange(e.x+"|*|"+e.y+"|*|"+e.z),this.fields.rotate.element.data("field").insideChange(e.rotationX+"|*|"+e.rotationY+"|*|"+e.rotationZ),this.fields.scale.element.data("field").insideChange(100*e.scaleX+"|*|"+100*e.scaleY+"|*|"+100*e.scaleZ),this.fields.skew.element.data("field").insideChange(e.skewX),this.fields.n2blur.element.data("field").insideChange(e.n2blur),this.fields.specialZero.element.data("field").insideChange(nextend.animationManager.controller.specialZero),this.fields.repeatCount.element.data("field").insideChange(nextend.animationManager.controller.repeatCount),this.fields.repeatStartDelay.element.data("field").insideChange(1e3*nextend.animationManager.controller.repeatStartDelay),this.fields.transformOrigin.element.data("field").insideChange(nextend.animationManager.controller.transformOrigin),this.fields.playEvent.element.data("field").insideChange(nextend.animationManager.controller.playEvent),this.fields.pauseEvent.element.data("field").insideChange(nextend.animationManager.controller.pauseEvent),this.fields.stopEvent.element.data("field").insideChange(nextend.animationManager.controller.stopEvent),this.fields.repeatable.element.data("field").insideChange(nextend.animationManager.controller.repeatable),this.fields.repeatSelfOnly.element.data("field").insideChange(nextend.animationManager.controller.repeatSelfOnly),this.fields.instantOut.element.data("field").insideChange(nextend.animationManager.controller.instantOut),this._on()},n.prototype.changeName=function(){this.trigger("name",this.fields.name.element.val()),this.$.trigger("nameChanged",this.fields.name.element.val())},n.prototype.changeDuration=function(){this.trigger("duration",this.fields.duration.element.val()/1e3)},n.prototype.changeDelay=function(){this.trigger("delay",this.fields.delay.element.val()/1e3)},n.prototype.changeEasing=function(){this.trigger("ease",this.fields.easing.element.val())},n.prototype.changeOpacity=function(){this.trigger("opacity",this.fields.opacity.element.val()/100)},n.prototype.changeOffset=function(){var e=this.fields.offset.element.val().split("|*|");this.trigger("x",e[0]),this.trigger("y",e[1]),this.trigger("z",e[2])},n.prototype.changeRotate=function(){var e=this.fields.rotate.element.val().split("|*|");this.trigger("rotationX",e[0]),this.trigger("rotationY",e[1]),this.trigger("rotationZ",e[2])},n.prototype.changeScale=function(){var e=this.fields.scale.element.val().split("|*|");this.trigger("scaleX",e[0]/100),this.trigger("scaleY",e[1]/100),this.trigger("scaleZ",e[2]/100)},n.prototype.changeSkew=function(){this.trigger("skewX",this.fields.skew.element.val())},n.prototype.changeN2blur=function(){this.trigger("n2blur",this.fields.n2blur.element.val())},n.prototype.changeTransformOrigin=function(){nextend.animationManager.controller.refreshTransformOrigin(this.fields.transformOrigin.element.val())},n.prototype.changeSpecialZero=function(){nextend.animationManager.controller.refreshSpecialZero(this.fields.specialZero.element.val())},n.prototype.changeRepeatCount=function(){nextend.animationManager.controller.refreshRepeatCount(this.fields.repeatCount.element.val())},n.prototype.changeRepeatStartDelay=function(){nextend.animationManager.controller.refreshRepeatStartDelay(this.fields.repeatStartDelay.element.val()/1e3)},n.prototype.changePlayEvent=function(){nextend.animationManager.controller.refreshPlayEvent(this.fields.playEvent.element.val())},n.prototype.changePauseEvent=function(){nextend.animationManager.controller.refreshPauseEvent(this.fields.pauseEvent.element.val())},n.prototype.changeStopEvent=function(){nextend.animationManager.controller.refreshStopEvent(this.fields.stopEvent.element.val())},n.prototype.changeRepeatable=function(){nextend.animationManager.controller.refreshRepeatable(this.fields.repeatable.element.val())},n.prototype.changeRepeatSelfOnly=function(){nextend.animationManager.controller.refreshRepeatSelfOnly(this.fields.repeatSelfOnly.element.val())},n.prototype.changeInstantOut=function(){nextend.animationManager.controller.refreshInstantOut(this.fields.instantOut.element.val())},t.NextendAnimationEditor=n}(n2,window),function(e,t,i){function n(t,i){this.url=t,this.uploadAllowed=parseInt(i),this.currentPath=e.jStorage.get("browsePath","");var n=null;this.node=e('<div class="n2-browse-container"/>').on("dragover",function(t){null!==n?(clearTimeout(n),n=null):e(t.currentTarget).addClass("n2-drag-over"),n=setTimeout(function(){e(t.currentTarget).removeClass("n2-drag-over"),n=null},400)}),nextend.browse=this}var o={};n.prototype.clear=function(){this.uploadAllowed&&this.node.find("#n2-browse-upload").fileupload("destroy"),this.node.empty()},n.prototype.getNode=function(t,i){return this.clear(),this.mode=t,"multiple"==t&&(this.selected=[]),this.callback=i,this._loadPath(this.getCurrentFolder(),e.proxy(this._renderBoxes,this)),this.node},n.prototype._renderBoxes=function(t){this.clear(),this.uploadAllowed&&(this.node.append(e('<div class="n2-browse-box n2-browse-upload"><div class="n2-h4">'+n2_("Drop files anywhere to upload or")+' <br> <a class="n2-button n2-button-normal n2-button-m n2-radius-s n2-button-grey n2-uc n2-h4" href="#">'+n2_("Select files")+'</a></div><input id="n2-browse-upload" type="file" name="image" multiple></div>')),this.node.find("#n2-browse-upload").fileupload({url:NextendAjaxHelper.makeAjaxUrl(this.url,{nextendaction:"upload"}),sequentialUploads:!0,dropZone:this.node,pasteZone:!1,dataType:"json",paramName:"image",add:e.proxy(function(t,i){var n=e('<div class="n2-browse-box n2-browse-image"><div class="n2-button n2-button-icon n2-button-s n2-button-blue n2-radius-s"><i class="n2-i n2-it n2-i-tick"></i></div><div class="n2-browse-title">0%</div></div>'),o=this.node.find(".n2-browse-image");o.length>0?n.insertBefore(o.eq(0)):n.appendTo(this.node),i.box=n,i.formData={path:this.currentPath},i.submit()},this),progress:function(e,t){var i=parseInt(t.loaded/t.total*100,10);t.box.find(".n2-browse-title").html(i+"%")},done:e.proxy(function(t,i){var r=i.result;if(r.data&&r.data.name){o[r.data.path].data.files[r.data.name]=r.data.url,i.box.on("click",e.proxy(this.clickImage,this,r.data.url)).find(".n2-browse-title").html(r.data.name);var a=r.data.url.split(".").pop();"mp4"!=a&&"mp3"!=a&&n.css("background-image","url("+encodeURI(nextend.imageHelper.fixed(r.data.url))+")"),"multiple"==this.mode&&(this.selected.push(r.data.url),i.box.addClass("n2-active"))}else i.box.destroy();NextendAjaxHelper.notification(r)},this),fail:e.proxy(function(e,t){t.box.remove(),NextendAjaxHelper.notification(t.jqXHR.responseJSON)},this)}),e.jStorage.set("browsePath",this.getCurrentFolder())),""!=t.path&&this.node.append(e('<div class="n2-browse-box n2-browse-directory"><i class="n2-i n2-it n2-i-up"></i></div>').on("click",e.proxy(function(t){this._loadPath(t,e.proxy(this._renderBoxes,this))},this,t.path+"/..")));for(var i in t.directories)t.directories.hasOwnProperty(i)&&this.node.append(e('<div class="n2-browse-box n2-browse-directory"><i class="n2-i n2-it n2-i-folder"></i><div class="n2-browse-title">'+i+"</div></div>").on("click",e.proxy(function(t){this._loadPath(t,e.proxy(this._renderBoxes,this))},this,t.directories[i])));for(var i in t.files)if(t.files.hasOwnProperty(i)){var n=e('<div class="n2-browse-box n2-browse-image"><div class="n2-button n2-button-icon n2-button-s n2-button-blue n2-radius-s"><i class="n2-i n2-it n2-i-tick"></i></div><div class="n2-browse-title">'+i+"</div></div>").on("click",e.proxy(this.clickImage,this,t.files[i])),r=t.files[i].split(".").pop();"mp4"!=r&&"mp3"!=r&&n.css("background-image","url("+encodeURI(nextend.imageHelper.fixed(t.files[i]))+")"),this.node.append(n),"multiple"==this.mode&&-1!=e.inArray(t.files[i],this.selected)&&n.addClass("n2-active")}},n.prototype._loadPath=function(t,i){"undefined"==typeof o[t]&&(o[t]=NextendAjaxHelper.ajax({type:"POST",url:NextendAjaxHelper.makeAjaxUrl(this.url),data:{path:t},dataType:"json"})),e.when(o[t]).done(e.proxy(function(e){this.currentPath=e.data.path,o[e.data.path]=e,o[t]=e,i(e.data)},this))},n.prototype.clickImage=function(t,i){if("single"==this.mode)this.callback(t);else if("multiple"==this.mode){var n=e.inArray(t,this.selected);-1==n?(e(i.currentTarget).addClass("n2-active"),this.selected.push(t)):(e(i.currentTarget).removeClass("n2-active"),this.selected.splice(n,1))}},n.prototype.getSelected=function(){return this.selected},n.prototype.getCurrentFolder=function(){return this.currentPath},t.NextendBrowse=n}(n2,window),function(e,t){function i(){NextendVisualManagerSetsAndMore.prototype.constructor.apply(this,arguments)}function n(){NextendVisualWithSetRow.prototype.constructor.apply(this,arguments)}i.prototype=Object.create(NextendVisualManagerSetsAndMore.prototype),i.prototype.constructor=i,i.prototype.loadDefaults=function(){NextendVisualManagerSetsAndMore.prototype.loadDefaults.apply(this,arguments),this.type="font",this.labels={visual:n2_("font"),visuals:n2_("fonts")},this.styleClassName="",this.styleClassName2=""},i.prototype.initController=function(){return new NextendFontEditorController(this.parameters.renderer.modes,this.parameters.defaultFamily)},i.prototype.addVisualUsage=function(e,t,i){if(parseInt(t)>0)return this._addLinkedFont(e,t,i);try{return this._renderStaticFont(e,t,i),!0}catch(n){return!1}},i.prototype._addLinkedFont=function(t,i,n){var o=this.parameters.renderer.usedFonts,r=e.Deferred();return e.when(this.getVisual(i)).done(e.proxy(function(i){i.id>0?("undefined"==typeof n?"undefined"==typeof o[i.id]?(o[i.id]=[t],this.renderLinkedFont(t,i,n)):-1==e.inArray(t,o[i.id])&&(o[i.id].push(t),this.renderLinkedFont(t,i,n)):this.renderLinkedFont(t,i,n),r.resolve(!0)):r.resolve(!1)},this)).fail(function(){r.resolve(!1)}),r},i.prototype.renderLinkedFont=function(e,t,i){"undefined"==typeof i&&(i=this.parameters.renderer.pre),nextend.css.add(this.renderer.getCSS(e,i,"."+this.getClass(t.id,e),t.value,{deleteRule:!0}))},i.prototype._renderStaticFont=function(e,t,i){"undefined"==typeof i&&(i=this.parameters.renderer.pre);var n=t;"{"!=n[0]&&(n=Base64.decode(n)),nextend.css.add(this.renderer.getCSS(e,i,"."+this.getClass(t,e),JSON.parse(n).data,{}))},i.prototype.removeUsedFont=function(t,i){var n=this.parameters.renderer.usedFonts;if("undefined"!=typeof n[i]){var o=e.inArray(t,n[i]);o>-1&&n[i].splice(o,1)}},i.prototype.getClass=function(e,t){return parseInt(e)>0?"n2-font-"+e+"-"+t:""==e?"":("{"==e&&(e=Base64.encode(e)),"n2-font-"+md5(e)+"-"+t)},i.prototype.createVisual=function(e,t){return new n(e,t,this)},i.prototype.setConnectedStyle=function(t){this.styleClassName=e("#"+t).data("field").renderStyle()},i.prototype.setConnectedStyle2=function(t){this.styleClassName2=e("#"+t).data("field").renderStyle();
},t.NextendFontManager=i,n.prototype=Object.create(NextendVisualWithSetRow.prototype),n.prototype.constructor=n,n.prototype.removeRules=function(){var e=this.isUsed();if(e)for(var t=0;t<e.length;t++)this.visualManager.removeRules(e[t],this)},n.prototype.render=function(){var e=this.isUsed();if(e)for(var t=0;t<e.length;t++)this.visualManager.renderLinkedFont(e[t],this)},n.prototype.isUsed=function(){return"undefined"!=typeof this.visualManager.parameters.renderer.usedFonts[this.id]?this.visualManager.parameters.renderer.usedFonts[this.id]:!1},t.NextendFont=n}(n2,window),function($,scope){function NextendFontEditorController(e,t){this.defaultFamily=t,NextendVisualEditorController.prototype.constructor.apply(this,arguments),this.fontSize=16,this.preview=$("#n2-font-editor-preview").css("fontSize","16px"),this.initBackgroundColor()}function NextendFontEditor(){NextendVisualEditor.prototype.constructor.apply(this,arguments),this.fields={family:{element:$("#n2-font-editorfamily"),events:{"nextendChange.n2-editor":$.proxy(this.changeFamily,this)}},color:{element:$("#n2-font-editorcolor"),events:{"outsideChange.n2-editor":$.proxy(this.changeColor,this)}},size:{element:$("#n2-font-editorsize"),events:{"outsideChange.n2-editor":$.proxy(this.changeSize,this)}},lineHeight:{element:$("#n2-font-editorlineheight"),events:{"outsideChange.n2-editor":$.proxy(this.changeLineHeight,this)}},weight:{element:$("#n2-font-editorweight"),events:{"outsideChange.n2-editor":$.proxy(this.changeWeight,this)}},decoration:{element:$("#n2-font-editordecoration"),events:{"outsideChange.n2-editor":$.proxy(this.changeDecoration,this)}},align:{element:$("#n2-font-editortextalign"),events:{"outsideChange.n2-editor":$.proxy(this.changeAlign,this)}},shadow:{element:$("#n2-font-editortshadow"),events:{"outsideChange.n2-editor":$.proxy(this.changeShadow,this)}},letterSpacing:{element:$("#n2-font-editorletterspacing"),events:{"outsideChange.n2-editor":$.proxy(this.changeLetterSpacing,this)}},wordSpacing:{element:$("#n2-font-editorwordspacing"),events:{"outsideChange.n2-editor":$.proxy(this.changeWordSpacing,this)}},textTransform:{element:$("#n2-font-editortexttransform"),events:{"outsideChange.n2-editor":$.proxy(this.changeTextTransform,this)}},css:{element:$("#n2-font-editorextracss"),events:{"outsideChange.n2-editor":$.proxy(this.changeCSS,this)}}}}function NextendFontRenderer(){NextendVisualRenderer.prototype.constructor.apply(this,arguments)}NextendFontEditorController.prototype=Object.create(NextendVisualEditorController.prototype),NextendFontEditorController.prototype.constructor=NextendFontEditorController,NextendFontEditorController.prototype.loadDefaults=function(){NextendVisualEditorController.prototype.loadDefaults.call(this),this.type="font",this.preview=null,this.fontSize=14},NextendFontEditorController.prototype.initPreviewModes=function(){this.previewModes={1:[this.previewModesList.simple],2:[this.previewModesList.link,this.previewModesList.hover,this.previewModesList.accordionslidetitle],3:[this.previewModesList.paragraph,this.previewModesList.list]}},NextendFontEditorController.prototype.initRenderer=function(){return new NextendFontRenderer(this)},NextendFontEditorController.prototype.initEditor=function(){return new NextendFontEditor},NextendFontEditorController.prototype._load=function(e,t,i){e.length&&(e[0]=$.extend({},this.getEmptyFont(),e[0])),NextendVisualEditorController.prototype._load.call(this,e,t,i)},NextendFontEditorController.prototype.asyncVisualData=function(e,t,i){e.length&&(e[0]=$.extend({},this.getEmptyFont(),e[0])),NextendVisualEditorController.prototype.asyncVisualData.call(this,e,t,i)},NextendFontEditorController.prototype.getEmptyFont=function(){return{color:"000000ff",size:"14||px",tshadow:"0|*|0|*|0|*|000000ff",afont:this.defaultFamily,lineheight:"1.5",bold:0,italic:0,underline:0,align:"left",letterspacing:"normal",wordspacing:"normal",texttransform:"none",extra:""}},NextendFontEditorController.prototype.getCleanVisual=function(){return{extra:""}},NextendFontEditorController.prototype.getEmptyVisual=function(){return[this.getEmptyFont()]},NextendFontEditorController.prototype.initBackgroundColor=function(){new N2Classes.FormElementText("n2-font-editor-background-color"),new N2Classes.FormElementColor("n2-font-editor-background-color",0);var e=this.lightbox.find(".n2-editor-preview-box");$("#n2-font-editor-background-color").on("nextendChange",function(){e.css("background","#"+$(this).val())})},NextendFontEditorController.prototype._renderPreview=function(){NextendVisualEditorController.prototype._renderPreview.call(this),this.addStyle(this.renderer.getCSS(this.currentPreviewMode,"","."+this.getPreviewCssClass(),this.currentVisual,{activeTab:this.currentTabIndex}))},NextendFontEditorController.prototype.setPreview=function(mode){var html="";html="undefined"!=typeof this.localModePreview[mode]?this.localModePreview[mode]:this.previewModesList[mode].preview;var fontClassName=this.getPreviewCssClass(),styleClassName=nextend.fontManager.styleClassName,styleClassName2=nextend.fontManager.styleClassName2;html=html.replace(/\{([^]*?)\}/g,function(match,script){return eval(script)}),this.preview.html(html)},NextendFontEditorController.prototype.getPreviewCssClass=function(){return"n2-"+this.type+"-editor-preview"},scope.NextendFontEditorController=NextendFontEditorController,NextendFontEditor.prototype=Object.create(NextendVisualEditor.prototype),NextendFontEditor.prototype.constructor=NextendFontEditor,NextendFontEditor.prototype.load=function(e){this._off();var t=e.afont.split("||");this.fields.family.element.data("field").insideChange(t[0]),this.fields.color.element.data("field").insideChange(e.color),this.fields.size.element.data("field").insideChange(e.size.split("||").join("|*|")),this.fields.lineHeight.element.data("field").insideChange(e.lineheight),this.fields.weight.element.data("field").insideChange(e.bold),this.fields.decoration.element.data("field").insideChange([1==e.italic?"italic":"",1==e.underline?"underline":""].join("||")),this.fields.align.element.data("field").insideChange(e.align),this.fields.shadow.element.data("field").insideChange(e.tshadow.replace(/\|\|px/g,"")),this.fields.letterSpacing.element.data("field").insideChange(e.letterspacing),this.fields.wordSpacing.element.data("field").insideChange(e.wordspacing),this.fields.textTransform.element.data("field").insideChange(e.texttransform),this.fields.css.element.data("field").insideChange(e.extra),this._on()},NextendFontEditor.prototype.changeFamily=function(){this.trigger("afont",this.fields.family.element.val())},NextendFontEditor.prototype.changeColor=function(){this.trigger("color",this.fields.color.element.val())},NextendFontEditor.prototype.changeSize=function(){this.trigger("size",this.fields.size.element.val().replace("|*|","||"))},NextendFontEditor.prototype.changeLineHeight=function(){this.trigger("lineheight",this.fields.lineHeight.element.val())},NextendFontEditor.prototype.changeWeight=function(){this.trigger("weight",this.fields.weight.element.val())},NextendFontEditor.prototype.changeDecoration=function(){var e=this.fields.decoration.element.val(),t=0;-1!=e.indexOf("italic")&&(t=1),this.trigger("italic",t);var i=0;-1!=e.indexOf("underline")&&(i=1),this.trigger("underline",i)},NextendFontEditor.prototype.changeAlign=function(){this.trigger("align",this.fields.align.element.val())},NextendFontEditor.prototype.changeShadow=function(){this.trigger("tshadow",this.fields.shadow.element.val())},NextendFontEditor.prototype.changeLetterSpacing=function(){this.trigger("letterspacing",this.fields.letterSpacing.element.val())},NextendFontEditor.prototype.changeWordSpacing=function(){this.trigger("wordspacing",this.fields.wordSpacing.element.val())},NextendFontEditor.prototype.changeTextTransform=function(){this.trigger("texttransform",this.fields.textTransform.element.val())},NextendFontEditor.prototype.changeCSS=function(){this.trigger("extra",this.fields.css.element.val())},scope.NextendFontEditor=NextendFontEditor,NextendFontRenderer.prototype=Object.create(NextendVisualRenderer.prototype),NextendFontRenderer.prototype.constructor=NextendFontRenderer,NextendFontRenderer.prototype.getCSS=function(e,t,i,n,o){if(n=$.extend([],n),n[0]=$.extend(this.editorController.getEmptyFont(),n[0]),this.editorController.previewModesList[e].renderOptions.combined)for(var r=1;r<n.length;r++)n[r]=$.extend({},n[r-1],n[r]),n[r].size==n[0].size&&(n[r].size="100||%");return NextendVisualRenderer.prototype.getCSS.call(this,e,t,i,n,o)},NextendFontRenderer.prototype.makeStylecolor=function(e,t){t.color="#"+e.substr(0,6)+";\ncolor: "+N2Color.hex2rgbaCSS(e)},NextendFontRenderer.prototype.makeStylesize=function(e,t){var i=e.split("||");"px"==i[1]?t.fontSize=i[0]/this.editorController.fontSize*100+"%":t.fontSize=e.replace("||","")},NextendFontRenderer.prototype.makeStyletshadow=function(e,t){var i=e.split("|*|");"0"==i[0]&&"0"==i[1]&&"0"==i[2]?t.textShadow="none":t.textShadow=i[0]+"px "+i[1]+"px "+i[2]+"px "+N2Color.hex2rgbaCSS(i[3])},NextendFontRenderer.prototype.makeStyleafont=function(e,t){for(var i=e.split(","),n=0;n<i.length;n++)i[n]=this.getFamily(i[n].replace(/^\s+|\s+$/gm,"").replace(/"|'/gm,""));t.fontFamily=i.join(",")},NextendFontRenderer.prototype.getFamily=function(e){return $(window).trigger("n2Family",[e]),"'"+e+"'"},NextendFontRenderer.prototype.makeStylelineheight=function(e,t){t.lineHeight=e},NextendFontRenderer.prototype.makeStyleweight=NextendFontRenderer.prototype.makeStylebold=function(e,t){1==e?t.fontWeight="bold":e>1?t.fontWeight=e:t.fontWeight="normal"},NextendFontRenderer.prototype.makeStyleitalic=function(e,t){1==e?t.fontStyle="italic":t.fontStyle="normal"},NextendFontRenderer.prototype.makeStyleunderline=function(e,t){1==e?t.textDecoration="underline":t.textDecoration="none"},NextendFontRenderer.prototype.makeStylealign=function(e,t){t.textAlign=e},NextendFontRenderer.prototype.makeStyleletterspacing=function(e,t){t.letterSpacing=e},NextendFontRenderer.prototype.makeStylewordspacing=function(e,t){t.wordSpacing=e},NextendFontRenderer.prototype.makeStyletexttransform=function(e,t){t.textTransform=e},NextendFontRenderer.prototype.makeStyleextra=function(e,t){t.raw=e},scope.NextendFontRenderer=NextendFontRenderer}(n2,window),N2Require("Icons",[],[],function(e,t,i){function n(e){t.Icons=this,this.data=e,this.keys={};for(var i in this.data)this.keys[this.data[i].id]=this.data[i]}n.prototype.render=function(t){var n=t.split(":");if(2!=n.length)return!1;var o=n[0],r=n[1];if(this.keys[o]==i)return!1;var a=this.keys[o];return a.data[r]==i?!1:(a.isLoaded==i&&(e("head").append("<link rel='stylesheet' href='"+a.css+"' type='text/css' media='screen'>"),a.isLoaded=!0),a.isLigature?{"class":a["class"],ligature:r}:{"class":a["class"]+" "+a.prefix+r,ligature:""})},n.prototype._render=function(e,t){return e.isLigature?'<i class="n2i '+e["class"]+'">'+t+"</i>":'<i class="n2i '+e["class"]+" "+e.prefix+t+'"></i>'};var o=!1;return n.prototype.showModal=function(t){if(o=t,this.modal==i){var n=e("<div></div>"),r=e('<input class="n2-h5" placeholder="'+n2_("Search")+'" type="text" name="search-icon" value="" style="width:280px;"/>').appendTo(e('<div class="n2-form-element-text n2-border-radius" style="margin: 10px 0 0 20px;"/>').appendTo(n));for(var a in this.data){var s=this.data[a];s.isLoaded==i&&(e("head").append("<link rel='stylesheet' href='"+s.css+"' type='text/css' media='screen'>"),s.isLoaded=!0);var l=e('<div class="n2-form-tab "></div>').appendTo(n);l.append('<div class="n2-h2 n2-content-box-title-bg">'+s.label+"</div>");var d=e('<div class="n2-description"></div>').appendTo(l);for(var h in s.data)e('<div class="n2-icon" data-identifier="'+s.id+":"+h+'" data-kw="'+s.data[h].kw.toLowerCase()+'">'+this._render(s,h)+"</div>").on("click",e.proxy(function(t){o(e(t.currentTarget).data("identifier")),this.modal.hide(t)},this)).appendTo(d)}var p=n.find(".n2-icon");r.on("keyup",e.proxy(function(t){var i=e(t.target).val();if(i.length<=1)p.css("display","");else{var n=p.filter("[data-kw*='"+i+"']");p.not(n).css("display","none"),n.css("display","")}},this)),this.modal=new NextendModal({zero:{size:[1200,600],fit:!0,title:"Icons",back:!1,close:!0,content:n}},!1),this.modal.setCustomClass("n2-icons-modal")}this.modal.show()},n}),function(e,t){function i(){this.referenceKeys={},NextendVisualManagerCore.prototype.constructor.apply(this,arguments)}function n(){NextendVisualCore.prototype.constructor.apply(this,arguments)}i.prototype=Object.create(NextendVisualManagerCore.prototype),i.prototype.constructor=i,i.prototype.loadDefaults=function(){NextendVisualManagerCore.prototype.loadDefaults.apply(this,arguments),this.type="image",this.labels={visual:n2_("image"),visuals:n2_("images")},this.fontClassName=""},i.prototype.initController=function(){return new NextendImageEditorController},i.prototype.createVisual=function(e){return new n(e,this)},i.prototype.firstLoadVisuals=function(e){for(var t=0;t<e.length;t++)this.referenceKeys[e[t].hash]=this.visuals[e[t].id]=this.createVisual(e[t])},i.prototype.getVisual=function(t){if(""!=t){var i=md5(t);if("undefined"!=typeof this.referenceKeys[i])return this.referenceKeys[i];if("undefined"!=typeof this.visualLoadDeferreds[i])return this.visualLoadDeferreds[i];var n=e.Deferred();return this.visualLoadDeferreds[i]=n,this._loadVisualFromServer(t).done(e.proxy(function(){n.resolve(this.referenceKeys[i]),delete this.visualLoadDeferreds[i]},this)).fail(e.proxy(function(){n.resolve({id:-1,name:n2_("Empty")}),delete this.visualLoadDeferreds[i]},this)),n}nextend.notificationCenter.error("The image is empty",{timeout:3})},i.prototype._loadVisualFromServer=function(t){return NextendAjaxHelper.ajax({type:"POST",url:NextendAjaxHelper.makeAjaxUrl(this.parameters.ajaxUrl,{nextendaction:"loadVisualForImage"}),data:{image:t},dataType:"json"}).done(e.proxy(function(e){var t=e.data.visual;this.referenceKeys[t.hash]=this.visuals[t.id]=this.createVisual(t)},this))},i.prototype.isVisualData=function(e){return""!=e},i.prototype.setVisual=function(t){t.preventDefault(),this.controller.isChanged?this.saveActiveVisual(this.activeVisual.name).done(e.proxy(function(i){e(window).trigger(i.data.visual.hash,this.activeVisual.value),this.hide(t)},this)):this.hide(t)},i.prototype.getBase64=function(){return Base64.encode(JSON.stringify(this.controller.get("set")))},i.prototype.loadDataToController=function(t){this.isVisualData(t)?e.when(this.getVisual(t)).done(e.proxy(function(e){e.id>0?e.activate():console.error(t+" visual is not found linked")},this)):(this.hide(),nextend.notificationCenter.error("Image field can not be empty!"))},t.NextendImageManager=i,n.prototype=Object.create(NextendVisualCore.prototype),n.prototype.constructor=n,n.prototype.setValue=function(e,t){this.base64=e,this.value=JSON.parse(Base64.decode(e))},n.prototype.activate=function(e){"undefined"!=typeof e&&e.preventDefault(),this.visualManager.changeActiveVisual(this),this.visualManager.controller.load(this,!1,this.visualManager.showParameters)},t.NextendImage=n}(n2,window),function(e,t){function i(){NextendVisualEditorControllerWithEditor.prototype.constructor.apply(this,arguments)}function n(){this.previews=null,this.desktopImage="",NextendVisualEditor.prototype.constructor.apply(this,arguments),this.fields={"desktop-size":{element:e("#n2-image-editordesktop-size"),events:{"nextendChange.n2-editor":e.proxy(this.changeSize,this,"desktop")}},"desktop-retina-image":{element:e("#n2-image-editordesktop-retina-image"),events:{"nextendChange.n2-editor":e.proxy(this.changeImage,this,"desktop-retina")}},"desktop-retina-size":{element:e("#n2-image-editordesktop-retina-size"),events:{"nextendChange.n2-editor":e.proxy(this.changeSize,this,"desktop-retina")}},"tablet-image":{element:e("#n2-image-editortablet-image"),events:{"nextendChange.n2-editor":e.proxy(this.changeImage,this,"tablet")}},"tablet-size":{element:e("#n2-image-editortablet-size"),events:{"nextendChange.n2-editor":e.proxy(this.changeSize,this,"tablet")}},"tablet-retina-image":{element:e("#n2-image-editortablet-retina-image"),events:{"nextendChange.n2-editor":e.proxy(this.changeImage,this,"tablet-retina")}},"tablet-retina-size":{element:e("#n2-image-editortablet-retina-size"),events:{"nextendChange.n2-editor":e.proxy(this.changeSize,this,"tablet-retina")}},"mobile-image":{element:e("#n2-image-editormobile-image"),events:{"nextendChange.n2-editor":e.proxy(this.changeImage,this,"mobile")}},"mobile-size":{element:e("#n2-image-editormobile-size"),events:{"nextendChange.n2-editor":e.proxy(this.changeSize,this,"mobile")}},"mobile-retina-image":{element:e("#n2-image-editormobile-retina-image"),events:{"nextendChange.n2-editor":e.proxy(this.changeImage,this,"mobile-retina")}},"mobile-retina-size":{element:e("#n2-image-editormobile-retina-size"),events:{"nextendChange.n2-editor":e.proxy(this.changeSize,this,"mobile-retina")}}},this.previews={desktop:e("#n2-image-editordesktop-preview"),"desktop-retina":e("#n2-image-editordesktop-retina-preview"),tablet:e("#n2-image-editortablet-preview"),"tablet-retina":e("#n2-image-editortablet-retina-preview"),mobile:e("#n2-image-editormobile-preview"),"mobile-retina":e("#n2-image-editormobile-retina-preview")};e(this.buttonGenerate()).on("click",e.proxy(this.generateImage,this,"tablet")).insertAfter(this.fields["tablet-image"].element.parent()),e(this.buttonGenerate()).on("click",e.proxy(this.generateImage,this,"mobile")).insertAfter(this.fields["mobile-image"].element.parent())}i.prototype=Object.create(NextendVisualEditorControllerWithEditor.prototype),i.prototype.constructor=i,i.prototype.loadDefaults=function(){NextendVisualEditorControllerWithEditor.prototype.loadDefaults.call(this),this.type="image",this.currentImage=""},i.prototype.get=function(e){return this.currentVisual},i.prototype.getEmptyVisual=function(){return{desktop:{size:"0|*|0"},"desktop-retina":{image:"",size:"0|*|0"},tablet:{image:"",size:"0|*|0"},"tablet-retina":{image:"",size:"0|*|0"},mobile:{image:"",size:"0|*|0"},"mobile-retina":{image:"",size:"0|*|0"}}},i.prototype.initEditor=function(){return new n},i.prototype._load=function(e,t,i){this.currentImage=e.visual.image,NextendVisualEditorControllerWithEditor.prototype._load.call(this,e.value,t,i)},i.prototype.loadToEditor=function(){this.currentVisual=e.extend({},this.getEmptyVisual(),this.currentVisual),this.editor.load(this.currentImage,this.currentVisual)},i.prototype.propertyChanged=function(e,t,i,n){this.isChanged=!0,this.currentVisual[t][i]=n},t.NextendImageEditorController=i,n.prototype=Object.create(NextendVisualEditor.prototype),n.prototype.constructor=n,n.prototype.load=function(t,i){this._off();for(var n in this.fields){var o=[n.substring(0,n.lastIndexOf("-")),n.substring(n.lastIndexOf("-")+1)];this.fields[n].element.data("field").insideChange(i[o[0]][o[1]])}this.desktopImage=t,this.makePreview("desktop",t),"0|*|0"==i.desktop.size&&this.getImageSize(t).done(e.proxy(function(e,t){this.fields["desktop-size"].element.data("field").insideChange(e+"|*|"+t)},this));for(var n in i)"undefined"!=typeof i[n].image&&this.makePreview(n,i[n].image);this._on()},n.prototype.changeImage=function(t,i,n){var o=n.element.val();this.makePreview(t,o)?this.getImageSize(o).done(e.proxy(function(e,i){this.fields[t+"-size"].element.data("field").insideChange(e+"|*|"+i)},this)):this.fields[t+"-size"].element.data("field").insideChange("0|*|0"),this.trigger(t,"image",o)},n.prototype.changeSize=function(e,t,i){this.trigger(e,"size",i.element.val())},n.prototype.makePreview=function(e,t){return t?(this.previews[e].html('<img style="max-width:100%; max-height: 300px;" src="'+nextend.imageHelper.fixed(t)+'" />'),!0):(this.previews[e].html(""),!1)},n.prototype.getImageSize=function(t){var i=e.Deferred(),n=new Image;return n.onload=function(){i.resolve(n.width,n.height)},n.src=nextend.imageHelper.fixed(t),(n.complete||4===n.readyState)&&n.onload(),i},n.prototype.buttonGenerate=function(){return'<a href="#" class="n2-button n2-button-normal n2-button-m n2-radius-s n2-button-grey n2-h5 n2-uc">'+n2_("Generate")+"</a>"},n.prototype.generateImage=function(t){var i=this.desktopImage;return""==i?(nextend.notificationCenter.error(n2_("Desktop image is empty!"),{timeout:3}),!1):NextendAjaxHelper.ajax({type:"POST",url:NextendAjaxHelper.makeAjaxUrl(nextend.imageManager.parameters.ajaxUrl,{nextendaction:"generateImage"}),data:{device:t,image:i},dataType:"json"}).done(e.proxy(function(e){var i=e.data.image;this.fields[t+"-image"].element.data("field").insideChange(nextend.imageHelper.make(i))},this))},n.prototype.trigger=function(e,t,i){this.$.trigger("change",[e,t,i])},t.NextendImageEditor=n}(n2,window),function(e,t){function i(){NextendVisualManagerSetsAndMore.prototype.constructor.apply(this,arguments)}function n(){NextendVisualWithSetRow.prototype.constructor.apply(this,arguments)}i.prototype=Object.create(NextendVisualManagerSetsAndMore.prototype),i.prototype.constructor=i,i.prototype.loadDefaults=function(){NextendVisualManagerSetsAndMore.prototype.loadDefaults.apply(this,arguments),this.type="style",this.labels={visual:n2_("style"),visuals:n2_("styles")},this.styleClassName2="",this.fontClassName="",this.fontClassName2=""},i.prototype.initController=function(){return new NextendStyleEditorController(this.parameters.renderer.modes)},i.prototype.addVisualUsage=function(e,t,i){if(parseInt(t)>0)return this._addLinkedStyle(e,t,i);try{return this._renderStaticStyle(e,t,i),!0}catch(n){return!1}},i.prototype._addLinkedStyle=function(t,i,n){var o=this.parameters.renderer.usedStyles,r=e.Deferred();return e.when(this.getVisual(i)).done(e.proxy(function(i){i.id>0?("undefined"==typeof n?"undefined"==typeof o[i.id]?(o[i.id]=[t],this.renderLinkedStyle(t,i,n)):-1==e.inArray(t,o[i.id])&&(o[i.id].push(t),this.renderLinkedStyle(t,i,n)):this.renderLinkedStyle(t,i,n),r.resolve(!0)):r.resolve(!1)},this)).fail(function(){r.resolve(!1)}),r},i.prototype.renderLinkedStyle=function(e,t,i){"undefined"==typeof i&&(i=this.parameters.renderer.pre),nextend.css.add(this.renderer.getCSS(e,i,"."+this.getClass(t.id,e),t.value,{deleteRule:!0}))},i.prototype._renderStaticStyle=function(e,t,i){"undefined"==typeof i&&(i=this.parameters.renderer.pre);var n=t;"{"!=n[0]&&(n=Base64.decode(n)),nextend.css.add(this.renderer.getCSS(e,i,"."+this.getClass(t,e),JSON.parse(n).data,{}))},i.prototype.removeUsedStyle=function(t,i){var n=this.parameters.renderer.usedStyles;if("undefined"!=typeof n[i]){var o=e.inArray(t,n[i]);o>-1&&n[i].splice(o,1)}},i.prototype.getClass=function(e,t){return parseInt(e)>0?"n2-style-"+e+"-"+t:""==e?"":"n2-style-"+md5(e)+"-"+t},i.prototype.createVisual=function(e,t){return new n(e,t,this)},i.prototype.setConnectedStyle=function(t){this.styleClassName2=e("#"+t).data("field").renderStyle()},i.prototype.setConnectedFont=function(t){this.fontClassName=e("#"+t).data("field").renderFont()},i.prototype.setConnectedFont2=function(t){this.fontClassName2=e("#"+t).data("field").renderFont()},t.NextendStyleManager=i,n.prototype=Object.create(NextendVisualWithSetRow.prototype),n.prototype.constructor=n,n.prototype.removeRules=function(){var e=this.isUsed();if(e)for(var t=0;t<e.length;t++)this.visualManager.removeRules(e[t],this)},n.prototype.render=function(){var e=this.isUsed();if(e)for(var t=0;t<e.length;t++)this.visualManager.renderLinkedStyle(e[t],this)},n.prototype.isUsed=function(){return"undefined"!=typeof this.visualManager.parameters.renderer.usedStyles[this.id]?this.visualManager.parameters.renderer.usedStyles[this.id]:!1},t.NextendStyle=n}(n2,window),function($,scope){function NextendStyleEditorController(){NextendVisualEditorController.prototype.constructor.apply(this,arguments),this.preview=$("#n2-style-editor-preview").css("fontSize","16px"),this.initBackgroundColor()}function NextendStyleEditor(){NextendVisualEditor.prototype.constructor.apply(this,arguments),this.fields={backgroundColor:{element:$("#n2-style-editorbackgroundcolor"),events:{"nextendChange.n2-editor":$.proxy(this.changeBackgroundColor,this)}},opacity:{element:$("#n2-style-editoropacity"),events:{"outsideChange.n2-editor":$.proxy(this.changeOpacity,this)}},padding:{element:$("#n2-style-editorpadding"),events:{"outsideChange.n2-editor":$.proxy(this.changePadding,this)}},boxShadow:{element:$("#n2-style-editorboxshadow"),events:{"outsideChange.n2-editor":$.proxy(this.changeBoxShadow,this)}},border:{element:$("#n2-style-editorborder"),events:{"outsideChange.n2-editor":$.proxy(this.changeBorder,this)}},borderRadius:{element:$("#n2-style-editorborderradius"),events:{"outsideChange.n2-editor":$.proxy(this.changeBorderRadius,this)}},extracss:{element:$("#n2-style-editorextracss"),events:{"outsideChange.n2-editor":$.proxy(this.changeExtraCSS,this)}}}}function NextendStyleRenderer(){NextendVisualRenderer.prototype.constructor.apply(this,arguments)}NextendStyleEditorController.prototype=Object.create(NextendVisualEditorController.prototype),NextendStyleEditorController.prototype.constructor=NextendStyleEditorController,NextendStyleEditorController.prototype.loadDefaults=function(){NextendVisualEditorController.prototype.loadDefaults.call(this),this.type="style",this.preview=null},NextendStyleEditorController.prototype.initPreviewModes=function(){this.previewModes={2:[this.previewModesList.button,this.previewModesList.box],3:[this.previewModesList.paragraph]}},NextendStyleEditorController.prototype.initRenderer=function(){return new NextendStyleRenderer(this)},NextendStyleEditorController.prototype.initEditor=function(){return new NextendStyleEditor},NextendStyleEditorController.prototype._load=function(e,t,i){e.length&&(e[0]=$.extend({},this.getEmptyStyle(),e[0])),NextendVisualEditorController.prototype._load.call(this,e,t,i)},NextendStyleEditorController.prototype.asyncVisualData=function(e,t,i){e.length&&(e[0]=$.extend({},this.getEmptyStyle(),e[0])),NextendVisualEditorController.prototype.asyncVisualData.call(this,e,t,i)},NextendStyleEditorController.prototype.getEmptyStyle=function(){return{backgroundcolor:"ffffff00",opacity:100,padding:"0|*|0|*|0|*|0|*|px",boxshadow:"0|*|0|*|0|*|0|*|000000ff",border:"0|*|solid|*|000000ff",borderradius:"0",extra:""}},NextendStyleEditorController.prototype.getCleanVisual=function(){return{extra:""}},NextendStyleEditorController.prototype.getEmptyVisual=function(){return[this.getEmptyStyle()]},NextendStyleEditorController.prototype.initBackgroundColor=function(){new N2Classes.FormElementText("n2-style-editor-background-color"),new N2Classes.FormElementColor("n2-style-editor-background-color",0);var e=this.lightbox.find(".n2-editor-preview-box");$("#n2-style-editor-background-color").on("nextendChange",function(){e.css("background","#"+$(this).val())})},NextendStyleEditorController.prototype._renderPreview=function(){NextendVisualEditorController.prototype._renderPreview.call(this),this.addStyle(this.renderer.getCSS(this.currentPreviewMode,"","."+this.getPreviewCssClass(),this.currentVisual,{activeTab:this.currentTabIndex}))},NextendStyleEditorController.prototype.setPreview=function(mode){var html="";html="undefined"!=typeof this.localModePreview[mode]&&""!=this.localModePreview[mode]?this.localModePreview[mode]:this.previewModesList[mode].preview;var styleClassName=this.getPreviewCssClass(),fontClassName=nextend.styleManager.fontClassName,fontClassName2=nextend.styleManager.fontClassName2,styleClassName2=nextend.styleManager.styleClassName2;html=html.replace(/\{([^]*?)\}/g,function(match,script){return eval(script)}),this.preview.html(html)},NextendStyleEditorController.prototype.getPreviewCssClass=function(){return"n2-"+this.type+"-editor-preview"},scope.NextendStyleEditorController=NextendStyleEditorController,NextendStyleEditor.prototype=Object.create(NextendVisualEditor.prototype),NextendStyleEditor.prototype.constructor=NextendStyleEditor,NextendStyleEditor.prototype.load=function(e){this._off(),this.fields.backgroundColor.element.data("field").insideChange(e.backgroundcolor),this.fields.opacity.element.data("field").insideChange(e.opacity),this.fields.padding.element.data("field").insideChange(e.padding),this.fields.boxShadow.element.data("field").insideChange(e.boxshadow),this.fields.border.element.data("field").insideChange(e.border),this.fields.borderRadius.element.data("field").insideChange(e.borderradius),this.fields.extracss.element.data("field").insideChange(e.extra),this._on()},NextendStyleEditor.prototype.changeBackgroundColor=function(){this.trigger("backgroundcolor",this.fields.backgroundColor.element.val())},NextendStyleEditor.prototype.changeOpacity=function(){this.trigger("opacity",this.fields.opacity.element.val())},NextendStyleEditor.prototype.changePadding=function(){this.trigger("padding",this.fields.padding.element.val())},NextendStyleEditor.prototype.changeBoxShadow=function(){this.trigger("boxshadow",this.fields.boxShadow.element.val())},NextendStyleEditor.prototype.changeBorder=function(){this.trigger("border",this.fields.border.element.val())},NextendStyleEditor.prototype.changeBorderRadius=function(){this.trigger("borderradius",this.fields.borderRadius.element.val())},NextendStyleEditor.prototype.changeExtraCSS=function(){this.trigger("extra",this.fields.extracss.element.val())},scope.NextendStyleEditor=NextendStyleEditor,NextendStyleRenderer.prototype=Object.create(NextendVisualRenderer.prototype),NextendStyleRenderer.prototype.constructor=NextendStyleRenderer,NextendStyleRenderer.prototype.getCSS=function(e,t,i,n,o){return n[0]=$.extend(this.editorController.getEmptyStyle(),n[0]),NextendVisualRenderer.prototype.getCSS.call(this,e,t,i,n,o)},NextendStyleRenderer.prototype.makeStylebackgroundcolor=function(e,t){t.background="#"+e.substr(0,6)+";\n	background: "+N2Color.hex2rgbaCSS(e)},NextendStyleRenderer.prototype.makeStyleopacity=function(e,t){t.opacity=parseInt(e)/100},NextendStyleRenderer.prototype.makeStylepadding=function(e,t){for(var i=e.split("|*|"),n=i.pop(),o=0;o<i.length;o++)i[o]+=n;t.padding=i.join(" ")},NextendStyleRenderer.prototype.makeStyleboxshadow=function(e,t){var i=e.split("|*|");"0"==i[0]&&"0"==i[1]&&"0"==i[2]&&"0"==i[3]?t.boxShadow="none":t.boxShadow=i[0]+"px "+i[1]+"px "+i[2]+"px "+i[3]+"px "+N2Color.hex2rgbaCSS(i[4])},NextendStyleRenderer.prototype.makeStyleborder=function(e,t){var i=e.split("|*|");t.borderWidth=i[0]+"px",t.borderStyle=i[1],t.borderColor="#"+i[2].substr(0,6)+";\n	border-color:"+N2Color.hex2rgbaCSS(i[2])},NextendStyleRenderer.prototype.makeStyleborderradius=function(e,t){var i=e.split("|*|");i.push(""),t.borderRadius=e+"px"},NextendStyleRenderer.prototype.makeStyleextra=function(e,t){t.raw=e}}(n2,window),function(e,t){function i(t,i,n){this.style=t,this.subset=i,this.fonts=n,e(window).on("n2Family",e.proxy(this.loadFamily,this))}i.prototype.loadFamily=function(t,i){-1!=e.inArray(i,this.fonts)&&e("<link />").attr({rel:"stylesheet",type:"text/css",href:"//fonts.googleapis.com/css?family="+encodeURIComponent(i+":"+this.style)+"&subset="+encodeURIComponent(this.subset)}).appendTo(e("head"))},t.NextendFontServiceGoogle=i}(n2,window);!function(){function t(t,n,i){return t.call.apply(t.bind,arguments)}function n(t,n,i){if(!t)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,e),t.apply(n,i)}}return function(){return t.apply(n,arguments)}}function i(e,o,a){return i=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?t:n,i.apply(null,arguments)}function e(t,n){this.a=t,this.o=n||t,this.c=this.o.document}function o(t,n,i,e){if(n=t.c.createElement(n),i)for(var o in i)i.hasOwnProperty(o)&&("style"==o?n.style.cssText=i[o]:n.setAttribute(o,i[o]));return e&&n.appendChild(t.c.createTextNode(e)),n}function a(t,n,i){t=t.c.getElementsByTagName(n)[0],t||(t=document.documentElement),t.insertBefore(i,t.lastChild)}function s(t){t.parentNode&&t.parentNode.removeChild(t)}function r(t,n,i){n=n||[],i=i||[];for(var e=t.className.split(/\s+/),o=0;o<n.length;o+=1){for(var a=!1,s=0;s<e.length;s+=1)if(n[o]===e[s]){a=!0;break}a||e.push(n[o])}for(n=[],o=0;o<e.length;o+=1){for(a=!1,s=0;s<i.length;s+=1)if(e[o]===i[s]){a=!0;break}a||n.push(e[o])}t.className=n.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function c(t,n){for(var i=t.className.split(/\s+/),e=0,o=i.length;o>e;e++)if(i[e]==n)return!0;return!1}function f(t){return t.o.location.hostname||t.a.location.hostname}function h(t,n,i){function e(){f&&s&&r&&(f(c),f=null)}n=o(t,"link",{rel:"stylesheet",href:n,media:"all"});var s=!1,r=!0,c=null,f=i||null;nt?(n.onload=function(){s=!0,e()},n.onerror=function(){s=!0,c=Error("Stylesheet failed to load"),e()}):setTimeout(function(){s=!0,e()},0),a(t,"head",n)}function l(t,n,i,e){var a=t.c.getElementsByTagName("head")[0];if(a){var s=o(t,"script",{src:n}),r=!1;return s.onload=s.onreadystatechange=function(){r||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(r=!0,i&&i(null),s.onload=s.onreadystatechange=null,"HEAD"==s.parentNode.tagName&&a.removeChild(s))},a.appendChild(s),setTimeout(function(){r||(r=!0,i&&i(Error("Script load timeout")))},e||5e3),s}return null}function u(){this.a=0,this.c=null}function p(t){return t.a++,function(){t.a--,d(t)}}function g(t,n){t.c=n,d(t)}function d(t){0==t.a&&t.c&&(t.c(),t.c=null)}function v(t){this.a=t||"-"}function w(t,n){this.c=t,this.f=4,this.a="n";var i=(n||"n4").match(/^([nio])([1-9])$/i);i&&(this.a=i[1],this.f=parseInt(i[2],10))}function m(t){return j(t)+" "+(t.f+"00")+" 300px "+y(t.c)}function y(t){var n=[];t=t.split(/,\s*/);for(var i=0;i<t.length;i++){var e=t[i].replace(/['"]/g,"");-1!=e.indexOf(" ")||/^\d/.test(e)?n.push("'"+e+"'"):n.push(e)}return n.join(",")}function b(t){return t.a+t.f}function j(t){var n="normal";return"o"===t.a?n="oblique":"i"===t.a&&(n="italic"),n}function x(t){var n=4,i="n",e=null;return t&&((e=t.match(/(normal|oblique|italic)/i))&&e[1]&&(i=e[1].substr(0,1).toLowerCase()),(e=t.match(/([1-9]00|normal|bold)/i))&&e[1]&&(/bold/i.test(e[1])?n=7:/[1-9]00/.test(e[1])&&(n=parseInt(e[1].substr(0,1),10)))),i+n}function _(t,n){this.c=t,this.f=t.o.document.documentElement,this.h=n,this.a=new v("-"),this.j=!1!==n.events,this.g=!1!==n.classes}function k(t){t.g&&r(t.f,[t.a.c("wf","loading")]),S(t,"loading")}function T(t){if(t.g){var n=c(t.f,t.a.c("wf","active")),i=[],e=[t.a.c("wf","loading")];n||i.push(t.a.c("wf","inactive")),r(t.f,i,e)}S(t,"inactive")}function S(t,n,i){t.j&&t.h[n]&&(i?t.h[n](i.c,b(i)):t.h[n]())}function C(){this.c={}}function A(t,n,i){var e,o=[];for(e in n)if(n.hasOwnProperty(e)){var a=t.c[e];a&&o.push(a(n[e],i))}return o}function N(t,n){this.c=t,this.f=n,this.a=o(this.c,"span",{"aria-hidden":"true"},this.f)}function E(t){a(t.c,"body",t.a)}function W(t){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+y(t.c)+";"+("font-style:"+j(t)+";font-weight:"+(t.f+"00")+";")}function F(t,n,i,e,o,a){this.g=t,this.j=n,this.a=e,this.c=i,this.f=o||3e3,this.h=a||void 0}function I(t,n,i,e,o,a,s){this.v=t,this.B=n,this.c=i,this.a=e,this.s=s||"BESbswy",this.f={},this.w=o||3e3,this.u=a||null,this.m=this.j=this.h=this.g=null,this.g=new N(this.c,this.s),this.h=new N(this.c,this.s),this.j=new N(this.c,this.s),this.m=new N(this.c,this.s),t=new w(this.a.c+",serif",b(this.a)),t=W(t),this.g.a.style.cssText=t,t=new w(this.a.c+",sans-serif",b(this.a)),t=W(t),this.h.a.style.cssText=t,t=new w("serif",b(this.a)),t=W(t),this.j.a.style.cssText=t,t=new w("sans-serif",b(this.a)),t=W(t),this.m.a.style.cssText=t,E(this.g),E(this.h),E(this.j),E(this.m)}function O(){if(null===et){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);et=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))}return et}function P(t,n,i){for(var e in it)if(it.hasOwnProperty(e)&&n===t.f[it[e]]&&i===t.f[it[e]])return!0;return!1}function B(t){var n,i=t.g.a.offsetWidth,e=t.h.a.offsetWidth;(n=i===t.f.serif&&e===t.f["sans-serif"])||(n=O()&&P(t,i,e)),n?tt()-t.A>=t.w?O()&&P(t,i,e)&&(null===t.u||t.u.hasOwnProperty(t.a.c))?D(t,t.v):D(t,t.B):L(t):D(t,t.v)}function L(t){setTimeout(i(function(){B(this)},t),50)}function D(t,n){setTimeout(i(function(){s(this.g.a),s(this.h.a),s(this.j.a),s(this.m.a),n(this.a)},t),0)}function $(t,n,i){this.c=t,this.a=n,this.f=0,this.m=this.j=!1,this.s=i}function q(t){0==--t.f&&t.j&&(t.m?(t=t.a,t.g&&r(t.f,[t.a.c("wf","active")],[t.a.c("wf","loading"),t.a.c("wf","inactive")]),S(t,"active")):T(t.a))}function H(t){this.j=t,this.a=new C,this.h=0,this.f=this.g=!0}function M(t,n,e,o,a){var s=0==--t.h;(t.f||t.g)&&setTimeout(function(){var t=a||null,c=o||null||{};if(0===e.length&&s)T(n.a);else{n.f+=e.length,s&&(n.j=s);var f,h=[];for(f=0;f<e.length;f++){var l=e[f],u=c[l.c],p=n.a,g=l;if(p.g&&r(p.f,[p.a.c("wf",g.c,b(g).toString(),"loading")]),S(p,"fontloading",g),p=null,null===ot)if(window.FontFace){var g=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent),d=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);ot=g?42<parseInt(g[1],10):!d}else ot=!1;p=ot?new F(i(n.g,n),i(n.h,n),n.c,l,n.s,u):new I(i(n.g,n),i(n.h,n),n.c,l,n.s,t,u),h.push(p)}for(f=0;f<h.length;f++)h[f].start()}},0)}function z(t,n,i){var e=[],o=i.timeout;k(n);var e=A(t.a,i,t.c),a=new $(t.c,n,o);for(t.h=e.length,n=0,i=e.length;i>n;n++)e[n].load(function(n,i,e){M(t,a,n,i,e)})}function G(t,n){this.c=t,this.a=n}function K(t,n){this.c=t,this.a=n}function R(t,n){t?this.c=t:this.c=at,this.a=[],this.f=[],this.g=n||""}function U(t,n){for(var i=n.length,e=0;i>e;e++){var o=n[e].split(":");3==o.length&&t.f.push(o.pop());var a="";2==o.length&&""!=o[1]&&(a=":"),t.a.push(o.join(a))}}function V(t){if(0==t.a.length)throw Error("No fonts to load!");if(-1!=t.c.indexOf("kit="))return t.c;for(var n=t.a.length,i=[],e=0;n>e;e++)i.push(t.a[e].replace(/ /g,"+"));return n=t.c+"?family="+i.join("%7C"),0<t.f.length&&(n+="&subset="+t.f.join(",")),0<t.g.length&&(n+="&text="+encodeURIComponent(t.g)),n}function X(t){this.f=t,this.a=[],this.c={}}function J(t){for(var n=t.f.length,i=0;n>i;i++){var e=t.f[i].split(":"),o=e[0].replace(/\+/g," "),a=["n4"];if(2<=e.length){var s,r=e[1];if(s=[],r)for(var r=r.split(","),c=r.length,f=0;c>f;f++){var h;if(h=r[f],h.match(/^[\w-]+$/)){var l=ft.exec(h.toLowerCase());if(null==l)h="";else{if(h=l[2],h=null==h||""==h?"n":ct[h],l=l[1],null==l||""==l)l="4";else var u=rt[l],l=u?u:isNaN(l)?"4":l.substr(0,1);h=[h,l].join("")}}else h="";h&&s.push(h)}0<s.length&&(a=s),3==e.length&&(e=e[2],s=[],e=e?e.split(","):s,0<e.length&&(e=st[e[0]])&&(t.c[o]=e))}for(t.c[o]||(e=st[o])&&(t.c[o]=e),e=0;e<a.length;e+=1)t.a.push(new w(o,a[e]))}}function Q(t,n){this.c=t,this.a=n}function Y(t,n){this.c=t,this.a=n}function Z(t,n){this.c=t,this.f=n,this.a=[]}var tt=Date.now||function(){return+new Date},nt=!!window.FontFace;v.prototype.c=function(t){for(var n=[],i=0;i<arguments.length;i++)n.push(arguments[i].replace(/[\W_]+/g,"").toLowerCase());return n.join(this.a)},F.prototype.start=function(){var t=this.c.o.document,n=this,i=tt(),e=new Promise(function(e,o){function a(){tt()-i>=n.f?o():t.fonts.load(m(n.a),n.h).then(function(t){1<=t.length?e():setTimeout(a,25)},function(){o()})}a()}),o=null,a=new Promise(function(t,i){o=setTimeout(i,n.f)});Promise.race([a,e]).then(function(){o&&(clearTimeout(o),o=null),n.g(n.a)},function(){n.j(n.a)})};var it={D:"serif",C:"sans-serif"},et=null;I.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=tt(),B(this)};var ot=null;$.prototype.g=function(t){var n=this.a;n.g&&r(n.f,[n.a.c("wf",t.c,b(t).toString(),"active")],[n.a.c("wf",t.c,b(t).toString(),"loading"),n.a.c("wf",t.c,b(t).toString(),"inactive")]),S(n,"fontactive",t),this.m=!0,q(this)},$.prototype.h=function(t){var n=this.a;if(n.g){var i=c(n.f,n.a.c("wf",t.c,b(t).toString(),"active")),e=[],o=[n.a.c("wf",t.c,b(t).toString(),"loading")];i||e.push(n.a.c("wf",t.c,b(t).toString(),"inactive")),r(n.f,e,o)}S(n,"fontinactive",t),q(this)},H.prototype.load=function(t){this.c=new e(this.j,t.context||this.j),this.g=!1!==t.events,this.f=!1!==t.classes,z(this,new _(this.c,t),t)},G.prototype.load=function(t){function n(){if(a["__mti_fntLst"+e]){var i,o=a["__mti_fntLst"+e](),s=[];if(o)for(var r=0;r<o.length;r++){var c=o[r].fontfamily;void 0!=o[r].fontStyle&&void 0!=o[r].fontWeight?(i=o[r].fontStyle+o[r].fontWeight,s.push(new w(c,i))):s.push(new w(c))}t(s)}else setTimeout(function(){n()},50)}var i=this,e=i.a.projectId,o=i.a.version;if(e){var a=i.c.o;l(this.c,(i.a.api||"https://fast.fonts.net/jsapi")+"/"+e+".js"+(o?"?v="+o:""),function(o){o?t([]):(a["__MonotypeConfiguration__"+e]=function(){return i.a},n())}).id="__MonotypeAPIScript__"+e}else t([])},K.prototype.load=function(t){var n,i,e=this.a.urls||[],o=this.a.families||[],a=this.a.testStrings||{},s=new u;for(n=0,i=e.length;i>n;n++)h(this.c,e[n],p(s));var r=[];for(n=0,i=o.length;i>n;n++)if(e=o[n].split(":"),e[1])for(var c=e[1].split(","),f=0;f<c.length;f+=1)r.push(new w(e[0],c[f]));else r.push(new w(e[0]));g(s,function(){t(r,a)})};var at="https://fonts.googleapis.com/css",st={latin:"BESbswy","latin-ext":"",cyrillic:"",greek:"",khmer:"",Hanuman:""},rt={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},ct={i:"i",italic:"i",n:"n",normal:"n"},ft=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/,ht={Arimo:!0,Cousine:!0,Tinos:!0};Q.prototype.load=function(t){var n=new u,i=this.c,e=new R(this.a.api,this.a.text),o=this.a.families;U(e,o);var a=new X(o);J(a),h(i,V(e),p(n)),g(n,function(){t(a.a,a.c,ht)})},Y.prototype.load=function(t){var n=this.a.id,i=this.c.o;n?l(this.c,(this.a.api||"https://use.typekit.net")+"/"+n+".js",function(n){if(n)t([]);else if(i.Typekit&&i.Typekit.config&&i.Typekit.config.fn){n=i.Typekit.config.fn;for(var e=[],o=0;o<n.length;o+=2)for(var a=n[o],s=n[o+1],r=0;r<s.length;r++)e.push(new w(a,s[r]));try{i.Typekit.load({events:!1,classes:!1,async:!0})}catch(c){}t(e)}},2e3):t([])},Z.prototype.load=function(t){var n=this.f.id,i=this.c.o,e=this;n?(i.__webfontfontdeckmodule__||(i.__webfontfontdeckmodule__={}),i.__webfontfontdeckmodule__[n]=function(n,i){for(var o=0,a=i.fonts.length;a>o;++o){var s=i.fonts[o];e.a.push(new w(s.name,x("font-weight:"+s.weight+";font-style:"+s.style)))}t(e.a)},l(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+f(this.c)+"/"+n+".js",function(n){n&&t([])})):t([])};var lt=new H(window);lt.a.c.custom=function(t,n){return new K(n,t)},lt.a.c.fontdeck=function(t,n){return new Z(n,t)},lt.a.c.monotype=function(t,n){return new G(n,t)},lt.a.c.typekit=function(t,n){return new Y(n,t)},lt.a.c.google=function(t,n){return new Q(n,t)};var ut={load:i(lt.load,lt)};window.WebFont=ut,window.WebFontConfig&&lt.load(window.WebFontConfig)}();